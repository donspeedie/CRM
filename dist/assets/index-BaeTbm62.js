var Zg=t=>{throw TypeError(t)};var jd=(t,e,n)=>e.has(t)||Zg("Cannot "+n);var F=(t,e,n)=>(jd(t,e,"read from private field"),n?n.call(t):e.get(t)),me=(t,e,n)=>e.has(t)?Zg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(jd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(jd(t,e,"access private method"),n);var Ol=(t,e,n,r)=>({set _(s){ne(t,e,s,n)},get _(){return F(t,e,r)}});function yI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function k0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D0={exports:{}},Cc={},O0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),vI=Symbol.for("react.portal"),wI=Symbol.for("react.fragment"),_I=Symbol.for("react.strict_mode"),EI=Symbol.for("react.profiler"),xI=Symbol.for("react.provider"),TI=Symbol.for("react.context"),SI=Symbol.for("react.forward_ref"),II=Symbol.for("react.suspense"),AI=Symbol.for("react.memo"),bI=Symbol.for("react.lazy"),ey=Symbol.iterator;function CI(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var V0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M0=Object.assign,L0={};function So(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||V0}So.prototype.isReactComponent={};So.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};So.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F0(){}F0.prototype=So.prototype;function yp(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||V0}var vp=yp.prototype=new F0;vp.constructor=yp;M0(vp,So.prototype);vp.isPureReactComponent=!0;var ty=Array.isArray,j0=Object.prototype.hasOwnProperty,wp={current:null},$0={key:!0,ref:!0,__self:!0,__source:!0};function B0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)j0.call(e,r)&&!$0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ol,type:t,key:i,ref:o,props:s,_owner:wp.current}}function RI(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _p(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function PI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ny=/\/+/g;function $d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PI(""+t.key):e.toString(36)}function hu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ol:case vI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$d(o,0):r,ty(s)?(n="",t!=null&&(n=t.replace(ny,"$&/")+"/"),hu(s,e,n,"",function(c){return c})):s!=null&&(_p(s)&&(s=RI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ny,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ty(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+$d(i,a);o+=hu(i,e,n,u,s)}else if(u=CI(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+$d(i,a++),o+=hu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vl(t,e,n){if(t==null)return t;var r=[],s=0;return hu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function NI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},fu={transition:null},kI={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:fu,ReactCurrentOwner:wp};function U0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Vl,forEach:function(t,e,n){Vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!_p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=So;he.Fragment=wI;he.Profiler=EI;he.PureComponent=yp;he.StrictMode=_I;he.Suspense=II;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI;he.act=U0;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=M0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=wp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)j0.call(e,u)&&!$0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ol,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:TI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xI,_context:t},t.Consumer=t};he.createElement=B0;he.createFactory=function(t){var e=B0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:SI,render:t}};he.isValidElement=_p;he.lazy=function(t){return{$$typeof:bI,_payload:{_status:-1,_result:t},_init:NI}};he.memo=function(t,e){return{$$typeof:AI,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=fu.transition;fu.transition={};try{t()}finally{fu.transition=e}};he.unstable_act=U0;he.useCallback=function(t,e){return Nt.current.useCallback(t,e)};he.useContext=function(t){return Nt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Nt.current.useEffect(t,e)};he.useId=function(){return Nt.current.useId()};he.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Nt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};he.useRef=function(t){return Nt.current.useRef(t)};he.useState=function(t){return Nt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Nt.current.useTransition()};he.version="18.3.1";O0.exports=he;var b=O0.exports;const W=k0(b),Ep=yI({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI=b,OI=Symbol.for("react.element"),VI=Symbol.for("react.fragment"),MI=Object.prototype.hasOwnProperty,LI=DI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FI={key:!0,ref:!0,__self:!0,__source:!0};function z0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MI.call(e,r)&&!FI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:OI,type:t,key:i,ref:o,props:s,_owner:LI.current}}Cc.Fragment=VI;Cc.jsx=z0;Cc.jsxs=z0;D0.exports=Cc;var w=D0.exports,H0={exports:{}},en={},W0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var G=j.length;j.push(U);e:for(;0<G;){var re=G-1>>>1,X=j[re];if(0<s(X,U))j[re]=U,j[G]=X,G=re;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],G=j.pop();if(G!==U){j[0]=G;e:for(var re=0,X=j.length,ce=X>>>1;re<ce;){var le=2*(re+1)-1,Oe=j[le],qe=le+1,ge=j[qe];if(0>s(Oe,G))qe<X&&0>s(ge,Oe)?(j[re]=ge,j[qe]=G,re=qe):(j[re]=Oe,j[le]=G,re=le);else if(qe<X&&0>s(ge,G))j[re]=ge,j[qe]=G,re=qe;else break e}}return U}function s(j,U){var G=j.sortIndex-U.sortIndex;return G!==0?G:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,p=3,g=!1,A=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function D(j){if(_=!1,x(j),!A)if(n(u)!==null)A=!0,te(O);else{var U=n(c);U!==null&&oe(D,U.startTime-j)}}function O(j,U){A=!1,_&&(_=!1,v(E),E=-1),g=!0;var G=p;try{for(x(U),f=n(u);f!==null&&(!(f.expirationTime>U)||j&&!N());){var re=f.callback;if(typeof re=="function"){f.callback=null,p=f.priorityLevel;var X=re(f.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),x(U)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var le=n(c);le!==null&&oe(D,le.startTime-U),ce=!1}return ce}finally{f=null,p=G,g=!1}}var M=!1,T=null,E=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function k(){if(T!==null){var j=t.unstable_now();P=j;var U=!0;try{U=T(!0,j)}finally{U?R():(M=!1,T=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=k,R=function(){ie.postMessage(null)}}else R=function(){I(k,0)};function te(j){T=j,M||(M=!0,R())}function oe(j,U){E=I(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){A||g||(A=!0,te(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var G=p;p=U;try{return j()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=p;p=j;try{return U()}finally{p=G}},t.unstable_scheduleCallback=function(j,U,G){var re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,j={id:d++,callback:U,priorityLevel:j,startTime:G,expirationTime:X,sortIndex:-1},G>re?(j.sortIndex=G,e(c,j),n(u)===null&&j===n(c)&&(_?(v(E),E=-1):_=!0,oe(D,G-re))):(j.sortIndex=X,e(u,j),A||g||(A=!0,te(O))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var U=p;return function(){var G=p;p=U;try{return j.apply(this,arguments)}finally{p=G}}}})(q0);W0.exports=q0;var jI=W0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I=b,Zt=jI;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G0=new Set,Ca={};function di(t,e){ao(t,e),ao(t+"Capture",e)}function ao(t,e){for(Ca[t]=e,t=0;t<e.length;t++)G0.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,BI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ry={},sy={};function UI(t){return Mh.call(sy,t)?!0:Mh.call(ry,t)?!1:BI.test(t)?sy[t]=!0:(ry[t]=!0,!1)}function zI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HI(t,e,n,r){if(e===null||typeof e>"u"||zI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xp=/[\-:]([a-z])/g;function Tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xp,Tp);mt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xp,Tp);mt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xp,Tp);mt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sp(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HI(e,n,s,r)&&(n=null),r||s===null?UI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=$I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),jh=Symbol.for("react.suspense_list"),bp=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),Y0=Symbol.for("react.offscreen"),iy=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=iy&&t[iy]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Bd;function oa(t){if(Bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var Ud=!1;function zd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function WI(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function $h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Ci:return"Portal";case Lh:return"Profiler";case Ip:return"StrictMode";case Fh:return"Suspense";case jh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K0:return(t.displayName||"Context")+".Consumer";case Q0:return(t._context.displayName||"Context")+".Provider";case Ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bp:return e=t.displayName||null,e!==null?e:$h(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return $h(t(e))}catch{}}return null}function qI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $h(e);case 8:return e===Ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GI(t){var e=X0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ll(t){t._valueTracker||(t._valueTracker=GI(t))}function J0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bh(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z0(t,e){e=e.checked,e!=null&&Sp(t,"checked",e,!1)}function Uh(t,e){Z0(t,e);var n=ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&zh(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ay(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zh(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var aa=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ly(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(aa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ms(n)}}function e_(t,e){var n=ms(e.value),r=ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function t_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?t_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fl,n_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fl=Fl||document.createElement("div"),Fl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QI=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){QI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function r_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function s_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=r_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var KI=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qh(t,e){if(e){if(KI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=null;function Cp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kh=null,Bi=null,Ui=null;function cy(t){if(t=ul(t)){if(typeof Kh!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Dc(e),Kh(t.stateNode,t.type,e))}}function i_(t){Bi?Ui?Ui.push(t):Ui=[t]:Bi=t}function o_(){if(Bi){var t=Bi,e=Ui;if(Ui=Bi=null,cy(t),e)for(t=0;t<e.length;t++)cy(e[t])}}function a_(t,e){return t(e)}function l_(){}var Hd=!1;function u_(t,e,n){if(Hd)return t(e,n);Hd=!0;try{return a_(t,e,n)}finally{Hd=!1,(Bi!==null||Ui!==null)&&(l_(),o_())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Dc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Yh=!1;if(wr)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Yh=!1}function YI(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var pa=!1,Vu=null,Mu=!1,Xh=null,XI={onError:function(t){pa=!0,Vu=t}};function JI(t,e,n,r,s,i,o,a,u){pa=!1,Vu=null,YI.apply(XI,arguments)}function ZI(t,e,n,r,s,i,o,a,u){if(JI.apply(this,arguments),pa){if(pa){var c=Vu;pa=!1,Vu=null}else throw Error(z(198));Mu||(Mu=!0,Xh=c)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dy(t){if(hi(t)!==t)throw Error(z(188))}function eA(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dy(s),t;if(i===r)return dy(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function d_(t){return t=eA(t),t!==null?h_(t):null}function h_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=h_(t);if(e!==null)return e;t=t.sibling}return null}var f_=Zt.unstable_scheduleCallback,hy=Zt.unstable_cancelCallback,tA=Zt.unstable_shouldYield,nA=Zt.unstable_requestPaint,We=Zt.unstable_now,rA=Zt.unstable_getCurrentPriorityLevel,Rp=Zt.unstable_ImmediatePriority,p_=Zt.unstable_UserBlockingPriority,Lu=Zt.unstable_NormalPriority,sA=Zt.unstable_LowPriority,m_=Zt.unstable_IdlePriority,Rc=null,Kn=null;function iA(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Rc,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:lA,oA=Math.log,aA=Math.LN2;function lA(t){return t>>>=0,t===0?32:31-(oA(t)/aA|0)|0}var jl=64,$l=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=la(a):(i&=o,i!==0&&(r=la(i)))}else o=n&~s,o!==0?r=la(o):i!==0&&(r=la(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),s=1<<n,r|=t[n],e&=~s;return r}function uA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-An(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=uA(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Jh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g_(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function Wd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function dA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-An(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function y_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var v_,Np,w_,__,E_,Zh=!1,Bl=[],ns=null,rs=null,ss=null,Na=new Map,ka=new Map,Hr=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fy(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(e.pointerId)}}function Jo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ul(e),e!==null&&Np(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fA(t,e,n,r,s){switch(e){case"focusin":return ns=Jo(ns,t,e,n,r,s),!0;case"dragenter":return rs=Jo(rs,t,e,n,r,s),!0;case"mouseover":return ss=Jo(ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Na.set(i,Jo(Na.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ka.set(i,Jo(ka.get(i)||null,t,e,n,r,s)),!0}return!1}function x_(t){var e=Us(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=c_(n),e!==null){t.blockedOn=e,E_(t.priority,function(){w_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ef(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qh=r,n.target.dispatchEvent(r),Qh=null}else return e=ul(n),e!==null&&Np(e),t.blockedOn=n,!1;e.shift()}return!0}function py(t,e,n){pu(t)&&n.delete(e)}function pA(){Zh=!1,ns!==null&&pu(ns)&&(ns=null),rs!==null&&pu(rs)&&(rs=null),ss!==null&&pu(ss)&&(ss=null),Na.forEach(py),ka.forEach(py)}function Zo(t,e){t.blockedOn===e&&(t.blockedOn=null,Zh||(Zh=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,pA)))}function Da(t){function e(s){return Zo(s,t)}if(0<Bl.length){Zo(Bl[0],t);for(var n=1;n<Bl.length;n++){var r=Bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&Zo(ns,t),rs!==null&&Zo(rs,t),ss!==null&&Zo(ss,t),Na.forEach(e),ka.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)x_(n),n.blockedOn===null&&Hr.shift()}var zi=Cr.ReactCurrentBatchConfig,ju=!0;function mA(t,e,n,r){var s=Te,i=zi.transition;zi.transition=null;try{Te=1,kp(t,e,n,r)}finally{Te=s,zi.transition=i}}function gA(t,e,n,r){var s=Te,i=zi.transition;zi.transition=null;try{Te=4,kp(t,e,n,r)}finally{Te=s,zi.transition=i}}function kp(t,e,n,r){if(ju){var s=ef(t,e,n,r);if(s===null)th(t,e,r,$u,n),fy(t,r);else if(fA(s,t,e,n,r))r.stopPropagation();else if(fy(t,r),e&4&&-1<hA.indexOf(t)){for(;s!==null;){var i=ul(s);if(i!==null&&v_(i),i=ef(t,e,n,r),i===null&&th(t,e,r,$u,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else th(t,e,r,null,n)}}var $u=null;function ef(t,e,n,r){if($u=null,t=Cp(r),t=Us(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=c_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $u=t,null}function T_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rA()){case Rp:return 1;case p_:return 4;case Lu:case sA:return 16;case m_:return 536870912;default:return 16}default:return 16}}var Jr=null,Dp=null,mu=null;function S_(){if(mu)return mu;var t,e=Dp,n=e.length,r,s="value"in Jr?Jr.value:Jr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mu=s.slice(t,1<r?1-r:void 0)}function gu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function my(){return!1}function tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ul:my,this.isPropagationStopped=my,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),e}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=tn(Io),ll=je({},Io,{view:0,detail:0}),yA=tn(ll),qd,Gd,ea,Pc=je({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(qd=t.screenX-ea.screenX,Gd=t.screenY-ea.screenY):Gd=qd=0,ea=t),qd)},movementY:function(t){return"movementY"in t?t.movementY:Gd}}),gy=tn(Pc),vA=je({},Pc,{dataTransfer:0}),wA=tn(vA),_A=je({},ll,{relatedTarget:0}),Qd=tn(_A),EA=je({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=tn(EA),TA=je({},Io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SA=tn(TA),IA=je({},Io,{data:0}),yy=tn(IA),AA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CA[t])?!!e[t]:!1}function Vp(){return RA}var PA=je({},ll,{key:function(t){if(t.key){var e=AA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(t){return t.type==="keypress"?gu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NA=tn(PA),kA=je({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vy=tn(kA),DA=je({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),OA=tn(DA),VA=je({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),MA=tn(VA),LA=je({},Pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FA=tn(LA),jA=[9,13,27,32],Mp=wr&&"CompositionEvent"in window,ma=null;wr&&"documentMode"in document&&(ma=document.documentMode);var $A=wr&&"TextEvent"in window&&!ma,I_=wr&&(!Mp||ma&&8<ma&&11>=ma),wy=" ",_y=!1;function A_(t,e){switch(t){case"keyup":return jA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function BA(t,e){switch(t){case"compositionend":return b_(e);case"keypress":return e.which!==32?null:(_y=!0,wy);case"textInput":return t=e.data,t===wy&&_y?null:t;default:return null}}function UA(t,e){if(Pi)return t==="compositionend"||!Mp&&A_(t,e)?(t=S_(),mu=Dp=Jr=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I_&&e.locale!=="ko"?null:e.data;default:return null}}var zA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zA[t.type]:e==="textarea"}function C_(t,e,n,r){i_(r),e=Bu(e,"onChange"),0<e.length&&(n=new Op("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,Oa=null;function HA(t){j_(t,0)}function Nc(t){var e=Di(t);if(J0(e))return t}function WA(t,e){if(t==="change")return e}var R_=!1;if(wr){var Kd;if(wr){var Yd="oninput"in document;if(!Yd){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),Yd=typeof xy.oninput=="function"}Kd=Yd}else Kd=!1;R_=Kd&&(!document.documentMode||9<document.documentMode)}function Ty(){ga&&(ga.detachEvent("onpropertychange",P_),Oa=ga=null)}function P_(t){if(t.propertyName==="value"&&Nc(Oa)){var e=[];C_(e,Oa,t,Cp(t)),u_(HA,e)}}function qA(t,e,n){t==="focusin"?(Ty(),ga=e,Oa=n,ga.attachEvent("onpropertychange",P_)):t==="focusout"&&Ty()}function GA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nc(Oa)}function QA(t,e){if(t==="click")return Nc(e)}function KA(t,e){if(t==="input"||t==="change")return Nc(e)}function YA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:YA;function Va(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mh.call(e,s)||!Cn(t[s],e[s]))return!1}return!0}function Sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iy(t,e){var n=Sy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sy(n)}}function N_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k_(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XA(t){var e=k_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&N_(n.ownerDocument.documentElement,n)){if(r!==null&&Lp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Iy(n,i);var o=Iy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JA=wr&&"documentMode"in document&&11>=document.documentMode,Ni=null,tf=null,ya=null,nf=!1;function Ay(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nf||Ni==null||Ni!==Ou(r)||(r=Ni,"selectionStart"in r&&Lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&Va(ya,r)||(ya=r,r=Bu(tf,"onSelect"),0<r.length&&(e=new Op("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ni)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ki={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Xd={},D_={};wr&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function kc(t){if(Xd[t])return Xd[t];if(!ki[t])return t;var e=ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D_)return Xd[t]=e[n];return t}var O_=kc("animationend"),V_=kc("animationiteration"),M_=kc("animationstart"),L_=kc("transitionend"),F_=new Map,by="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){F_.set(t,e),di(e,[t])}for(var Jd=0;Jd<by.length;Jd++){var Zd=by[Jd],ZA=Zd.toLowerCase(),eb=Zd[0].toUpperCase()+Zd.slice(1);Cs(ZA,"on"+eb)}Cs(O_,"onAnimationEnd");Cs(V_,"onAnimationIteration");Cs(M_,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(L_,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function Cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZI(r,e,void 0,t),t.currentTarget=null}function j_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Cy(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Cy(s,a,c),i=u}}}if(Mu)throw t=Xh,Mu=!1,Xh=null,t}function Pe(t,e){var n=e[lf];n===void 0&&(n=e[lf]=new Set);var r=t+"__bubble";n.has(r)||($_(e,t,2,!1),n.add(r))}function eh(t,e,n){var r=0;e&&(r|=4),$_(n,t,r,e)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Ma(t){if(!t[Hl]){t[Hl]=!0,G0.forEach(function(n){n!=="selectionchange"&&(tb.has(n)||eh(n,!1,t),eh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hl]||(e[Hl]=!0,eh("selectionchange",!1,e))}}function $_(t,e,n,r){switch(T_(e)){case 1:var s=mA;break;case 4:s=gA;break;default:s=kp}n=s.bind(null,e,n,t),s=void 0,!Yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function th(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Us(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}u_(function(){var c=i,d=Cp(n),f=[];e:{var p=F_.get(t);if(p!==void 0){var g=Op,A=t;switch(t){case"keypress":if(gu(n)===0)break e;case"keydown":case"keyup":g=NA;break;case"focusin":A="focus",g=Qd;break;case"focusout":A="blur",g=Qd;break;case"beforeblur":case"afterblur":g=Qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OA;break;case O_:case V_:case M_:g=xA;break;case L_:g=MA;break;case"scroll":g=yA;break;case"wheel":g=FA;break;case"copy":case"cut":case"paste":g=SA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vy}var _=(e&4)!==0,I=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var y=c,x;y!==null;){x=y;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,v!==null&&(D=Pa(y,v),D!=null&&_.push(La(y,D,x)))),I)break;y=y.return}0<_.length&&(p=new g(p,A,null,n,d),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Qh&&(A=n.relatedTarget||n.fromElement)&&(Us(A)||A[_r]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(A=n.relatedTarget||n.toElement,g=c,A=A?Us(A):null,A!==null&&(I=hi(A),A!==I||A.tag!==5&&A.tag!==6)&&(A=null)):(g=null,A=c),g!==A)){if(_=gy,D="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=vy,D="onPointerLeave",v="onPointerEnter",y="pointer"),I=g==null?p:Di(g),x=A==null?p:Di(A),p=new _(D,y+"leave",g,n,d),p.target=I,p.relatedTarget=x,D=null,Us(d)===c&&(_=new _(v,y+"enter",A,n,d),_.target=x,_.relatedTarget=I,D=_),I=D,g&&A)t:{for(_=g,v=A,y=0,x=_;x;x=Ti(x))y++;for(x=0,D=v;D;D=Ti(D))x++;for(;0<y-x;)_=Ti(_),y--;for(;0<x-y;)v=Ti(v),x--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=Ti(_),v=Ti(v)}_=null}else _=null;g!==null&&Ry(f,p,g,_,!1),A!==null&&I!==null&&Ry(f,I,A,_,!0)}}e:{if(p=c?Di(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=WA;else if(Ey(p))if(R_)O=KA;else{O=GA;var M=qA}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=QA);if(O&&(O=O(t,c))){C_(f,O,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&zh(p,"number",p.value)}switch(M=c?Di(c):window,t){case"focusin":(Ey(M)||M.contentEditable==="true")&&(Ni=M,tf=c,ya=null);break;case"focusout":ya=tf=Ni=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Ay(f,n,d);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":Ay(f,n,d)}var T;if(Mp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Pi?A_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(I_&&n.locale!=="ko"&&(Pi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Pi&&(T=S_()):(Jr=d,Dp="value"in Jr?Jr.value:Jr.textContent,Pi=!0)),M=Bu(c,E),0<M.length&&(E=new yy(E,t,null,n,d),f.push({event:E,listeners:M}),T?E.data=T:(T=b_(n),T!==null&&(E.data=T)))),(T=$A?BA(t,n):UA(t,n))&&(c=Bu(c,"onBeforeInput"),0<c.length&&(d=new yy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}j_(f,e)})}function La(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pa(t,n),i!=null&&r.unshift(La(t,i,s)),i=Pa(t,e),i!=null&&r.push(La(t,i,s))),t=t.return}return r}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ry(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Pa(n,i),u!=null&&o.unshift(La(n,u,a))):s||(u=Pa(n,i),u!=null&&o.push(La(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function Py(t){return(typeof t=="string"?t:""+t).replace(nb,`
`).replace(rb,"")}function Wl(t,e,n){if(e=Py(e),Py(t)!==e&&n)throw Error(z(425))}function Uu(){}var rf=null,sf=null;function of(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(ob)}:af;function ob(t){setTimeout(function(){throw t})}function nh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Da(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ky(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ao,Fa="__reactProps$"+Ao,_r="__reactContainer$"+Ao,lf="__reactEvents$"+Ao,ab="__reactListeners$"+Ao,lb="__reactHandles$"+Ao;function Us(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ky(t);t!==null;){if(n=t[Gn])return n;t=ky(t)}return e}t=n,n=t.parentNode}return null}function ul(t){return t=t[Gn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Dc(t){return t[Fa]||null}var uf=[],Oi=-1;function Rs(t){return{current:t}}function De(t){0>Oi||(t.current=uf[Oi],uf[Oi]=null,Oi--)}function be(t,e){Oi++,uf[Oi]=t.current,t.current=e}var gs={},St=Rs(gs),jt=Rs(!1),ti=gs;function lo(t,e){var n=t.type.contextTypes;if(!n)return gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function zu(){De(jt),De(St)}function Dy(t,e,n){if(St.current!==gs)throw Error(z(168));be(St,e),be(jt,n)}function B_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,qI(t)||"Unknown",s));return je({},n,r)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,ti=St.current,be(St,t),be(jt,jt.current),!0}function Oy(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=B_(t,e,ti),r.__reactInternalMemoizedMergedChildContext=t,De(jt),De(St),be(St,t)):De(jt),be(jt,n)}var fr=null,Oc=!1,rh=!1;function U_(t){fr===null?fr=[t]:fr.push(t)}function ub(t){Oc=!0,U_(t)}function Ps(){if(!rh&&fr!==null){rh=!0;var t=0,e=Te;try{var n=fr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Oc=!1}catch(s){throw fr!==null&&(fr=fr.slice(t+1)),f_(Rp,Ps),s}finally{Te=e,rh=!1}}return null}var Vi=[],Mi=0,Wu=null,qu=0,on=[],an=0,ni=null,mr=1,gr="";function js(t,e){Vi[Mi++]=qu,Vi[Mi++]=Wu,Wu=t,qu=e}function z_(t,e,n){on[an++]=mr,on[an++]=gr,on[an++]=ni,ni=t;var r=mr;t=gr;var s=32-An(r)-1;r&=~(1<<s),n+=1;var i=32-An(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,mr=1<<32-An(e)+s|n<<s|r,gr=i+t}else mr=1<<i|n<<s|r,gr=t}function Fp(t){t.return!==null&&(js(t,1),z_(t,1,0))}function jp(t){for(;t===Wu;)Wu=Vi[--Mi],Vi[Mi]=null,qu=Vi[--Mi],Vi[Mi]=null;for(;t===ni;)ni=on[--an],on[an]=null,gr=on[--an],on[an]=null,mr=on[--an],on[an]=null}var Yt=null,Kt=null,Ve=!1,Sn=null;function H_(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ni!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Kt=null,!0):!1;default:return!1}}function cf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function df(t){if(Ve){var e=Kt;if(e){var n=e;if(!Vy(t,e)){if(cf(t))throw Error(z(418));e=is(n.nextSibling);var r=Yt;e&&Vy(t,e)?H_(r,n):(t.flags=t.flags&-4097|2,Ve=!1,Yt=t)}}else{if(cf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ve=!1,Yt=t}}}function My(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function ql(t){if(t!==Yt)return!1;if(!Ve)return My(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!of(t.type,t.memoizedProps)),e&&(e=Kt)){if(cf(t))throw W_(),Error(z(418));for(;e;)H_(t,e),e=is(e.nextSibling)}if(My(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Yt?is(t.stateNode.nextSibling):null;return!0}function W_(){for(var t=Kt;t;)t=is(t.nextSibling)}function uo(){Kt=Yt=null,Ve=!1}function $p(t){Sn===null?Sn=[t]:Sn.push(t)}var cb=Cr.ReactCurrentBatchConfig;function ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Gl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ly(t){var e=t._init;return e(t._payload)}function q_(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=us(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,D){return y===null||y.tag!==6?(y=ch(x,v.mode,D),y.return=v,y):(y=s(y,x),y.return=v,y)}function u(v,y,x,D){var O=x.type;return O===Ri?d(v,y,x.props.children,D,x.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ur&&Ly(O)===y.type)?(D=s(y,x.props),D.ref=ta(v,y,x),D.return=v,D):(D=Tu(x.type,x.key,x.props,null,v.mode,D),D.ref=ta(v,y,x),D.return=v,D)}function c(v,y,x,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=dh(x,v.mode,D),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,D,O){return y===null||y.tag!==7?(y=ei(x,v.mode,D,O),y.return=v,y):(y=s(y,x),y.return=v,y)}function f(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ch(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ml:return x=Tu(y.type,y.key,y.props,null,v.mode,x),x.ref=ta(v,null,y),x.return=v,x;case Ci:return y=dh(y,v.mode,x),y.return=v,y;case Ur:var D=y._init;return f(v,D(y._payload),x)}if(aa(y)||Yo(y))return y=ei(y,v.mode,x,null),y.return=v,y;Gl(v,y)}return null}function p(v,y,x,D){var O=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(v,y,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ml:return x.key===O?u(v,y,x,D):null;case Ci:return x.key===O?c(v,y,x,D):null;case Ur:return O=x._init,p(v,y,O(x._payload),D)}if(aa(x)||Yo(x))return O!==null?null:d(v,y,x,D,null);Gl(v,x)}return null}function g(v,y,x,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(x)||null,a(y,v,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ml:return v=v.get(D.key===null?x:D.key)||null,u(y,v,D,O);case Ci:return v=v.get(D.key===null?x:D.key)||null,c(y,v,D,O);case Ur:var M=D._init;return g(v,y,x,M(D._payload),O)}if(aa(D)||Yo(D))return v=v.get(x)||null,d(y,v,D,O,null);Gl(y,D)}return null}function A(v,y,x,D){for(var O=null,M=null,T=y,E=y=0,C=null;T!==null&&E<x.length;E++){T.index>E?(C=T,T=null):C=T.sibling;var P=p(v,T,x[E],D);if(P===null){T===null&&(T=C);break}t&&T&&P.alternate===null&&e(v,T),y=i(P,y,E),M===null?O=P:M.sibling=P,M=P,T=C}if(E===x.length)return n(v,T),Ve&&js(v,E),O;if(T===null){for(;E<x.length;E++)T=f(v,x[E],D),T!==null&&(y=i(T,y,E),M===null?O=T:M.sibling=T,M=T);return Ve&&js(v,E),O}for(T=r(v,T);E<x.length;E++)C=g(T,v,E,x[E],D),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?E:C.key),y=i(C,y,E),M===null?O=C:M.sibling=C,M=C);return t&&T.forEach(function(N){return e(v,N)}),Ve&&js(v,E),O}function _(v,y,x,D){var O=Yo(x);if(typeof O!="function")throw Error(z(150));if(x=O.call(x),x==null)throw Error(z(151));for(var M=O=null,T=y,E=y=0,C=null,P=x.next();T!==null&&!P.done;E++,P=x.next()){T.index>E?(C=T,T=null):C=T.sibling;var N=p(v,T,P.value,D);if(N===null){T===null&&(T=C);break}t&&T&&N.alternate===null&&e(v,T),y=i(N,y,E),M===null?O=N:M.sibling=N,M=N,T=C}if(P.done)return n(v,T),Ve&&js(v,E),O;if(T===null){for(;!P.done;E++,P=x.next())P=f(v,P.value,D),P!==null&&(y=i(P,y,E),M===null?O=P:M.sibling=P,M=P);return Ve&&js(v,E),O}for(T=r(v,T);!P.done;E++,P=x.next())P=g(T,v,E,P.value,D),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?E:P.key),y=i(P,y,E),M===null?O=P:M.sibling=P,M=P);return t&&T.forEach(function(k){return e(v,k)}),Ve&&js(v,E),O}function I(v,y,x,D){if(typeof x=="object"&&x!==null&&x.type===Ri&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ml:e:{for(var O=x.key,M=y;M!==null;){if(M.key===O){if(O=x.type,O===Ri){if(M.tag===7){n(v,M.sibling),y=s(M,x.props.children),y.return=v,v=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ur&&Ly(O)===M.type){n(v,M.sibling),y=s(M,x.props),y.ref=ta(v,M,x),y.return=v,v=y;break e}n(v,M);break}else e(v,M);M=M.sibling}x.type===Ri?(y=ei(x.props.children,v.mode,D,x.key),y.return=v,v=y):(D=Tu(x.type,x.key,x.props,null,v.mode,D),D.ref=ta(v,y,x),D.return=v,v=D)}return o(v);case Ci:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=dh(x,v.mode,D),y.return=v,v=y}return o(v);case Ur:return M=x._init,I(v,y,M(x._payload),D)}if(aa(x))return A(v,y,x,D);if(Yo(x))return _(v,y,x,D);Gl(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,x),y.return=v,v=y):(n(v,y),y=ch(x,v.mode,D),y.return=v,v=y),o(v)):n(v,y)}return I}var co=q_(!0),G_=q_(!1),Gu=Rs(null),Qu=null,Li=null,Bp=null;function Up(){Bp=Li=Qu=null}function zp(t){var e=Gu.current;De(Gu),t._currentValue=e}function hf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hi(t,e){Qu=t,Bp=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Bp!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(Qu===null)throw Error(z(308));Li=t,Qu.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var zs=null;function Hp(t){zs===null?zs=[t]:zs.push(t)}function Q_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Hp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Er(t,r)}function Er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function Wp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Er(t,n)}return s=r.interleaved,s===null?(e.next=e,Hp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Er(t,n)}function yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function Fy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ku(t,e,n,r){var s=t.updateQueue;zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,_=a;switch(p=e,g=n,_.tag){case 1:if(A=_.payload,typeof A=="function"){f=A.call(g,f,p);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=_.payload,p=typeof A=="function"?A.call(g,f,p):A,p==null)break e;f=je({},f,p);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);si|=o,t.lanes=o,t.memoizedState=f}}function jy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var cl={},Yn=Rs(cl),ja=Rs(cl),$a=Rs(cl);function Hs(t){if(t===cl)throw Error(z(174));return t}function qp(t,e){switch(be($a,e),be(ja,t),be(Yn,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wh(e,t)}De(Yn),be(Yn,e)}function ho(){De(Yn),De(ja),De($a)}function Y_(t){Hs($a.current);var e=Hs(Yn.current),n=Wh(e,t.type);e!==n&&(be(ja,t),be(Yn,n))}function Gp(t){ja.current===t&&(De(Yn),De(ja))}var Le=Rs(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sh=[];function Qp(){for(var t=0;t<sh.length;t++)sh[t]._workInProgressVersionPrimary=null;sh.length=0}var vu=Cr.ReactCurrentDispatcher,ih=Cr.ReactCurrentBatchConfig,ri=0,Fe=null,Ze=null,lt=null,Xu=!1,va=!1,Ba=0,db=0;function vt(){throw Error(z(321))}function Kp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Yp(t,e,n,r,s,i){if(ri=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?mb:gb,t=n(r,s),va){i=0;do{if(va=!1,Ba=0,25<=i)throw Error(z(301));i+=1,lt=Ze=null,e.updateQueue=null,vu.current=yb,t=n(r,s)}while(va)}if(vu.current=Ju,e=Ze!==null&&Ze.next!==null,ri=0,lt=Ze=Fe=null,Xu=!1,e)throw Error(z(300));return t}function Xp(){var t=Ba!==0;return Ba=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Fe.memoizedState=lt=t:lt=lt.next=t,lt}function fn(){if(Ze===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=lt===null?Fe.memoizedState:lt.next;if(e!==null)lt=e,Ze=t;else{if(t===null)throw Error(z(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},lt===null?Fe.memoizedState=lt=t:lt=lt.next=t}return lt}function Ua(t,e){return typeof e=="function"?e(t):e}function oh(t){var e=fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((ri&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Fe.lanes|=d,si|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Cn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,si|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ah(t){var e=fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Cn(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function X_(){}function J_(t,e){var n=Fe,r=fn(),s=e(),i=!Cn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,Jp(tE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,za(9,eE.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(z(349));ri&30||Z_(n,e,s)}return s}function Z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eE(t,e,n,r){e.value=n,e.getSnapshot=r,nE(e)&&rE(t)}function tE(t,e,n){return n(function(){nE(e)&&rE(t)})}function nE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function rE(t){var e=Er(t,1);e!==null&&bn(e,t,1,-1)}function $y(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},e.queue=t,t=t.dispatch=pb.bind(null,Fe,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sE(){return fn().memoizedState}function wu(t,e,n,r){var s=Un();Fe.flags|=t,s.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function Vc(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,r!==null&&Kp(r,o.deps)){s.memoizedState=za(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=za(1|e,n,i,r)}function By(t,e){return wu(8390656,8,t,e)}function Jp(t,e){return Vc(2048,8,t,e)}function iE(t,e){return Vc(4,2,t,e)}function oE(t,e){return Vc(4,4,t,e)}function aE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lE(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4,4,aE.bind(null,e,t),n)}function Zp(){}function uE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dE(t,e,n){return ri&21?(Cn(n,e)||(n=g_(),Fe.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function hb(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=ih.transition;ih.transition={};try{t(!1),e()}finally{Te=n,ih.transition=r}}function hE(){return fn().memoizedState}function fb(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fE(t))pE(e,n);else if(n=Q_(t,e,n,r),n!==null){var s=Rt();bn(n,t,r,s),mE(n,e,r)}}function pb(t,e,n){var r=ls(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fE(t))pE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Cn(a,o)){var u=e.interleaved;u===null?(s.next=s,Hp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Q_(t,e,s,r),n!==null&&(s=Rt(),bn(n,t,r,s),mE(n,e,r))}}function fE(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function pE(t,e){va=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var Ju={readContext:hn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},mb={readContext:hn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:By,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wu(4194308,4,aE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fb.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:$y,useDebugValue:Zp,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=$y(!1),e=t[0];return t=hb.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=Un();if(Ve){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ct===null)throw Error(z(349));ri&30||Z_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,By(tE.bind(null,r,i,t),[t]),r.flags|=2048,za(9,eE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Un(),e=ct.identifierPrefix;if(Ve){var n=gr,r=mr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=db++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gb={readContext:hn,useCallback:uE,useContext:hn,useEffect:Jp,useImperativeHandle:lE,useInsertionEffect:iE,useLayoutEffect:oE,useMemo:cE,useReducer:oh,useRef:sE,useState:function(){return oh(Ua)},useDebugValue:Zp,useDeferredValue:function(t){var e=fn();return dE(e,Ze.memoizedState,t)},useTransition:function(){var t=oh(Ua)[0],e=fn().memoizedState;return[t,e]},useMutableSource:X_,useSyncExternalStore:J_,useId:hE,unstable_isNewReconciler:!1},yb={readContext:hn,useCallback:uE,useContext:hn,useEffect:Jp,useImperativeHandle:lE,useInsertionEffect:iE,useLayoutEffect:oE,useMemo:cE,useReducer:ah,useRef:sE,useState:function(){return ah(Ua)},useDebugValue:Zp,useDeferredValue:function(t){var e=fn();return Ze===null?e.memoizedState=t:dE(e,Ze.memoizedState,t)},useTransition:function(){var t=ah(Ua)[0],e=fn().memoizedState;return[t,e]},useMutableSource:X_,useSyncExternalStore:J_,useId:hE,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ff(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mc={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=ls(t),i=yr(r,s);i.payload=e,n!=null&&(i.callback=n),e=os(t,i,s),e!==null&&(bn(e,t,s,r),yu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=ls(t),i=yr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=os(t,i,s),e!==null&&(bn(e,t,s,r),yu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=ls(t),s=yr(n,r);s.tag=2,e!=null&&(s.callback=e),e=os(t,s,r),e!==null&&(bn(e,t,r,n),yu(e,t,r))}};function Uy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Va(n,r)||!Va(s,i):!0}function gE(t,e,n){var r=!1,s=gs,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=$t(e)?ti:St.current,r=e.contextTypes,i=(r=r!=null)?lo(t,s):gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mc.enqueueReplaceState(e,e.state,null)}function pf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=$t(e)?ti:St.current,s.context=lo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ff(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mc.enqueueReplaceState(s,s.state,null),Ku(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fo(t,e){try{var n="",r=e;do n+=WI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vb=typeof WeakMap=="function"?WeakMap:Map;function yE(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ec||(ec=!0,If=r),mf(t,e)},n}function vE(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mf(t,e),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=kb.bind(null,t,e,n),e.then(t,t))}function Wy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var wb=Cr.ReactCurrentOwner,Ft=!1;function bt(t,e,n,r){e.child=t===null?G_(e,null,n,r):co(e,t.child,n,r)}function Gy(t,e,n,r,s){n=n.render;var i=e.ref;return Hi(e,s),r=Yp(t,e,n,r,i,s),n=Xp(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(Ve&&n&&Fp(e),e.flags|=1,bt(t,e,r,s),e.child)}function Qy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!am(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wE(t,e,i,r,s)):(t=Tu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(o,r)&&t.ref===e.ref)return xr(t,e,s)}return e.flags|=1,t=us(i,r),t.ref=e.ref,t.return=e,e.child=t}function wE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Va(i,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,xr(t,e,s)}return gf(t,e,n,r,s)}function _E(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(ji,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(ji,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,be(ji,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,be(ji,Gt),Gt|=r;return bt(t,e,s,n),e.child}function EE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gf(t,e,n,r,s){var i=$t(n)?ti:St.current;return i=lo(e,i),Hi(e,s),n=Yp(t,e,n,r,i,s),r=Xp(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(Ve&&r&&Fp(e),e.flags|=1,bt(t,e,n,s),e.child)}function Ky(t,e,n,r,s){if($t(n)){var i=!0;Hu(e)}else i=!1;if(Hi(e,s),e.stateNode===null)_u(t,e),gE(e,n,r),pf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=$t(n)?ti:St.current,c=lo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&zy(e,o,r,c),zr=!1;var p=e.memoizedState;o.state=p,Ku(e,r,o,s),u=e.memoizedState,a!==r||p!==u||jt.current||zr?(typeof d=="function"&&(ff(e,n,d,r),u=e.memoizedState),(a=zr||Uy(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=$t(n)?ti:St.current,u=lo(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&zy(e,o,r,u),zr=!1,p=e.memoizedState,o.state=p,Ku(e,r,o,s);var A=e.memoizedState;a!==f||p!==A||jt.current||zr?(typeof g=="function"&&(ff(e,n,g,r),A=e.memoizedState),(c=zr||Uy(e,n,c,r,p,A,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return yf(t,e,n,r,i,s)}function yf(t,e,n,r,s,i){EE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Oy(e,n,!1),xr(t,e,i);r=e.stateNode,wb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=co(e,t.child,null,i),e.child=co(e,null,a,i)):bt(t,e,a,i),e.memoizedState=r.state,s&&Oy(e,n,!0),e.child}function xE(t){var e=t.stateNode;e.pendingContext?Dy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dy(t,e.context,!1),qp(t,e.containerInfo)}function Yy(t,e,n,r,s){return uo(),$p(s),e.flags|=256,bt(t,e,n,r),e.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function TE(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),be(Le,s&1),t===null)return df(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jc(o,r,0,null),t=ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wf(n),e.memoizedState=vf,t):em(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _b(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=us(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=us(a,i):(i=ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vf,r}return i=t.child,t=i.sibling,r=us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function em(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ql(t,e,n,r){return r!==null&&$p(r),co(e,t.child,null,n),t=em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _b(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lh(Error(z(422))),Ql(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=jc({mode:"visible",children:r.children},s,0,null),i=ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&co(e,t.child,null,o),e.child.memoizedState=wf(o),e.memoizedState=vf,i);if(!(e.mode&1))return Ql(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=lh(i,r,void 0),Ql(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(t,s),bn(r,t,s,-1))}return om(),r=lh(Error(z(421))),Ql(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Db.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Kt=is(s.nextSibling),Yt=e,Ve=!0,Sn=null,t!==null&&(on[an++]=mr,on[an++]=gr,on[an++]=ni,mr=t.id,gr=t.overflow,ni=e),e=em(e,r.children),e.flags|=4096,e)}function Xy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hf(t.return,e,n)}function uh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function SE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,n,e);else if(t.tag===19)Xy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uh(e,!0,n,null,i);break;case"together":uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Eb(t,e,n){switch(e.tag){case 3:xE(e),uo();break;case 5:Y_(e);break;case 1:$t(e.type)&&Hu(e);break;case 4:qp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;be(Gu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?TE(t,e,n):(be(Le,Le.current&1),t=xr(t,e,n),t!==null?t.sibling:null);be(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,_E(t,e,n)}return xr(t,e,n)}var IE,_f,AE,bE;IE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_f=function(){};AE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hs(Yn.current);var i=null;switch(n){case"input":s=Bh(t,s),r=Bh(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Hh(t,s),r=Hh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uu)}qh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};bE=function(t,e,n,r){n!==r&&(e.flags|=4)};function na(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xb(t,e,n){var r=e.pendingProps;switch(jp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return $t(e.type)&&zu(),wt(e),null;case 3:return r=e.stateNode,ho(),De(jt),De(St),Qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Cf(Sn),Sn=null))),_f(t,e),wt(e),null;case 5:Gp(e);var s=Hs($a.current);if(n=e.type,t!==null&&e.stateNode!=null)AE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return wt(e),null}if(t=Hs(Yn.current),ql(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[Fa]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<ua.length;s++)Pe(ua[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":oy(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":ly(r,i),Pe("invalid",r)}qh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wl(r.textContent,a,t),s=["children",""+a]):Ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Ll(r),ay(r,i,!0);break;case"textarea":Ll(r),uy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[Fa]=r,IE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gh(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<ua.length;s++)Pe(ua[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":oy(t,r),s=Bh(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":ly(t,r),s=Hh(t,r),Pe("invalid",t);break;default:s=r}qh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?s_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&n_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ra(t,u):typeof u=="number"&&Ra(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ca.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",t):u!=null&&Sp(t,i,u,o))}switch(n){case"input":Ll(t),ay(t,r,!1);break;case"textarea":Ll(t),uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$i(t,!!r.multiple,i,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)bE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Hs($a.current),Hs(Yn.current),ql(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Wl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return wt(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&Kt!==null&&e.mode&1&&!(e.flags&128))W_(),uo(),e.flags|=98560,i=!1;else if(i=ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Gn]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),i=!1}else Sn!==null&&(Cf(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?tt===0&&(tt=3):om())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return ho(),_f(t,e),t===null&&Ma(e.stateNode.containerInfo),wt(e),null;case 10:return zp(e.type._context),wt(e),null;case 17:return $t(e.type)&&zu(),wt(e),null;case 19:if(De(Le),i=e.memoizedState,i===null)return wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)na(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yu(t),o!==null){for(e.flags|=128,na(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&We()>po&&(e.flags|=128,r=!0,na(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return wt(e),null}else 2*We()-i.renderingStartTime>po&&n!==1073741824&&(e.flags|=128,r=!0,na(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=We(),e.sibling=null,n=Le.current,be(Le,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return im(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Tb(t,e){switch(jp(e),e.tag){case 1:return $t(e.type)&&zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ho(),De(jt),De(St),Qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gp(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return ho(),null;case 10:return zp(e.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var Kl=!1,xt=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Ef(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Jy=!1;function Ib(t,e){if(rf=ju,t=k_(),Lp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(u=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sf={focusedElem:t,selectionRange:n},ju=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var _=A.memoizedProps,I=A.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:wn(e.type,_),I);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){ze(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return A=Jy,Jy=!1,A}function wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ef(e,n,i)}s=s.next}while(s!==r)}}function Lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CE(t){var e=t.alternate;e!==null&&(t.alternate=null,CE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[Fa],delete e[lf],delete e[ab],delete e[lb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RE(t){return t.tag===5||t.tag===3||t.tag===4}function Zy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uu));else if(r!==4&&(t=t.child,t!==null))for(Tf(t,e,n),t=t.sibling;t!==null;)Tf(t,e,n),t=t.sibling}function Sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sf(t,e,n),t=t.sibling;t!==null;)Sf(t,e,n),t=t.sibling}var dt=null,Tn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)PE(t,e,n),n=n.sibling}function PE(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Rc,n)}catch{}switch(n.tag){case 5:xt||Fi(n,e);case 6:var r=dt,s=Tn;dt=null,Fr(t,e,n),dt=r,Tn=s,dt!==null&&(Tn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Tn?(t=dt,n=n.stateNode,t.nodeType===8?nh(t.parentNode,n):t.nodeType===1&&nh(t,n),Da(t)):nh(dt,n.stateNode));break;case 4:r=dt,s=Tn,dt=n.stateNode.containerInfo,Tn=!0,Fr(t,e,n),dt=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ef(n,e,o),s=s.next}while(s!==r)}Fr(t,e,n);break;case 1:if(!xt&&(Fi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Fr(t,e,n),xt=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sb),e.forEach(function(r){var s=Ob.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Tn=!1;break e;case 3:dt=a.stateNode.containerInfo,Tn=!0;break e;case 4:dt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(dt===null)throw Error(z(160));PE(i,o,s),dt=null,Tn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NE(e,t),e=e.sibling}function NE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Bn(t),r&4){try{wa(3,t,t.return),Lc(3,t)}catch(_){ze(t,t.return,_)}try{wa(5,t,t.return)}catch(_){ze(t,t.return,_)}}break;case 1:yn(e,t),Bn(t),r&512&&n!==null&&Fi(n,n.return);break;case 5:if(yn(e,t),Bn(t),r&512&&n!==null&&Fi(n,n.return),t.flags&32){var s=t.stateNode;try{Ra(s,"")}catch(_){ze(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Z0(s,i),Gh(a,o);var c=Gh(a,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?s_(s,f):d==="dangerouslySetInnerHTML"?n_(s,f):d==="children"?Ra(s,f):Sp(s,d,f,c)}switch(a){case"input":Uh(s,i);break;case"textarea":e_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$i(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?$i(s,!!i.multiple,i.defaultValue,!0):$i(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fa]=i}catch(_){ze(t,t.return,_)}}break;case 6:if(yn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ze(t,t.return,_)}}break;case 3:if(yn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(e.containerInfo)}catch(_){ze(t,t.return,_)}break;case 4:yn(e,t),Bn(t);break;case 13:yn(e,t),Bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rm=We())),r&4&&ev(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||d,yn(e,t),xt=c):yn(e,t),Bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:wa(4,p,p.return);break;case 1:Fi(p,p.return);var A=p.stateNode;if(typeof A.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(_){ze(r,n,_)}}break;case 5:Fi(p,p.return);break;case 22:if(p.memoizedState!==null){nv(f);continue}}g!==null?(g.return=p,Y=g):nv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=r_("display",o))}catch(_){ze(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){ze(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),Bn(t),r&4&&ev(t);break;case 21:break;default:yn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var i=Zy(t);Sf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zy(t);Tf(t,a,o);break;default:throw Error(z(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ab(t,e,n){Y=t,kE(t)}function kE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||xt;a=Kl;var c=xt;if(Kl=o,(xt=u)&&!c)for(Y=s;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?rv(s):u!==null?(u.return=o,Y=u):rv(s);for(;i!==null;)Y=i,kE(i),i=i.sibling;Y=s,Kl=a,xt=c}tv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):tv(t)}}function tv(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Lc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&jy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}xt||e.flags&512&&xf(e)}catch(p){ze(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function nv(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function rv(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lc(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ze(e,s,u)}}var i=e.return;try{xf(e)}catch(u){ze(e,i,u)}break;case 5:var o=e.return;try{xf(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var bb=Math.ceil,Zu=Cr.ReactCurrentDispatcher,tm=Cr.ReactCurrentOwner,dn=Cr.ReactCurrentBatchConfig,we=0,ct=null,Qe=null,pt=0,Gt=0,ji=Rs(0),tt=0,Ha=null,si=0,Fc=0,nm=0,_a=null,Lt=null,rm=0,po=1/0,hr=null,ec=!1,If=null,as=null,Yl=!1,Zr=null,tc=0,Ea=0,Af=null,Eu=-1,xu=0;function Rt(){return we&6?We():Eu!==-1?Eu:Eu=We()}function ls(t){return t.mode&1?we&2&&pt!==0?pt&-pt:cb.transition!==null?(xu===0&&(xu=g_()),xu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:T_(t.type)),t):1}function bn(t,e,n,r){if(50<Ea)throw Ea=0,Af=null,Error(z(185));al(t,n,r),(!(we&2)||t!==ct)&&(t===ct&&(!(we&2)&&(Fc|=n),tt===4&&Wr(t,pt)),Bt(t,r),n===1&&we===0&&!(e.mode&1)&&(po=We()+500,Oc&&Ps()))}function Bt(t,e){var n=t.callbackNode;cA(t,e);var r=Fu(t,t===ct?pt:0);if(r===0)n!==null&&hy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hy(n),e===1)t.tag===0?ub(sv.bind(null,t)):U_(sv.bind(null,t)),ib(function(){!(we&6)&&Ps()}),n=null;else{switch(y_(r)){case 1:n=Rp;break;case 4:n=p_;break;case 16:n=Lu;break;case 536870912:n=m_;break;default:n=Lu}n=$E(n,DE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DE(t,e){if(Eu=-1,xu=0,we&6)throw Error(z(327));var n=t.callbackNode;if(Wi()&&t.callbackNode!==n)return null;var r=Fu(t,t===ct?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nc(t,r);else{e=r;var s=we;we|=2;var i=VE();(ct!==t||pt!==e)&&(hr=null,po=We()+500,Zs(t,e));do try{Pb();break}catch(a){OE(t,a)}while(!0);Up(),Zu.current=i,we=s,Qe!==null?e=0:(ct=null,pt=0,e=tt)}if(e!==0){if(e===2&&(s=Jh(t),s!==0&&(r=s,e=bf(t,s))),e===1)throw n=Ha,Zs(t,0),Wr(t,r),Bt(t,We()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Cb(s)&&(e=nc(t,r),e===2&&(i=Jh(t),i!==0&&(r=i,e=bf(t,i))),e===1))throw n=Ha,Zs(t,0),Wr(t,r),Bt(t,We()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:$s(t,Lt,hr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=rm+500-We(),10<e)){if(Fu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=af($s.bind(null,t,Lt,hr),e);break}$s(t,Lt,hr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-An(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bb(r/1960))-r,10<r){t.timeoutHandle=af($s.bind(null,t,Lt,hr),r);break}$s(t,Lt,hr);break;case 5:$s(t,Lt,hr);break;default:throw Error(z(329))}}}return Bt(t,We()),t.callbackNode===n?DE.bind(null,t):null}function bf(t,e){var n=_a;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=nc(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Cf(e)),t}function Cf(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function Cb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~nm,e&=~Fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function sv(t){if(we&6)throw Error(z(327));Wi();var e=Fu(t,0);if(!(e&1))return Bt(t,We()),null;var n=nc(t,e);if(t.tag!==0&&n===2){var r=Jh(t);r!==0&&(e=r,n=bf(t,r))}if(n===1)throw n=Ha,Zs(t,0),Wr(t,e),Bt(t,We()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,Lt,hr),Bt(t,We()),null}function sm(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(po=We()+500,Oc&&Ps())}}function ii(t){Zr!==null&&Zr.tag===0&&!(we&6)&&Wi();var e=we;we|=1;var n=dn.transition,r=Te;try{if(dn.transition=null,Te=1,t)return t()}finally{Te=r,dn.transition=n,we=e,!(we&6)&&Ps()}}function im(){Gt=ji.current,De(ji)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sb(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(jp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:ho(),De(jt),De(St),Qp();break;case 5:Gp(r);break;case 4:ho();break;case 13:De(Le);break;case 19:De(Le);break;case 10:zp(r.type._context);break;case 22:case 23:im()}n=n.return}if(ct=t,Qe=t=us(t.current,null),pt=Gt=e,tt=0,Ha=null,nm=Fc=si=0,Lt=_a=null,zs!==null){for(e=0;e<zs.length;e++)if(n=zs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zs=null}return t}function OE(t,e){do{var n=Qe;try{if(Up(),vu.current=Ju,Xu){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xu=!1}if(ri=0,lt=Ze=Fe=null,va=!1,Ba=0,tm.current=null,n===null||n.return===null){tt=1,Ha=e,Qe=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Wy(o);if(g!==null){g.flags&=-257,qy(g,o,a,i,e),g.mode&1&&Hy(i,c,e),e=g,u=c;var A=e.updateQueue;if(A===null){var _=new Set;_.add(u),e.updateQueue=_}else A.add(u);break e}else{if(!(e&1)){Hy(i,c,e),om();break e}u=Error(z(426))}}else if(Ve&&a.mode&1){var I=Wy(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),qy(I,o,a,i,e),$p(fo(u,a));break e}}i=u=fo(u,a),tt!==4&&(tt=2),_a===null?_a=[i]:_a.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=yE(i,u,e);Fy(i,v);break e;case 1:a=u;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(as===null||!as.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=vE(i,a,e);Fy(i,D);break e}}i=i.return}while(i!==null)}LE(n)}catch(O){e=O,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function VE(){var t=Zu.current;return Zu.current=Ju,t===null?Ju:t}function om(){(tt===0||tt===3||tt===2)&&(tt=4),ct===null||!(si&268435455)&&!(Fc&268435455)||Wr(ct,pt)}function nc(t,e){var n=we;we|=2;var r=VE();(ct!==t||pt!==e)&&(hr=null,Zs(t,e));do try{Rb();break}catch(s){OE(t,s)}while(!0);if(Up(),we=n,Zu.current=r,Qe!==null)throw Error(z(261));return ct=null,pt=0,tt}function Rb(){for(;Qe!==null;)ME(Qe)}function Pb(){for(;Qe!==null&&!tA();)ME(Qe)}function ME(t){var e=jE(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?LE(t):Qe=e,tm.current=null}function LE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tb(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Qe=null;return}}else if(n=xb(n,e,Gt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);tt===0&&(tt=5)}function $s(t,e,n){var r=Te,s=dn.transition;try{dn.transition=null,Te=1,Nb(t,e,n,r)}finally{dn.transition=s,Te=r}return null}function Nb(t,e,n,r){do Wi();while(Zr!==null);if(we&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dA(t,i),t===ct&&(Qe=ct=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yl||(Yl=!0,$E(Lu,function(){return Wi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var o=Te;Te=1;var a=we;we|=4,tm.current=null,Ib(t,n),NE(n,t),XA(sf),ju=!!rf,sf=rf=null,t.current=n,Ab(n),nA(),we=a,Te=o,dn.transition=i}else t.current=n;if(Yl&&(Yl=!1,Zr=t,tc=s),i=t.pendingLanes,i===0&&(as=null),iA(n.stateNode),Bt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ec)throw ec=!1,t=If,If=null,t;return tc&1&&t.tag!==0&&Wi(),i=t.pendingLanes,i&1?t===Af?Ea++:(Ea=0,Af=t):Ea=0,Ps(),null}function Wi(){if(Zr!==null){var t=y_(tc),e=dn.transition,n=Te;try{if(dn.transition=null,Te=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,tc=0,we&6)throw Error(z(331));var s=we;for(we|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:wa(8,d,i)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(CE(d),d===c){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var A=i.alternate;if(A!==null){var _=A.child;if(_!==null){A.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wa(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lc(9,a)}}catch(O){ze(a,a.return,O)}if(a===o){Y=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Y=D;break e}Y=a.return}}if(we=s,Ps(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Rc,t)}catch{}r=!0}return r}finally{Te=n,dn.transition=e}}return!1}function iv(t,e,n){e=fo(n,e),e=yE(t,e,1),t=os(t,e,1),e=Rt(),t!==null&&(al(t,1,e),Bt(t,e))}function ze(t,e,n){if(t.tag===3)iv(t,t,n);else for(;e!==null;){if(e.tag===3){iv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){t=fo(n,t),t=vE(e,t,1),e=os(e,t,1),t=Rt(),e!==null&&(al(e,1,t),Bt(e,t));break}}e=e.return}}function kb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>We()-rm?Zs(t,0):nm|=n),Bt(t,e)}function FE(t,e){e===0&&(t.mode&1?(e=$l,$l<<=1,!($l&130023424)&&($l=4194304)):e=1);var n=Rt();t=Er(t,e),t!==null&&(al(t,e,n),Bt(t,n))}function Db(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FE(t,n)}function Ob(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),FE(t,n)}var jE;jE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,Eb(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Ve&&e.flags&1048576&&z_(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_u(t,e),t=e.pendingProps;var s=lo(e,St.current);Hi(e,n),s=Yp(null,e,r,t,s,n);var i=Xp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,Hu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wp(e),s.updater=Mc,e.stateNode=s,s._reactInternals=e,pf(e,r,t,n),e=yf(null,e,r,!0,i,n)):(e.tag=0,Ve&&i&&Fp(e),bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_u(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Mb(r),t=wn(r,t),s){case 0:e=gf(null,e,r,t,n);break e;case 1:e=Ky(null,e,r,t,n);break e;case 11:e=Gy(null,e,r,t,n);break e;case 14:e=Qy(null,e,r,wn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),gf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Ky(t,e,r,s,n);case 3:e:{if(xE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,K_(t,e),Ku(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fo(Error(z(423)),e),e=Yy(t,e,r,n,s);break e}else if(r!==s){s=fo(Error(z(424)),e),e=Yy(t,e,r,n,s);break e}else for(Kt=is(e.stateNode.containerInfo.firstChild),Yt=e,Ve=!0,Sn=null,n=G_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===s){e=xr(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return Y_(e),t===null&&df(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,of(r,s)?o=null:i!==null&&of(r,i)&&(e.flags|=32),EE(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&df(e),null;case 13:return TE(t,e,n);case 4:return qp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=co(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Gy(t,e,r,s,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,be(Gu,r._currentValue),r._currentValue=o,i!==null)if(Cn(i.value,o)){if(i.children===s.children&&!jt.current){e=xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=yr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),hf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hi(e,n),s=hn(s),r=r(s),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,s=wn(r,e.pendingProps),s=wn(r.type,s),Qy(t,e,r,s,n);case 15:return wE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),_u(t,e),e.tag=1,$t(r)?(t=!0,Hu(e)):t=!1,Hi(e,n),gE(e,r,s),pf(e,r,s,n),yf(null,e,r,!0,t,n);case 19:return SE(t,e,n);case 22:return _E(t,e,n)}throw Error(z(156,e.tag))};function $E(t,e){return f_(t,e)}function Vb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new Vb(t,e,n,r)}function am(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mb(t){if(typeof t=="function")return am(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ap)return 11;if(t===bp)return 14}return 2}function us(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")am(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ri:return ei(n.children,s,i,e);case Ip:o=8,s|=8;break;case Lh:return t=cn(12,n,e,s|2),t.elementType=Lh,t.lanes=i,t;case Fh:return t=cn(13,n,e,s),t.elementType=Fh,t.lanes=i,t;case jh:return t=cn(19,n,e,s),t.elementType=jh,t.lanes=i,t;case Y0:return jc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q0:o=10;break e;case K0:o=9;break e;case Ap:o=11;break e;case bp:o=14;break e;case Ur:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ei(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function jc(t,e,n,r){return t=cn(22,t,r,e),t.elementType=Y0,t.lanes=n,t.stateNode={isHidden:!1},t}function ch(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function dh(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lm(t,e,n,r,s,i,o,a,u){return t=new Lb(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(i),t}function Fb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BE(t){if(!t)return gs;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if($t(n))return B_(t,n,e)}return e}function UE(t,e,n,r,s,i,o,a,u){return t=lm(n,r,!0,t,s,i,o,a,u),t.context=BE(null),n=t.current,r=Rt(),s=ls(n),i=yr(r,s),i.callback=e??null,os(n,i,s),t.current.lanes=s,al(t,s,r),Bt(t,r),t}function $c(t,e,n,r){var s=e.current,i=Rt(),o=ls(s);return n=BE(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(s,e,o),t!==null&&(bn(t,s,o,i),yu(t,s,o)),o}function rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ov(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function um(t,e){ov(t,e),(t=t.alternate)&&ov(t,e)}function jb(){return null}var zE=typeof reportError=="function"?reportError:function(t){console.error(t)};function cm(t){this._internalRoot=t}Bc.prototype.render=cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));$c(t,e,null,null)};Bc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){$c(null,t,null,null)}),e[_r]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=__();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&x_(t)}};function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function av(){}function $b(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=rc(o);i.call(c)}}var o=UE(e,r,t,0,null,!1,!1,"",av);return t._reactRootContainer=o,t[_r]=o.current,Ma(t.nodeType===8?t.parentNode:t),ii(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=rc(u);a.call(c)}}var u=lm(t,0,!1,null,null,!1,!1,"",av);return t._reactRootContainer=u,t[_r]=u.current,Ma(t.nodeType===8?t.parentNode:t),ii(function(){$c(e,u,n,r)}),u}function zc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=rc(o);a.call(u)}}$c(e,o,t,s)}else o=$b(n,e,t,s,r);return rc(o)}v_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=la(e.pendingLanes);n!==0&&(Pp(e,n|1),Bt(e,We()),!(we&6)&&(po=We()+500,Ps()))}break;case 13:ii(function(){var r=Er(t,1);if(r!==null){var s=Rt();bn(r,t,1,s)}}),um(t,1)}};Np=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var n=Rt();bn(e,t,134217728,n)}um(t,134217728)}};w_=function(t){if(t.tag===13){var e=ls(t),n=Er(t,e);if(n!==null){var r=Rt();bn(n,t,e,r)}um(t,e)}};__=function(){return Te};E_=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Kh=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dc(r);if(!s)throw Error(z(90));J0(r),Uh(r,s)}}}break;case"textarea":e_(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};a_=sm;l_=ii;var Bb={usingClientEntryPoint:!1,Events:[ul,Di,Dc,i_,o_,sm]},ra={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ub={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d_(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Rc=Xl.inject(Ub),Kn=Xl}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bb;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(e))throw Error(z(200));return Fb(t,e,null,n)};en.createRoot=function(t,e){if(!dm(t))throw Error(z(299));var n=!1,r="",s=zE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lm(t,1,!1,null,null,n,!1,r,s),t[_r]=e.current,Ma(t.nodeType===8?t.parentNode:t),new cm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=d_(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return ii(t)};en.hydrate=function(t,e,n){if(!Uc(e))throw Error(z(200));return zc(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!dm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UE(e,null,t,1,n??null,s,!1,i,o),t[_r]=e.current,Ma(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bc(e)};en.render=function(t,e,n){if(!Uc(e))throw Error(z(200));return zc(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Uc(t))throw Error(z(40));return t._reactRootContainer?(ii(function(){zc(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};en.unstable_batchedUpdates=sm;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return zc(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(t){console.error(t)}}HE(),H0.exports=en;var dl=H0.exports;const WE=k0(dl);var qE,lv=dl;qE=lv.createRoot,lv.hydrateRoot;const zb=1,Hb=1e6;let hh=0;function Wb(){return hh=(hh+1)%Number.MAX_SAFE_INTEGER,hh.toString()}const fh=new Map,uv=t=>{if(fh.has(t))return;const e=setTimeout(()=>{fh.delete(t),xa({type:"REMOVE_TOAST",toastId:t})},Hb);fh.set(t,e)},qb=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zb)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?uv(n):t.toasts.forEach(r=>{uv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Su=[];let Iu={toasts:[]};function xa(t){Iu=qb(Iu,t),Su.forEach(e=>{e(Iu)})}function Gb({...t}){const e=Wb(),n=s=>xa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xa({type:"DISMISS_TOAST",toastId:e});return xa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function GE(){const[t,e]=b.useState(Iu);return b.useEffect(()=>(Su.push(e),()=>{const n=Su.indexOf(e);n>-1&&Su.splice(n,1)}),[t]),{...t,toast:Gb,dismiss:n=>xa({type:"DISMISS_TOAST",toastId:n})}}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function cv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hc(...t){return e=>{let n=!1;const r=t.map(s=>{const i=cv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():cv(t[s],null)}}}}function Rn(...t){return b.useCallback(Hc(...t),t)}function Wc(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:p,children:g,...A}=f,_=((v=p==null?void 0:p[t])==null?void 0:v[u])||a,I=b.useMemo(()=>A,Object.values(A));return w.jsx(_.Provider,{value:I,children:g})};c.displayName=i+"Provider";function d(f,p){var _;const g=((_=p==null?void 0:p[t])==null?void 0:_[u])||a,A=b.useContext(g);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,Qb(s,...e)]}function Qb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function dv(t){const e=Kb(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),u=a.find(Xb);if(u){const c=u.props.children,d=a.map(f=>f===u?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return w.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return w.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Kb(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=Zb(s),a=Jb(i,s.props);return s.type!==b.Fragment&&(a.ref=r?Hc(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yb=Symbol("radix.slottable");function Xb(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yb}function Jb(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Zb(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eC(t){const e=t+"CollectionProvider",[n,r]=Wc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:I,children:v}=_,y=W.useRef(null),x=W.useRef(new Map).current;return w.jsx(s,{scope:I,itemMap:x,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",u=dv(a),c=W.forwardRef((_,I)=>{const{scope:v,children:y}=_,x=i(a,v),D=Rn(I,x.collectionRef);return w.jsx(u,{ref:D,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=dv(d),g=W.forwardRef((_,I)=>{const{scope:v,children:y,...x}=_,D=W.useRef(null),O=Rn(I,D),M=i(d,v);return W.useEffect(()=>(M.itemMap.set(D,{ref:D,...x}),()=>void M.itemMap.delete(D))),w.jsx(p,{[f]:"",ref:O,children:y})});g.displayName=d;function A(_){const I=i(t+"CollectionConsumer",_);return W.useCallback(()=>{const y=I.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(I.itemMap.values()).sort((M,T)=>x.indexOf(M.ref.current)-x.indexOf(T.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},A,r]}function tC(t){const e=nC(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),u=a.find(sC);if(u){const c=u.props.children,d=a.map(f=>f===u?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return w.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return w.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function nC(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=oC(s),a=iC(i,s.props);return s.type!==b.Fragment&&(a.ref=r?Hc(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rC=Symbol("radix.slottable");function sC(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rC}function iC(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function oC(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var aC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=aC.reduce((t,e)=>{const n=tC(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function QE(t,e){t&&dl.flushSync(()=>t.dispatchEvent(e))}function ys(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function lC(t,e=globalThis==null?void 0:globalThis.document){const n=ys(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uC="DismissableLayer",Rf="dismissableLayer.update",cC="dismissableLayer.pointerDownOutside",dC="dismissableLayer.focusOutside",hv,KE=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hm=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=b.useContext(KE),[d,f]=b.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),A=Rn(e,T=>f(T)),_=Array.from(c.layers),[I]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(I),y=d?_.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,D=y>=v,O=fC(T=>{const E=T.target,C=[...c.branches].some(P=>P.contains(E));!D||C||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),M=pC(T=>{const E=T.target;[...c.branches].some(P=>P.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return lC(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),b.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),fv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hv)}},[d,p,n,c]),b.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),fv())},[d,c]),b.useEffect(()=>{const T=()=>g({});return document.addEventListener(Rf,T),()=>document.removeEventListener(Rf,T)},[]),w.jsx(zt.div,{...u,ref:A,style:{pointerEvents:x?D?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,M.onFocusCapture),onBlurCapture:et(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,O.onPointerDownCapture)})});hm.displayName=uC;var hC="DismissableLayerBranch",YE=b.forwardRef((t,e)=>{const n=b.useContext(KE),r=b.useRef(null),s=Rn(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),w.jsx(zt.div,{...t,ref:s})});YE.displayName=hC;function fC(t,e=globalThis==null?void 0:globalThis.document){const n=ys(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){XE(cC,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pC(t,e=globalThis==null?void 0:globalThis.document){const n=ys(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&XE(dC,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fv(){const t=new CustomEvent(Rf);document.dispatchEvent(t)}function XE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QE(s,i):s.dispatchEvent(i)}var mC=hm,gC=YE,vs=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},yC="Portal",JE=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);vs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?WE.createPortal(w.jsx(zt.div,{...r,ref:e}),o):null});JE.displayName=yC;function vC(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var fm=t=>{const{present:e,children:n}=t,r=wC(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Rn(r.ref,_C(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};fm.displayName="Presence";function wC(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,u]=vC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=Jl(r.current);i.current=a==="mounted"?c:"none"},[a]),vs(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=Jl(c);t?u("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),vs(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const _=Jl(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&_&&(u("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},p=g=>{g.target===e&&(i.current=Jl(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Jl(t){return(t==null?void 0:t.animationName)||"none"}function _C(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var EC=Ep[" useInsertionEffect ".trim().toString()]||vs;function xC({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=TC({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=b.useCallback(d=>{var f;if(a){const p=SC(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[u,c]}function TC({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return EC(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function SC(t){return typeof t=="function"}var IC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AC="VisuallyHidden",qc=b.forwardRef((t,e)=>w.jsx(zt.span,{...t,ref:e,style:{...IC,...t.style}}));qc.displayName=AC;var bC=qc,pm="ToastProvider",[mm,CC,RC]=eC("Toast"),[ZE]=Wc("Toast",[RC]),[PC,Gc]=ZE(pm),ex=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=b.useState(null),[c,d]=b.useState(0),f=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${pm}\`. Expected non-empty \`string\`.`),w.jsx(mm.Provider,{scope:e,children:w.jsx(PC,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:b.useCallback(()=>d(g=>g+1),[]),onToastRemove:b.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};ex.displayName=pm;var tx="ToastViewport",NC=["F8"],Pf="toast.viewportPause",Nf="toast.viewportResume",nx=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=NC,label:s="Notifications ({hotkey})",...i}=t,o=Gc(tx,n),a=CC(n),u=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),p=Rn(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=o.toastCount>0;b.useEffect(()=>{const I=v=>{var x;r.length!==0&&r.every(D=>v[D]||v.code===D)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),b.useEffect(()=>{const I=u.current,v=f.current;if(A&&I&&v){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Pf);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Nf);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},D=M=>{!I.contains(M.relatedTarget)&&x()},O=()=>{I.contains(document.activeElement)||x()};return I.addEventListener("focusin",y),I.addEventListener("focusout",D),I.addEventListener("pointermove",y),I.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{I.removeEventListener("focusin",y),I.removeEventListener("focusout",D),I.removeEventListener("pointermove",y),I.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[A,o.isClosePausedRef]);const _=b.useCallback(({tabbingDirection:I})=>{const y=a().map(x=>{const D=x.ref.current,O=[D,...HC(D)];return I==="forwards"?O:O.reverse()});return(I==="forwards"?y.reverse():y).flat()},[a]);return b.useEffect(()=>{const I=f.current;if(I){const v=y=>{var O,M,T;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const E=document.activeElement,C=y.shiftKey;if(y.target===I&&C){(O=c.current)==null||O.focus();return}const k=_({tabbingDirection:C?"backwards":"forwards"}),R=k.findIndex(H=>H===E);ph(k.slice(R+1))?y.preventDefault():C?(M=c.current)==null||M.focus():(T=d.current)==null||T.focus()}};return I.addEventListener("keydown",v),()=>I.removeEventListener("keydown",v)}},[a,_]),w.jsxs(gC,{ref:u,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&w.jsx(kf,{ref:c,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"forwards"});ph(I)}}),w.jsx(mm.Slot,{scope:n,children:w.jsx(zt.ol,{tabIndex:-1,...i,ref:p})}),A&&w.jsx(kf,{ref:d,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"backwards"});ph(I)}})]})});nx.displayName=tx;var rx="ToastFocusProxy",kf=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Gc(rx,n);return w.jsx(qc,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});kf.displayName=rx;var hl="Toast",kC="toast.swipeStart",DC="toast.swipeMove",OC="toast.swipeCancel",VC="toast.swipeEnd",sx=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,u]=xC({prop:r,defaultProp:s??!0,onChange:i,caller:hl});return w.jsx(fm,{present:n||a,children:w.jsx(FC,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:ys(t.onPause),onResume:ys(t.onResume),onSwipeStart:et(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:et(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});sx.displayName=hl;var[MC,LC]=ZE(hl,{onClose(){}}),FC=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...A}=t,_=Gc(hl,n),[I,v]=b.useState(null),y=Rn(e,H=>v(H)),x=b.useRef(null),D=b.useRef(null),O=s||_.duration,M=b.useRef(0),T=b.useRef(O),E=b.useRef(0),{onToastAdd:C,onToastRemove:P}=_,N=ys(()=>{var ie;(I==null?void 0:I.contains(document.activeElement))&&((ie=_.viewport)==null||ie.focus()),o()}),k=b.useCallback(H=>{!H||H===1/0||(window.clearTimeout(E.current),M.current=new Date().getTime(),E.current=window.setTimeout(N,H))},[N]);b.useEffect(()=>{const H=_.viewport;if(H){const ie=()=>{k(T.current),c==null||c()},te=()=>{const oe=new Date().getTime()-M.current;T.current=T.current-oe,window.clearTimeout(E.current),u==null||u()};return H.addEventListener(Pf,te),H.addEventListener(Nf,ie),()=>{H.removeEventListener(Pf,te),H.removeEventListener(Nf,ie)}}},[_.viewport,O,u,c,k]),b.useEffect(()=>{i&&!_.isClosePausedRef.current&&k(O)},[i,O,_.isClosePausedRef,k]),b.useEffect(()=>(C(),()=>P()),[C,P]);const R=b.useMemo(()=>I?dx(I):null,[I]);return _.viewport?w.jsxs(w.Fragment,{children:[R&&w.jsx(jC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),w.jsx(MC,{scope:n,onClose:N,children:dl.createPortal(w.jsx(mm.ItemSlot,{scope:n,children:w.jsx(mC,{asChild:!0,onEscapeKeyDown:et(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||N(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(zt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...A,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:et(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:et(t.onPointerDown,H=>{H.button===0&&(x.current={x:H.clientX,y:H.clientY})}),onPointerMove:et(t.onPointerMove,H=>{if(!x.current)return;const ie=H.clientX-x.current.x,te=H.clientY-x.current.y,oe=!!D.current,j=["left","right"].includes(_.swipeDirection),U=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,G=j?U(0,ie):0,re=j?0:U(0,te),X=H.pointerType==="touch"?10:2,ce={x:G,y:re},le={originalEvent:H,delta:ce};oe?(D.current=ce,Zl(DC,f,le,{discrete:!1})):pv(ce,_.swipeDirection,X)?(D.current=ce,Zl(kC,d,le,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ie)>X||Math.abs(te)>X)&&(x.current=null)}),onPointerUp:et(t.onPointerUp,H=>{const ie=D.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),D.current=null,x.current=null,ie){const oe=H.currentTarget,j={originalEvent:H,delta:ie};pv(ie,_.swipeDirection,_.swipeThreshold)?Zl(VC,g,j,{discrete:!0}):Zl(OC,p,j,{discrete:!0}),oe.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),jC=t=>{const{__scopeToast:e,children:n,...r}=t,s=Gc(hl,e),[i,o]=b.useState(!1),[a,u]=b.useState(!1);return UC(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:w.jsx(JE,{asChild:!0,children:w.jsx(qc,{...r,children:i&&w.jsxs(w.Fragment,{children:[s.label," ",n]})})})},$C="ToastTitle",ix=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(zt.div,{...r,ref:e})});ix.displayName=$C;var BC="ToastDescription",ox=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(zt.div,{...r,ref:e})});ox.displayName=BC;var ax="ToastAction",lx=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?w.jsx(cx,{altText:n,asChild:!0,children:w.jsx(gm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ax}\`. Expected non-empty \`string\`.`),null)});lx.displayName=ax;var ux="ToastClose",gm=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=LC(ux,n);return w.jsx(cx,{asChild:!0,children:w.jsx(zt.button,{type:"button",...r,ref:e,onClick:et(t.onClick,s.onClose)})})});gm.displayName=ux;var cx=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return w.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function dx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),zC(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...dx(r))}}),e}function Zl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?QE(s,i):s.dispatchEvent(i)}var pv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function UC(t=()=>{}){const e=ys(t);vs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function zC(t){return t.nodeType===t.ELEMENT_NODE}function HC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ph(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var WC=ex,hx=nx,fx=sx,px=ix,mx=ox,gx=lx,yx=gm;function vx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vx(t))&&(r&&(r+=" "),r+=e);return r}const mv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gv=wx,_x=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=mv(d)||mv(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(A=>{let[_,I]=A;return Array.isArray(I)?I.includes({...i,...a}[_]):{...i,...a}[_]===I})?[...c,f,p]:c},[]);return gv(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ex=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>b.createElement("svg",{ref:u,...GC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ex("lucide",s),...a},[...o.map(([c,d])=>b.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(QC,{ref:i,iconNode:e,className:Ex(`lucide-${qC(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=fl("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=fl("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=fl("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=fl("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=fl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ym="-",JC=t=>{const e=eR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ym);return a[0]===""&&a.length!==1&&a.shift(),xx(a,e)||ZC(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},xx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?xx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ym);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},yv=/^\[(.+)\]$/,ZC=t=>{if(yv.test(t)){const e=yv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nR(Object.entries(t.classGroups),n).forEach(([i,o])=>{Df(o,r,i,e)}),r},Df=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:vv(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(tR(s)){Df(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Df(o,vv(e,i),n,r)})})},vv=(t,e)=>{let n=t;return e.split(ym).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tR=t=>t.isThemeGetter,nR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,rR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Tx="!",sR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,f;for(let I=0;I<a.length;I++){let v=a[I];if(c===0){if(v===s&&(r||a.slice(I,I+i)===e)){u.push(a.slice(d,I)),d=I+i;continue}if(v==="/"){f=I;continue}}v==="["?c++:v==="]"&&c--}const p=u.length===0?a:a.substring(d),g=p.startsWith(Tx),A=g?p.substring(1):p,_=f&&f>d?f-d:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:A,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},iR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},oR=t=>({cache:rR(t.cacheSize),parseClassName:sR(t),...JC(t)}),aR=/\s+/,lR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(aR);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let A=!!g,_=r(A?p.substring(0,g):p);if(!_){if(!A){a=c+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=c+(a.length>0?" "+a:a);continue}A=!1}const I=iR(d).join(":"),v=f?I+Tx:I,y=v+_;if(i.includes(y))continue;i.push(y);const x=s(_,A);for(let D=0;D<x.length;++D){const O=x[D];i.push(v+O)}a=c+(a.length>0?" "+a:a)}return a};function uR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Sx(e))&&(r&&(r+=" "),r+=n);return r}const Sx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Sx(t[r]))&&(n&&(n+=" "),n+=e);return n};function cR(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,f)=>f(d),t());return n=oR(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=lR(u,n);return s(u,d),d}return function(){return i(uR.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ix=/^\[(?:([a-z-]+):)?(.+)\]$/i,dR=/^\d+\/\d+$/,hR=new Set(["px","full","screen"]),fR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cr=t=>qi(t)||hR.has(t)||dR.test(t),jr=t=>bo(t,"length",IR),qi=t=>!!t&&!Number.isNaN(Number(t)),yh=t=>bo(t,"number",qi),sa=t=>!!t&&Number.isInteger(Number(t)),vR=t=>t.endsWith("%")&&qi(t.slice(0,-1)),ue=t=>Ix.test(t),$r=t=>fR.test(t),wR=new Set(["length","size","percentage"]),_R=t=>bo(t,wR,Ax),ER=t=>bo(t,"position",Ax),xR=new Set(["image","url"]),TR=t=>bo(t,xR,bR),SR=t=>bo(t,"",AR),ia=()=>!0,bo=(t,e,n)=>{const r=Ix.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},IR=t=>pR.test(t)&&!mR.test(t),Ax=()=>!1,AR=t=>gR.test(t),bR=t=>yR.test(t),CR=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),u=Re("contrast"),c=Re("grayscale"),d=Re("hueRotate"),f=Re("invert"),p=Re("gap"),g=Re("gradientColorStops"),A=Re("gradientColorStopPositions"),_=Re("inset"),I=Re("margin"),v=Re("opacity"),y=Re("padding"),x=Re("saturate"),D=Re("scale"),O=Re("sepia"),M=Re("skew"),T=Re("space"),E=Re("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ue,e],k=()=>[ue,e],R=()=>["",cr,jr],H=()=>["auto",qi,ue],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ue],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[qi,ue];return{cacheSize:500,separator:":",theme:{colors:[ia],spacing:[cr,jr],blur:["none","",$r,ue],brightness:re(),borderColor:[t],borderRadius:["none","","full",$r,ue],borderSpacing:k(),borderWidth:R(),contrast:re(),grayscale:U(),hueRotate:re(),invert:U(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[vR,jr],inset:N(),margin:N(),opacity:re(),padding:k(),saturate:re(),scale:re(),sepia:U(),skew:re(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sa,ue]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",sa,ue]}],"grid-cols":[{"grid-cols":[ia]}],"col-start-end":[{col:["auto",{span:["full",sa,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ia]}],"row-start-end":[{row:["auto",{span:[sa,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yh]}],"font-family":[{font:[ia]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",qi,yh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cr,jr]}],"underline-offset":[{"underline-offset":["auto",cr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),ER]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_R]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[cr,ue]}],"outline-w":[{outline:[cr,jr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[cr,jr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$r,SR]}],"shadow-color":[{shadow:[ia]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$r,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[sa,ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cr,jr,yh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RR=cR(CR);function Ht(...t){return RR(wx(t))}const PR=WC,bx=b.forwardRef(({className:t,...e},n)=>w.jsx(hx,{ref:n,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bx.displayName=hx.displayName;const NR=_x("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cx=b.forwardRef(({className:t,variant:e,...n},r)=>w.jsx(fx,{ref:r,className:Ht(NR({variant:e}),t),...n}));Cx.displayName=fx.displayName;const kR=b.forwardRef(({className:t,...e},n)=>w.jsx(gx,{ref:n,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kR.displayName=gx.displayName;const Rx=b.forwardRef(({className:t,...e},n)=>w.jsx(yx,{ref:n,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(XC,{className:"h-4 w-4"})}));Rx.displayName=yx.displayName;const Px=b.forwardRef(({className:t,...e},n)=>w.jsx(px,{ref:n,className:Ht("text-sm font-semibold",t),...e}));Px.displayName=px.displayName;const Nx=b.forwardRef(({className:t,...e},n)=>w.jsx(mx,{ref:n,className:Ht("text-sm opacity-90",t),...e}));Nx.displayName=mx.displayName;function DR(){const{toasts:t}=GE();return w.jsxs(PR,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return w.jsxs(Cx,{...i,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(Px,{children:n}),r&&w.jsx(Nx,{children:r})]}),s,w.jsx(Rx,{})]},e)}),w.jsx(bx,{})]})}var wv=["light","dark"],OR="(prefers-color-scheme: dark)",VR=b.createContext(void 0),MR={setTheme:t=>{},themes:[]},LR=()=>{var t;return(t=b.useContext(VR))!=null?t:MR};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?wv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(A,_=!1,I=!0)=>{let v=o?o[A]:A,y=_?A+"|| ''":`'${v}'`,x="";return s&&I&&!_&&wv.includes(A)&&(x+=`d.style.colorScheme = '${A}';`),n==="class"?_||v?x+=`c.add(${y})`:x+="null":v&&(x+=`d[s](n,${y})`),x},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${OR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:g}})});var FR=t=>{switch(t){case"success":return BR;case"info":return zR;case"warning":return UR;case"error":return HR;default:return null}},jR=Array(12).fill(0),$R=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},jR.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qR=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Of=1,GR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Of++,o=this.toasts.find(u=>u.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:a,title:r}):u):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],W.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(KR(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Of++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new GR,QR=(t,e)=>{let n=(e==null?void 0:e.id)||Of++;return Vt.addToast({title:t,...e,id:n}),n},KR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",YR=QR,XR=()=>Vt.toasts,JR=()=>Vt.getActiveToasts();Object.assign(YR,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:XR,getToasts:JR});function ZR(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ZR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function eu(t){return t.label!==void 0}var eP=3,tP="32px",nP="16px",_v=4e3,rP=356,sP=14,iP=20,oP=200;function vn(...t){return t.filter(Boolean).join(" ")}function aP(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var lP=t=>{var e,n,r,s,i,o,a,u,c,d,f;let{invert:p,toast:g,unstyled:A,interacting:_,setHeights:I,visibleToasts:v,heights:y,index:x,toasts:D,expanded:O,removeToast:M,defaultRichColors:T,closeButton:E,style:C,cancelButtonStyle:P,actionButtonStyle:N,className:k="",descriptionClassName:R="",duration:H,position:ie,gap:te,loadingIcon:oe,expandByDefault:j,classNames:U,icons:G,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:X}=t,[ce,le]=W.useState(null),[Oe,qe]=W.useState(null),[ge,Dn]=W.useState(!1),[pn,or]=W.useState(!1),[On,ar]=W.useState(!1),[nn,Ns]=W.useState(!1),[Vo,Rr]=W.useState(!1),[ks,Pr]=W.useState(0),[Me,rt]=W.useState(0),Vn=W.useRef(g.duration||H||_v),El=W.useRef(null),Mn=W.useRef(null),Td=x===0,Ds=x+1<=v,It=g.type,lr=g.dismissible!==!1,Mo=g.className||"",Sd=g.descriptionClassName||"",vi=W.useMemo(()=>y.findIndex(Z=>Z.toastId===g.id)||0,[y,g.id]),xl=W.useMemo(()=>{var Z;return(Z=g.closeButton)!=null?Z:E},[g.closeButton,E]),Lo=W.useMemo(()=>g.duration||H||_v,[g.duration,H]),ur=W.useRef(0),Ln=W.useRef(0),wi=W.useRef(0),Dt=W.useRef(null),[Tl,_i]=ie.split("-"),Fo=W.useMemo(()=>y.reduce((Z,_e,Ie)=>Ie>=vi?Z:Z+_e.height,0),[y,vi]),Nr=qR(),Sl=g.invert||p,Xe=It==="loading";Ln.current=W.useMemo(()=>vi*te+Fo,[vi,Fo]),W.useEffect(()=>{Vn.current=Lo},[Lo]),W.useEffect(()=>{Dn(!0)},[]),W.useEffect(()=>{let Z=Mn.current;if(Z){let _e=Z.getBoundingClientRect().height;return rt(_e),I(Ie=>[{toastId:g.id,height:_e,position:g.position},...Ie]),()=>I(Ie=>Ie.filter(st=>st.toastId!==g.id))}},[I,g.id]),W.useLayoutEffect(()=>{if(!ge)return;let Z=Mn.current,_e=Z.style.height;Z.style.height="auto";let Ie=Z.getBoundingClientRect().height;Z.style.height=_e,rt(Ie),I(st=>st.find(Wt=>Wt.toastId===g.id)?st.map(Wt=>Wt.toastId===g.id?{...Wt,height:Ie}:Wt):[{toastId:g.id,height:Ie,position:g.position},...st])},[ge,g.title,g.description,I,g.id]);let mn=W.useCallback(()=>{or(!0),Pr(Ln.current),I(Z=>Z.filter(_e=>_e.toastId!==g.id)),setTimeout(()=>{M(g)},oP)},[g,M,I,Ln]);W.useEffect(()=>{if(g.promise&&It==="loading"||g.duration===1/0||g.type==="loading")return;let Z;return O||_||X&&Nr?(()=>{if(wi.current<ur.current){let _e=new Date().getTime()-ur.current;Vn.current=Vn.current-_e}wi.current=new Date().getTime()})():Vn.current!==1/0&&(ur.current=new Date().getTime(),Z=setTimeout(()=>{var _e;(_e=g.onAutoClose)==null||_e.call(g,g),mn()},Vn.current)),()=>clearTimeout(Z)},[O,_,g,It,X,Nr,mn]),W.useEffect(()=>{g.delete&&mn()},[mn,g.delete]);function Os(){var Z,_e,Ie;return G!=null&&G.loading?W.createElement("div",{className:vn(U==null?void 0:U.loader,(Z=g==null?void 0:g.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":It==="loading"},G.loading):oe?W.createElement("div",{className:vn(U==null?void 0:U.loader,(_e=g==null?void 0:g.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":It==="loading"},oe):W.createElement($R,{className:vn(U==null?void 0:U.loader,(Ie=g==null?void 0:g.classNames)==null?void 0:Ie.loader),visible:It==="loading"})}return W.createElement("li",{tabIndex:0,ref:Mn,className:vn(k,Mo,U==null?void 0:U.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[It],(n=g==null?void 0:g.classNames)==null?void 0:n[It]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:T,"data-styled":!(g.jsx||g.unstyled||A),"data-mounted":ge,"data-promise":!!g.promise,"data-swiped":Vo,"data-removed":pn,"data-visible":Ds,"data-y-position":Tl,"data-x-position":_i,"data-index":x,"data-front":Td,"data-swiping":On,"data-dismissible":lr,"data-type":It,"data-invert":Sl,"data-swipe-out":nn,"data-swipe-direction":Oe,"data-expanded":!!(O||j&&ge),style:{"--index":x,"--toasts-before":x,"--z-index":D.length-x,"--offset":`${pn?ks:Ln.current}px`,"--initial-height":j?"auto":`${Me}px`,...C,...g.style},onDragEnd:()=>{ar(!1),le(null),Dt.current=null},onPointerDown:Z=>{Xe||!lr||(El.current=new Date,Pr(Ln.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(ar(!0),Dt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,_e,Ie,st;if(nn||!lr)return;Dt.current=null;let Wt=Number(((Z=Mn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fn=Number(((_e=Mn.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rn=new Date().getTime()-((Ie=El.current)==null?void 0:Ie.getTime()),Ot=ce==="x"?Wt:Fn,gn=Math.abs(Ot)/rn;if(Math.abs(Ot)>=iP||gn>.11){Pr(Ln.current),(st=g.onDismiss)==null||st.call(g,g),qe(ce==="x"?Wt>0?"right":"left":Fn>0?"down":"up"),mn(),Ns(!0),Rr(!1);return}ar(!1),le(null)},onPointerMove:Z=>{var _e,Ie,st,Wt;if(!Dt.current||!lr||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let Fn=Z.clientY-Dt.current.y,rn=Z.clientX-Dt.current.x,Ot=(Ie=t.swipeDirections)!=null?Ie:aP(ie);!ce&&(Math.abs(rn)>1||Math.abs(Fn)>1)&&le(Math.abs(rn)>Math.abs(Fn)?"x":"y");let gn={x:0,y:0};ce==="y"?(Ot.includes("top")||Ot.includes("bottom"))&&(Ot.includes("top")&&Fn<0||Ot.includes("bottom")&&Fn>0)&&(gn.y=Fn):ce==="x"&&(Ot.includes("left")||Ot.includes("right"))&&(Ot.includes("left")&&rn<0||Ot.includes("right")&&rn>0)&&(gn.x=rn),(Math.abs(gn.x)>0||Math.abs(gn.y)>0)&&Rr(!0),(st=Mn.current)==null||st.style.setProperty("--swipe-amount-x",`${gn.x}px`),(Wt=Mn.current)==null||Wt.style.setProperty("--swipe-amount-y",`${gn.y}px`)}},xl&&!g.jsx?W.createElement("button",{"aria-label":re,"data-disabled":Xe,"data-close-button":!0,onClick:Xe||!lr?()=>{}:()=>{var Z;mn(),(Z=g.onDismiss)==null||Z.call(g,g)},className:vn(U==null?void 0:U.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:WR):null,g.jsx||b.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,It||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:vn(U==null?void 0:U.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Os():null,g.type!=="loading"?g.icon||(G==null?void 0:G[It])||FR(It):null):null,W.createElement("div",{"data-content":"",className:vn(U==null?void 0:U.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:vn(U==null?void 0:U.title,(u=g==null?void 0:g.classNames)==null?void 0:u.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:vn(R,Sd,U==null?void 0:U.description,(c=g==null?void 0:g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),b.isValidElement(g.cancel)?g.cancel:g.cancel&&eu(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:Z=>{var _e,Ie;eu(g.cancel)&&lr&&((Ie=(_e=g.cancel).onClick)==null||Ie.call(_e,Z),mn())},className:vn(U==null?void 0:U.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,b.isValidElement(g.action)?g.action:g.action&&eu(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:Z=>{var _e,Ie;eu(g.action)&&((Ie=(_e=g.action).onClick)==null||Ie.call(_e,Z),!Z.defaultPrevented&&mn())},className:vn(U==null?void 0:U.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function Ev(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function uP(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?nP:tP;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(a)}),n}var cP=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:u,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:g,visibleToasts:A=eP,toastOptions:_,dir:I=Ev(),gap:v=sP,loadingIcon:y,icons:x,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:O}=t,[M,T]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[C,P]=W.useState([]),[N,k]=W.useState(!1),[R,H]=W.useState(!1),[ie,te]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),G=W.useRef(!1),re=W.useCallback(X=>{T(ce=>{var le;return(le=ce.find(Oe=>Oe.id===X.id))!=null&&le.delete||Vt.dismiss(X.id),ce.filter(({id:Oe})=>Oe!==X.id)})},[]);return W.useEffect(()=>Vt.subscribe(X=>{if(X.dismiss){T(ce=>ce.map(le=>le.id===X.id?{...le,delete:!0}:le));return}setTimeout(()=>{WE.flushSync(()=>{T(ce=>{let le=ce.findIndex(Oe=>Oe.id===X.id);return le!==-1?[...ce.slice(0,le),{...ce[le],...X},...ce.slice(le+1)]:[X,...ce]})})})}),[]),W.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ce})=>{te(ce?"dark":"light")})}catch{X.addListener(({matches:le})=>{try{te(le?"dark":"light")}catch(Oe){console.error(Oe)}})}},[d]),W.useEffect(()=>{M.length<=1&&k(!1)},[M]),W.useEffect(()=>{let X=ce=>{var le,Oe;s.every(qe=>ce[qe]||ce.code===qe)&&(k(!0),(le=oe.current)==null||le.focus()),ce.code==="Escape"&&(document.activeElement===oe.current||(Oe=oe.current)!=null&&Oe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(oe.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,G.current=!1)}},[oe.current]),W.createElement("section",{ref:e,"aria-label":`${D} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((X,ce)=>{var le;let[Oe,qe]=X.split("-");return M.length?W.createElement("ol",{key:X,dir:I==="auto"?Ev():I,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Oe,"data-lifted":N&&M.length>1&&!i,"data-x-position":qe,style:{"--front-toast-height":`${((le=C[0])==null?void 0:le.height)||0}px`,"--width":`${rP}px`,"--gap":`${v}px`,...g,...uP(u,c)},onBlur:ge=>{G.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(G.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||G.current||(G.current=!0,U.current=ge.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{R||k(!1)},onDragEnd:()=>k(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},M.filter(ge=>!ge.position&&ce===0||ge.position===X).map((ge,Dn)=>{var pn,or;return W.createElement(lP,{key:ge.id,icons:x,index:Dn,toast:ge,defaultRichColors:f,duration:(pn=_==null?void 0:_.duration)!=null?pn:p,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:A,closeButton:(or=_==null?void 0:_.closeButton)!=null?or:o,interacting:R,position:X,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:re,toasts:M.filter(On=>On.position==ge.position),heights:C.filter(On=>On.position==ge.position),setHeights:P,expandByDefault:i,gap:v,loadingIcon:y,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const dP=({...t})=>{const{theme:e="system"}=LR();return w.jsx(cP,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},hP=["top","right","bottom","left"],ws=Math.min,Qt=Math.max,sc=Math.round,tu=Math.floor,Xn=t=>({x:t,y:t}),fP={left:"right",right:"left",bottom:"top",top:"bottom"},pP={start:"end",end:"start"};function Vf(t,e,n){return Qt(t,ws(e,n))}function Tr(t,e){return typeof t=="function"?t(e):t}function Sr(t){return t.split("-")[0]}function Co(t){return t.split("-")[1]}function vm(t){return t==="x"?"y":"x"}function wm(t){return t==="y"?"height":"width"}const mP=new Set(["top","bottom"]);function Qn(t){return mP.has(Sr(t))?"y":"x"}function _m(t){return vm(Qn(t))}function gP(t,e,n){n===void 0&&(n=!1);const r=Co(t),s=_m(t),i=wm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ic(o)),[o,ic(o)]}function yP(t){const e=ic(t);return[Mf(t),e,Mf(e)]}function Mf(t){return t.replace(/start|end/g,e=>pP[e])}const xv=["left","right"],Tv=["right","left"],vP=["top","bottom"],wP=["bottom","top"];function _P(t,e,n){switch(t){case"top":case"bottom":return n?e?Tv:xv:e?xv:Tv;case"left":case"right":return e?vP:wP;default:return[]}}function EP(t,e,n,r){const s=Co(t);let i=_P(Sr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Mf)))),i}function ic(t){return t.replace(/left|right|bottom|top/g,e=>fP[e])}function xP(t){return{top:0,right:0,bottom:0,left:0,...t}}function kx(t){return typeof t!="number"?xP(t):{top:t,right:t,bottom:t,left:t}}function oc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Sv(t,e,n){let{reference:r,floating:s}=t;const i=Qn(e),o=_m(e),a=wm(o),u=Sr(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(u){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Co(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const TP=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Sv(c,r,u),p=r,g={},A=0;for(let _=0;_<a.length;_++){const{name:I,fn:v}=a[_],{x:y,y:x,data:D,reset:O}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=x??f,g={...g,[I]:{...g[I],...D}},O&&A<=50&&(A++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=Sv(c,p,u)),_=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Wa(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Tr(e,t),A=kx(g),I=a[p?f==="floating"?"reference":"floating":f],v=oc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},O=oc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:u}):y);return{top:(v.top-O.top+A.top)/D.y,bottom:(O.bottom-v.bottom+A.bottom)/D.y,left:(v.left-O.left+A.left)/D.x,right:(O.right-v.right+A.right)/D.x}}const SP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Tr(t,e)||{};if(c==null)return{};const f=kx(d),p={x:n,y:r},g=_m(s),A=wm(g),_=await o.getDimensions(c),I=g==="y",v=I?"top":"left",y=I?"bottom":"right",x=I?"clientHeight":"clientWidth",D=i.reference[A]+i.reference[g]-p[g]-i.floating[A],O=p[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=M?M[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(M)))&&(T=a.floating[x]||i.floating[A]);const E=D/2-O/2,C=T/2-_[A]/2-1,P=ws(f[v],C),N=ws(f[y],C),k=P,R=T-_[A]-N,H=T/2-_[A]/2+E,ie=Vf(k,H,R),te=!u.arrow&&Co(s)!=null&&H!==ie&&i.reference[A]/2-(H<k?P:N)-_[A]/2<0,oe=te?H<k?H-k:H-R:0;return{[g]:p[g]+oe,data:{[g]:ie,centerOffset:H-ie-oe,...te&&{alignmentOffset:oe}},reset:te}}}),IP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:_=!0,...I}=Tr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Sr(s),y=Qn(a),x=Sr(a)===a,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=p||(x||!_?[ic(a)]:yP(a)),M=A!=="none";!p&&M&&O.push(...EP(a,_,A,D));const T=[a,...O],E=await Wa(e,I),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(E[v]),f){const H=gP(s,o,D);C.push(E[H[0]],E[H[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(H=>H<=0)){var N,k;const H=(((N=i.flip)==null?void 0:N.index)||0)+1,ie=T[H];if(ie&&(!(f==="alignment"?y!==Qn(ie):!1)||P.every(j=>Qn(j.placement)===y?j.overflows[0]>0:!0)))return{data:{index:H,overflows:P},reset:{placement:ie}};let te=(k=P.filter(oe=>oe.overflows[0]<=0).sort((oe,j)=>oe.overflows[1]-j.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(g){case"bestFit":{var R;const oe=(R=P.filter(j=>{if(M){const U=Qn(j.placement);return U===y||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:R[0];oe&&(te=oe);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function Iv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Av(t){return hP.some(e=>t[e]>=0)}const AP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Tr(t,e);switch(r){case"referenceHidden":{const i=await Wa(e,{...s,elementContext:"reference"}),o=Iv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Av(o)}}}case"escaped":{const i=await Wa(e,{...s,altBoundary:!0}),o=Iv(i,n.floating);return{data:{escapedOffsets:o,escaped:Av(o)}}}default:return{}}}}},Dx=new Set(["left","top"]);async function bP(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Sr(n),a=Co(n),u=Qn(n)==="y",c=Dx.has(o)?-1:1,d=i&&u?-1:1,f=Tr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof A=="number"&&(g=a==="end"?A*-1:A),u?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const CP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await bP(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},RP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:v,y}=I;return{x:v,y}}},...u}=Tr(t,e),c={x:n,y:r},d=await Wa(e,u),f=Qn(Sr(s)),p=vm(f);let g=c[p],A=c[f];if(i){const I=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=g+d[I],x=g-d[v];g=Vf(y,g,x)}if(o){const I=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=A+d[I],x=A-d[v];A=Vf(y,A,x)}const _=a.fn({...e,[p]:g,[f]:A});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[f]:o}}}}}},PP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Tr(t,e),d={x:n,y:r},f=Qn(s),p=vm(f);let g=d[p],A=d[f];const _=Tr(a,e),I=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const x=p==="y"?"height":"width",D=i.reference[p]-i.floating[x]+I.mainAxis,O=i.reference[p]+i.reference[x]-I.mainAxis;g<D?g=D:g>O&&(g=O)}if(c){var v,y;const x=p==="y"?"width":"height",D=Dx.has(Sr(s)),O=i.reference[f]-i.floating[x]+(D&&((v=o.offset)==null?void 0:v[f])||0)+(D?0:I.crossAxis),M=i.reference[f]+i.reference[x]+(D?0:((y=o.offset)==null?void 0:y[f])||0)-(D?I.crossAxis:0);A<O?A=O:A>M&&(A=M)}return{[p]:g,[f]:A}}}},NP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Tr(t,e),d=await Wa(e,c),f=Sr(s),p=Co(s),g=Qn(s)==="y",{width:A,height:_}=i.floating;let I,v;f==="top"||f==="bottom"?(I=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,I=p==="end"?"top":"bottom");const y=_-d.top-d.bottom,x=A-d.left-d.right,D=ws(_-d[I],y),O=ws(A-d[v],x),M=!e.middlewareData.shift;let T=D,E=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),M&&!p){const P=Qt(d.left,0),N=Qt(d.right,0),k=Qt(d.top,0),R=Qt(d.bottom,0);g?E=A-2*(P!==0||N!==0?P+N:Qt(d.left,d.right)):T=_-2*(k!==0||R!==0?k+R:Qt(d.top,d.bottom))}await u({...e,availableWidth:E,availableHeight:T});const C=await o.getDimensions(a.floating);return A!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function Qc(){return typeof window<"u"}function Ro(t){return Ox(t)?(t.nodeName||"").toLowerCase():"#document"}function Xt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ir(t){var e;return(e=(Ox(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ox(t){return Qc()?t instanceof Node||t instanceof Xt(t).Node:!1}function Pn(t){return Qc()?t instanceof Element||t instanceof Xt(t).Element:!1}function rr(t){return Qc()?t instanceof HTMLElement||t instanceof Xt(t).HTMLElement:!1}function bv(t){return!Qc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xt(t).ShadowRoot}const kP=new Set(["inline","contents"]);function pl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!kP.has(s)}const DP=new Set(["table","td","th"]);function OP(t){return DP.has(Ro(t))}const VP=[":popover-open",":modal"];function Kc(t){return VP.some(e=>{try{return t.matches(e)}catch{return!1}})}const MP=["transform","translate","scale","rotate","perspective"],LP=["transform","translate","scale","rotate","perspective","filter"],FP=["paint","layout","strict","content"];function Em(t){const e=xm(),n=Pn(t)?Nn(t):t;return MP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||LP.some(r=>(n.willChange||"").includes(r))||FP.some(r=>(n.contain||"").includes(r))}function jP(t){let e=_s(t);for(;rr(e)&&!mo(e);){if(Em(e))return e;if(Kc(e))return null;e=_s(e)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $P=new Set(["html","body","#document"]);function mo(t){return $P.has(Ro(t))}function Nn(t){return Xt(t).getComputedStyle(t)}function Yc(t){return Pn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _s(t){if(Ro(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bv(t)&&t.host||ir(t);return bv(e)?e.host:e}function Vx(t){const e=_s(t);return mo(e)?t.ownerDocument?t.ownerDocument.body:t.body:rr(e)&&pl(e)?e:Vx(e)}function qa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Vx(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Xt(s);if(i){const a=Lf(o);return e.concat(o,o.visualViewport||[],pl(s)?s:[],a&&n?qa(a):[])}return e.concat(s,qa(s,[],n))}function Lf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Mx(t){const e=Nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=rr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=sc(n)!==i||sc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Tm(t){return Pn(t)?t:t.contextElement}function Gi(t){const e=Tm(t);if(!rr(e))return Xn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Mx(e);let o=(i?sc(n.width):n.width)/r,a=(i?sc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const BP=Xn(0);function Lx(t){const e=Xt(t);return!xm()||!e.visualViewport?BP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xt(t)?!1:e}function oi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Tm(t);let o=Xn(1);e&&(r?Pn(r)&&(o=Gi(r)):o=Gi(t));const a=UP(i,n,r)?Lx(i):Xn(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Xt(i),g=r&&Pn(r)?Xt(r):r;let A=p,_=Lf(A);for(;_&&r&&g!==A;){const I=Gi(_),v=_.getBoundingClientRect(),y=Nn(_),x=v.left+(_.clientLeft+parseFloat(y.paddingLeft))*I.x,D=v.top+(_.clientTop+parseFloat(y.paddingTop))*I.y;u*=I.x,c*=I.y,d*=I.x,f*=I.y,u+=x,c+=D,A=Xt(_),_=Lf(A)}}return oc({width:d,height:f,x:u,y:c})}function Xc(t,e){const n=Yc(t).scrollLeft;return e?e.left+n:oi(ir(t)).left+n}function Fx(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Xc(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function zP(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ir(r),a=e?Kc(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Xn(1);const d=Xn(0),f=rr(r);if((f||!f&&!i)&&((Ro(r)!=="body"||pl(o))&&(u=Yc(r)),rr(r))){const g=oi(r);c=Gi(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!i?Fx(o,u):Xn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function HP(t){return Array.from(t.getClientRects())}function WP(t){const e=ir(t),n=Yc(t),r=t.ownerDocument.body,s=Qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Xc(t);const a=-n.scrollTop;return Nn(r).direction==="rtl"&&(o+=Qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Cv=25;function qP(t,e){const n=Xt(t),r=ir(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const d=xm();(!d||d&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}const c=Xc(r);if(c<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,A=Math.abs(r.clientWidth-f.clientWidth-g);A<=Cv&&(i-=A)}else c<=Cv&&(i+=c);return{width:i,height:o,x:a,y:u}}const GP=new Set(["absolute","fixed"]);function QP(t,e){const n=oi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=rr(t)?Gi(t):Xn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function Rv(t,e,n){let r;if(e==="viewport")r=qP(t,n);else if(e==="document")r=WP(ir(t));else if(Pn(e))r=QP(e,n);else{const s=Lx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return oc(r)}function jx(t,e){const n=_s(t);return n===e||!Pn(n)||mo(n)?!1:Nn(n).position==="fixed"||jx(n,e)}function KP(t,e){const n=e.get(t);if(n)return n;let r=qa(t,[],!1).filter(a=>Pn(a)&&Ro(a)!=="body"),s=null;const i=Nn(t).position==="fixed";let o=i?_s(t):t;for(;Pn(o)&&!mo(o);){const a=Nn(o),u=Em(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&GP.has(s.position)||pl(o)&&!u&&jx(t,o))?r=r.filter(d=>d!==o):s=a,o=_s(o)}return e.set(t,r),r}function YP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Kc(e)?[]:KP(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const f=Rv(e,d,s);return c.top=Qt(f.top,c.top),c.right=ws(f.right,c.right),c.bottom=ws(f.bottom,c.bottom),c.left=Qt(f.left,c.left),c},Rv(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function XP(t){const{width:e,height:n}=Mx(t);return{width:e,height:n}}function JP(t,e,n){const r=rr(e),s=ir(e),i=n==="fixed",o=oi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Xn(0);function c(){u.x=Xc(s)}if(r||!r&&!i)if((Ro(e)!=="body"||pl(s))&&(a=Yc(e)),r){const g=oi(e,!0,i,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Fx(s,a):Xn(0),f=o.left+a.scrollLeft-u.x-d.x,p=o.top+a.scrollTop-u.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function vh(t){return Nn(t).position==="static"}function Pv(t,e){if(!rr(t)||Nn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ir(t)===n&&(n=n.ownerDocument.body),n}function $x(t,e){const n=Xt(t);if(Kc(t))return n;if(!rr(t)){let s=_s(t);for(;s&&!mo(s);){if(Pn(s)&&!vh(s))return s;s=_s(s)}return n}let r=Pv(t,e);for(;r&&OP(r)&&vh(r);)r=Pv(r,e);return r&&mo(r)&&vh(r)&&!Em(r)?n:r||jP(t)||n}const ZP=async function(t){const e=this.getOffsetParent||$x,n=this.getDimensions,r=await n(t.floating);return{reference:JP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function e2(t){return Nn(t).direction==="rtl"}const t2={convertOffsetParentRelativeRectToViewportRelativeRect:zP,getDocumentElement:ir,getClippingRect:YP,getOffsetParent:$x,getElementRects:ZP,getClientRects:HP,getDimensions:XP,getScale:Gi,isElement:Pn,isRTL:e2};function Bx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function n2(t,e){let n=null,r;const s=ir(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=c;if(a||e(),!p||!g)return;const A=tu(f),_=tu(s.clientWidth-(d+p)),I=tu(s.clientHeight-(f+g)),v=tu(d),x={rootMargin:-A+"px "+-_+"px "+-I+"px "+-v+"px",threshold:Qt(0,ws(1,u))||1};let D=!0;function O(M){const T=M[0].intersectionRatio;if(T!==u){if(!D)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Bx(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),i}function r2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Tm(t),d=s||i?[...c?qa(c):[],...qa(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&a?n2(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),n()}),c&&!u&&g.observe(c),g.observe(e));let A,_=u?oi(t):null;u&&I();function I(){const v=oi(t);_&&!Bx(_,v)&&n(),_=v,A=requestAnimationFrame(I)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,u&&cancelAnimationFrame(A)}}const s2=CP,i2=RP,o2=IP,a2=NP,l2=AP,Nv=SP,u2=PP,c2=(t,e,n)=>{const r=new Map,s={platform:t2,...n},i={...s.platform,_c:r};return TP(t,e,{...s,platform:i})};var d2=typeof document<"u",h2=function(){},Au=d2?b.useLayoutEffect:h2;function ac(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ac(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ac(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ux(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kv(t,e){const n=Ux(t);return Math.round(e*n)/n}function wh(t){const e=b.useRef(t);return Au(()=>{e.current=t}),e}function f2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=b.useState(r);ac(p,r)||g(r);const[A,_]=b.useState(null),[I,v]=b.useState(null),y=b.useCallback(j=>{j!==M.current&&(M.current=j,_(j))},[]),x=b.useCallback(j=>{j!==T.current&&(T.current=j,v(j))},[]),D=i||A,O=o||I,M=b.useRef(null),T=b.useRef(null),E=b.useRef(d),C=u!=null,P=wh(u),N=wh(s),k=wh(c),R=b.useCallback(()=>{if(!M.current||!T.current)return;const j={placement:e,strategy:n,middleware:p};N.current&&(j.platform=N.current),c2(M.current,T.current,j).then(U=>{const G={...U,isPositioned:k.current!==!1};H.current&&!ac(E.current,G)&&(E.current=G,dl.flushSync(()=>{f(G)}))})},[p,e,n,N,k]);Au(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const H=b.useRef(!1);Au(()=>(H.current=!0,()=>{H.current=!1}),[]),Au(()=>{if(D&&(M.current=D),O&&(T.current=O),D&&O){if(P.current)return P.current(D,O,R);R()}},[D,O,R,P,C]);const ie=b.useMemo(()=>({reference:M,floating:T,setReference:y,setFloating:x}),[y,x]),te=b.useMemo(()=>({reference:D,floating:O}),[D,O]),oe=b.useMemo(()=>{const j={position:n,left:0,top:0};if(!te.floating)return j;const U=kv(te.floating,d.x),G=kv(te.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+G+"px)",...Ux(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:G}},[n,a,te.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:R,refs:ie,elements:te,floatingStyles:oe}),[d,R,ie,te,oe])}const p2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Nv({element:r.current,padding:s}).fn(n):{}:r?Nv({element:r,padding:s}).fn(n):{}}}},m2=(t,e)=>({...s2(t),options:[t,e]}),g2=(t,e)=>({...i2(t),options:[t,e]}),y2=(t,e)=>({...u2(t),options:[t,e]}),v2=(t,e)=>({...o2(t),options:[t,e]}),w2=(t,e)=>({...a2(t),options:[t,e]}),_2=(t,e)=>({...l2(t),options:[t,e]}),E2=(t,e)=>({...p2(t),options:[t,e]});var x2="Arrow",zx=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return w.jsx(zt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});zx.displayName=x2;var T2=zx;function S2(t){const[e,n]=b.useState(void 0);return vs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Hx="Popper",[Wx,qx]=Wc(Hx),[t3,Gx]=Wx(Hx),Qx="PopperAnchor",Kx=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Gx(Qx,n),o=b.useRef(null),a=Rn(e,o),u=b.useRef(null);return b.useEffect(()=>{const c=u.current;u.current=(r==null?void 0:r.current)||o.current,c!==u.current&&i.onAnchorChange(u.current)}),r?null:w.jsx(zt.div,{...s,ref:a})});Kx.displayName=Qx;var Sm="PopperContent",[I2,A2]=Wx(Sm),Yx=b.forwardRef((t,e)=>{var ge,Dn,pn,or,On,ar;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:A,..._}=t,I=Gx(Sm,n),[v,y]=b.useState(null),x=Rn(e,nn=>y(nn)),[D,O]=b.useState(null),M=S2(D),T=(M==null?void 0:M.width)??0,E=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],k=N.length>0,R={padding:P,boundary:N.filter(C2),altBoundary:k},{refs:H,floatingStyles:ie,placement:te,isPositioned:oe,middlewareData:j}=f2({strategy:"fixed",placement:C,whileElementsMounted:(...nn)=>r2(...nn,{animationFrame:g==="always"}),elements:{reference:I.anchor},middleware:[m2({mainAxis:s+E,alignmentAxis:o}),u&&g2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?y2():void 0,...R}),u&&v2({...R}),w2({...R,apply:({elements:nn,rects:Ns,availableWidth:Vo,availableHeight:Rr})=>{const{width:ks,height:Pr}=Ns.reference,Me=nn.floating.style;Me.setProperty("--radix-popper-available-width",`${Vo}px`),Me.setProperty("--radix-popper-available-height",`${Rr}px`),Me.setProperty("--radix-popper-anchor-width",`${ks}px`),Me.setProperty("--radix-popper-anchor-height",`${Pr}px`)}}),D&&E2({element:D,padding:a}),R2({arrowWidth:T,arrowHeight:E}),p&&_2({strategy:"referenceHidden",...R})]}),[U,G]=Zx(te),re=ys(A);vs(()=>{oe&&(re==null||re())},[oe,re]);const X=(ge=j.arrow)==null?void 0:ge.x,ce=(Dn=j.arrow)==null?void 0:Dn.y,le=((pn=j.arrow)==null?void 0:pn.centerOffset)!==0,[Oe,qe]=b.useState();return vs(()=>{v&&qe(window.getComputedStyle(v).zIndex)},[v]),w.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:oe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(or=j.transformOrigin)==null?void 0:or.x,(On=j.transformOrigin)==null?void 0:On.y].join(" "),...((ar=j.hide)==null?void 0:ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(I2,{scope:n,placedSide:U,onArrowChange:O,arrowX:X,arrowY:ce,shouldHideArrow:le,children:w.jsx(zt.div,{"data-side":U,"data-align":G,..._,ref:x,style:{..._.style,animation:oe?void 0:"none"}})})})});Yx.displayName=Sm;var Xx="PopperArrow",b2={top:"bottom",right:"left",bottom:"top",left:"right"},Jx=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=A2(Xx,r),o=b2[i.placedSide];return w.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w.jsx(T2,{...s,ref:n,style:{...s.style,display:"block"}})})});Jx.displayName=Xx;function C2(t){return t!==null}var R2=t=>({name:"transformOrigin",options:t,fn(e){var I,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=Zx(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let A="",_="";return c==="bottom"?(A=o?f:`${p}px`,_=`${-u}px`):c==="top"?(A=o?f:`${p}px`,_=`${r.floating.height+u}px`):c==="right"?(A=`${-u}px`,_=o?f:`${g}px`):c==="left"&&(A=`${r.floating.width+u}px`,_=o?f:`${g}px`),{data:{x:A,y:_}}}});function Zx(t){const[e,n="center"]=t.split("-");return[e,n]}var P2=Kx,N2=Yx,k2=Jx,D2=Symbol("radix.slottable");function O2(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=D2,e}var[Jc]=Wc("Tooltip",[qx]),Im=qx(),e1="TooltipProvider",V2=700,Dv="tooltip.open",[M2,t1]=Jc(e1),n1=t=>{const{__scopeTooltip:e,delayDuration:n=V2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),w.jsx(M2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};n1.displayName=e1;var r1="Tooltip",[n3,Zc]=Jc(r1),Ff="TooltipTrigger",L2=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zc(Ff,n),i=t1(Ff,n),o=Im(n),a=b.useRef(null),u=Rn(e,a,s.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),w.jsx(P2,{asChild:!0,...o,children:w.jsx(zt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:et(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:et(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:et(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:et(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:et(t.onBlur,s.onClose),onClick:et(t.onClick,s.onClose)})})});L2.displayName=Ff;var F2="TooltipPortal",[r3,j2]=Jc(F2,{forceMount:void 0}),go="TooltipContent",s1=b.forwardRef((t,e)=>{const n=j2(go,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Zc(go,t.__scopeTooltip);return w.jsx(fm,{present:r||o.open,children:o.disableHoverableContent?w.jsx(i1,{side:s,...i,ref:e}):w.jsx($2,{side:s,...i,ref:e})})}),$2=b.forwardRef((t,e)=>{const n=Zc(go,t.__scopeTooltip),r=t1(go,t.__scopeTooltip),s=b.useRef(null),i=Rn(e,s),[o,a]=b.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=b.useCallback(()=>{a(null),f(!1)},[f]),g=b.useCallback((A,_)=>{const I=A.currentTarget,v={x:A.clientX,y:A.clientY},y=W2(v,I.getBoundingClientRect()),x=q2(v,y),D=G2(_.getBoundingClientRect()),O=K2([...x,...D]);a(O),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(u&&d){const A=I=>g(I,d),_=I=>g(I,u);return u.addEventListener("pointerleave",A),d.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",_)}}},[u,d,g,p]),b.useEffect(()=>{if(o){const A=_=>{const I=_.target,v={x:_.clientX,y:_.clientY},y=(u==null?void 0:u.contains(I))||(d==null?void 0:d.contains(I)),x=!Q2(v,o);y?p():x&&(p(),c())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[u,d,o,c,p]),w.jsx(i1,{...t,ref:i})}),[B2,U2]=Jc(r1,{isInside:!1}),z2=O2("TooltipContent"),i1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Zc(go,n),c=Im(n),{onClose:d}=u;return b.useEffect(()=>(document.addEventListener(Dv,d),()=>document.removeEventListener(Dv,d)),[d]),b.useEffect(()=>{if(u.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(u.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,d]),w.jsx(hm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:w.jsxs(N2,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(z2,{children:r}),w.jsx(B2,{scope:n,isInside:!0,children:w.jsx(bC,{id:u.contentId,role:"tooltip",children:s||r})})]})})});s1.displayName=go;var o1="TooltipArrow",H2=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Im(n);return U2(o1,n).isInside?null:w.jsx(k2,{...s,...r,ref:e})});H2.displayName=o1;function W2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function q2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function G2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Q2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],u=e[o],c=a.x,d=a.y,f=u.x,p=u.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function K2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Y2(e)}function Y2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var X2=n1,a1=s1;const J2=X2,Z2=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(a1,{ref:r,sideOffset:e,className:Ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Z2.displayName=a1.displayName;var ed=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eN={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},qr,gp,T0,tN=(T0=class{constructor(){me(this,qr,eN);me(this,gp,!1)}setTimeoutProvider(t){ne(this,qr,t)}setTimeout(t,e){return F(this,qr).setTimeout(t,e)}clearTimeout(t){F(this,qr).clearTimeout(t)}setInterval(t,e){return F(this,qr).setInterval(t,e)}clearInterval(t){F(this,qr).clearInterval(t)}},qr=new WeakMap,gp=new WeakMap,T0),jf=new tN;function nN(t){setTimeout(t,0)}var td=typeof window>"u"||"Deno"in globalThis;function _n(){}function rN(t,e){return typeof t=="function"?t(e):t}function sN(t){return typeof t=="number"&&t>=0&&t!==1/0}function iN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $f(t,e){return typeof t=="function"?t(e):t}function oN(t,e){return typeof t=="function"?t(e):t}function Ov(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Am(o,e.options))return!1}else if(!Qa(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Vv(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ga(e.options.mutationKey)!==Ga(i))return!1}else if(!Qa(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Am(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ga)(t)}function Ga(t){return JSON.stringify(t,(e,n)=>Bf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qa(t[n],e[n])):!1}var aN=Object.prototype.hasOwnProperty;function l1(t,e){if(t===e)return t;const n=Mv(t)&&Mv(e);if(!n&&!(Bf(t)&&Bf(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c],f=t[d],p=e[d];if(f===p){a[d]=f,(n?c<s:aN.call(t,d))&&u++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[d]=p;continue}const g=l1(f,p);a[d]=g,g===f&&u++}return s===o&&u===s?t:a}function Mv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bf(t){if(!Lv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Lv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Lv(t){return Object.prototype.toString.call(t)==="[object Object]"}function lN(t){return new Promise(e=>{jf.setTimeout(e,t)})}function uN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?l1(t,e):e}function cN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bm=Symbol();function u1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gs,Gr,Zi,S0,hN=(S0=class extends ed{constructor(){super();me(this,Gs);me(this,Gr);me(this,Zi);ne(this,Zi,e=>{if(!td&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Gr)||this.setEventListener(F(this,Zi))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Gr))==null||e.call(this),ne(this,Gr,void 0))}setEventListener(e){var n;ne(this,Zi,e),(n=F(this,Gr))==null||n.call(this),ne(this,Gr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Gs)!==e&&(ne(this,Gs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Gs)=="boolean"?F(this,Gs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gs=new WeakMap,Gr=new WeakMap,Zi=new WeakMap,S0),c1=new hN;function fN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var pN=nN;function mN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=pN;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ct=mN(),eo,Qr,to,I0,gN=(I0=class extends ed{constructor(){super();me(this,eo,!0);me(this,Qr);me(this,to);ne(this,to,e=>{if(!td&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Qr)||this.setEventListener(F(this,to))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Qr))==null||e.call(this),ne(this,Qr,void 0))}setEventListener(e){var n;ne(this,to,e),(n=F(this,Qr))==null||n.call(this),ne(this,Qr,e(this.setOnline.bind(this)))}setOnline(e){F(this,eo)!==e&&(ne(this,eo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,eo)}},eo=new WeakMap,Qr=new WeakMap,to=new WeakMap,I0),lc=new gN;function yN(t){return Math.min(1e3*2**t,3e4)}function d1(t){return(t??"online")==="online"?lc.isOnline():!0}var Uf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function h1(t){let e=!1,n=0,r;const s=fN(),i=()=>s.status!=="pending",o=_=>{var I;if(!i()){const v=new Uf(_);p(v),(I=t.onCancel)==null||I.call(t,v)}},a=()=>{e=!0},u=()=>{e=!1},c=()=>c1.isFocused()&&(t.networkMode==="always"||lc.isOnline())&&t.canRun(),d=()=>d1(t.networkMode)&&t.canRun(),f=_=>{i()||(r==null||r(),s.resolve(_))},p=_=>{i()||(r==null||r(),s.reject(_))},g=()=>new Promise(_=>{var I;r=v=>{(i()||c())&&_(v)},(I=t.onPause)==null||I.call(t)}).then(()=>{var _;r=void 0,i()||(_=t.onContinue)==null||_.call(t)}),A=()=>{if(i())return;let _;const I=n===0?t.initialPromise:void 0;try{_=I??t.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(f).catch(v=>{var M;if(i())return;const y=t.retry??(td?0:3),x=t.retryDelay??yN,D=typeof x=="function"?x(n,v):x,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!O){p(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),lN(D).then(()=>c()?void 0:g()).then(()=>{e?p(v):A()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?A():g().then(A),s)}}var Qs,A0,f1=(A0=class{constructor(){me(this,Qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sN(this.gcTime)&&ne(this,Qs,jf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(td?1/0:5*60*1e3))}clearGcTimeout(){F(this,Qs)&&(jf.clearTimeout(F(this,Qs)),ne(this,Qs,void 0))}},Qs=new WeakMap,A0),Ks,no,sn,Ys,ot,rl,Xs,En,dr,b0,vN=(b0=class extends f1{constructor(n){super();me(this,En);me(this,Ks);me(this,no);me(this,sn);me(this,Ys);me(this,ot);me(this,rl);me(this,Xs);ne(this,Xs,!1),ne(this,rl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ne(this,Ys,n.client),ne(this,sn,F(this,Ys).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ne(this,Ks,jv(this.options)),this.state=n.state??F(this,Ks),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,ot))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,rl),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=jv(this.options);r.data!==void 0&&(this.setState(Fv(r.data,r.dataUpdatedAt)),ne(this,Ks,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,sn).remove(this)}setData(n,r){const s=uN(this.state.data,n,this.options);return yt(this,En,dr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){yt(this,En,dr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,ot))==null?void 0:s.promise;return(i=F(this,ot))==null||i.cancel(n),r?r.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Ks))}isActive(){return this.observers.some(n=>oN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>$f(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!iN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,ot))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,ot))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,sn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,ot)&&(F(this,Xs)?F(this,ot).cancel({revert:!0}):F(this,ot).cancelRetry()),this.scheduleGc()),F(this,sn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,En,dr).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,f,p,g,A,_,I,v,y,x,D;if(this.state.fetchStatus!=="idle"&&((c=F(this,ot))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,ot))return F(this,ot).continueRetry(),F(this,ot).promise}if(n&&this.setOptions(n),!this.options.queryFn){const O=this.observers.find(M=>M.options.queryFn);O&&this.setOptions(O.options)}const s=new AbortController,i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(ne(this,Xs,!0),s.signal)})},o=()=>{const O=u1(this.options,r),T=(()=>{const E={client:F(this,Ys),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ne(this,Xs,!1),this.options.persister?this.options.persister(O,T,this):O(T)},u=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ys),state:this.state,fetchFn:o};return i(O),O})();(d=this.options.behavior)==null||d.onFetch(u,this),ne(this,no,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&yt(this,En,dr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta}),ne(this,ot,h1({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:O=>{O instanceof Uf&&O.revert&&this.setState({...F(this,no),fetchStatus:"idle"}),s.abort()},onFail:(O,M)=>{yt(this,En,dr).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{yt(this,En,dr).call(this,{type:"pause"})},onContinue:()=>{yt(this,En,dr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const O=await F(this,ot).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(A=(g=F(this,sn).config).onSuccess)==null||A.call(g,O,this),(I=(_=F(this,sn).config).onSettled)==null||I.call(_,O,this.state.error,this),O}catch(O){if(O instanceof Uf){if(O.silent)return F(this,ot).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw yt(this,En,dr).call(this,{type:"error",error:O}),(y=(v=F(this,sn).config).onError)==null||y.call(v,O,this),(D=(x=F(this,sn).config).onSettled)==null||D.call(x,this.state.data,O,this),O}finally{this.scheduleGc()}}},Ks=new WeakMap,no=new WeakMap,sn=new WeakMap,Ys=new WeakMap,ot=new WeakMap,rl=new WeakMap,Xs=new WeakMap,En=new WeakSet,dr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...wN(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...Fv(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,no,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ct.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,sn).notify({query:this,type:"updated",action:n})})},b0);function wN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Fv(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function $v(t){return{onFetch:(e,n)=>{var d,f,p,g,A;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((A=e.state.data)==null?void 0:A.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let _=!1;const I=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},v=u1(e.options,e.fetchOptions),y=async(x,D,O)=>{if(_)return Promise.reject();if(D==null&&x.pages.length)return Promise.resolve(x);const T=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:D,direction:O?"backward":"forward",meta:e.options.meta};return I(N),N})(),E=await v(T),{maxPages:C}=e.options,P=O?dN:cN;return{pages:P(x.pages,E,C),pageParams:P(x.pageParams,D,C)}};if(s&&i.length){const x=s==="backward",D=x?_N:Bv,O={pages:i,pageParams:o},M=D(r,O);a=await y(O,M,x)}else{const x=t??i.length;do{const D=u===0?o[0]??r.initialPageParam:Bv(r,a);if(u>0&&D==null)break;a=await y(a,D),u++}while(u<x)}return a};e.options.persister?e.fetchFn=()=>{var _,I;return(I=(_=e.options).persister)==null?void 0:I.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Bv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _N(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var sl,Hn,At,Js,Wn,Br,C0,EN=(C0=class extends f1{constructor(n){super();me(this,Wn);me(this,sl);me(this,Hn);me(this,At);me(this,Js);ne(this,sl,n.client),this.mutationId=n.mutationId,ne(this,At,n.mutationCache),ne(this,Hn,[]),this.state=n.state||xN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Hn).includes(n)||(F(this,Hn).push(n),this.clearGcTimeout(),F(this,At).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ne(this,Hn,F(this,Hn).filter(r=>r!==n)),this.scheduleGc(),F(this,At).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Hn).length||(this.state.status==="pending"?this.scheduleGc():F(this,At).remove(this))}continue(){var n;return((n=F(this,Js))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,u,c,d,f,p,g,A,_,I,v,y,x,D,O,M,T,E,C,P;const r=()=>{yt(this,Wn,Br).call(this,{type:"continue"})},s={client:F(this,sl),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,Js,h1({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{yt(this,Wn,Br).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{yt(this,Wn,Br).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,At).canRun(this)}));const i=this.state.status==="pending",o=!F(this,Js).canStart();try{if(i)r();else{yt(this,Wn,Br).call(this,{type:"pending",variables:n,isPaused:o}),await((u=(a=F(this,At).config).onMutate)==null?void 0:u.call(a,n,this,s));const k=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));k!==this.state.context&&yt(this,Wn,Br).call(this,{type:"pending",context:k,variables:n,isPaused:o})}const N=await F(this,Js).start();return await((p=(f=F(this,At).config).onSuccess)==null?void 0:p.call(f,N,n,this.state.context,this,s)),await((A=(g=this.options).onSuccess)==null?void 0:A.call(g,N,n,this.state.context,s)),await((I=(_=F(this,At).config).onSettled)==null?void 0:I.call(_,N,null,this.state.variables,this.state.context,this,s)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,N,null,n,this.state.context,s)),yt(this,Wn,Br).call(this,{type:"success",data:N}),N}catch(N){try{throw await((D=(x=F(this,At).config).onError)==null?void 0:D.call(x,N,n,this.state.context,this,s)),await((M=(O=this.options).onError)==null?void 0:M.call(O,N,n,this.state.context,s)),await((E=(T=F(this,At).config).onSettled)==null?void 0:E.call(T,void 0,N,this.state.variables,this.state.context,this,s)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,N,n,this.state.context,s)),N}finally{yt(this,Wn,Br).call(this,{type:"error",error:N})}}finally{F(this,At).runNext(this)}}},sl=new WeakMap,Hn=new WeakMap,At=new WeakMap,Js=new WeakMap,Wn=new WeakSet,Br=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ct.batch(()=>{F(this,Hn).forEach(s=>{s.onMutationUpdate(n)}),F(this,At).notify({mutation:this,type:"updated",action:n})})},C0);function xN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pr,xn,il,R0,TN=(R0=class extends ed{constructor(e={}){super();me(this,pr);me(this,xn);me(this,il);this.config=e,ne(this,pr,new Set),ne(this,xn,new Map),ne(this,il,0)}build(e,n,r){const s=new EN({client:e,mutationCache:this,mutationId:++Ol(this,il)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,pr).add(e);const n=nu(e);if(typeof n=="string"){const r=F(this,xn).get(n);r?r.push(e):F(this,xn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,pr).delete(e)){const n=nu(e);if(typeof n=="string"){const r=F(this,xn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,xn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=nu(e);if(typeof n=="string"){const r=F(this,xn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=nu(e);if(typeof n=="string"){const s=(r=F(this,xn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ct.batch(()=>{F(this,pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,pr).clear(),F(this,xn).clear()})}getAll(){return Array.from(F(this,pr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Vv(n,r))}findAll(e={}){return this.getAll().filter(n=>Vv(e,n))}notify(e){Ct.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ct.batch(()=>Promise.all(e.map(n=>n.continue().catch(_n))))}},pr=new WeakMap,xn=new WeakMap,il=new WeakMap,R0);function nu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var qn,P0,SN=(P0=class extends ed{constructor(e={}){super();me(this,qn);this.config=e,ne(this,qn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Am(s,n);let o=this.get(i);return o||(o=new vN({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,qn).has(e.queryHash)||(F(this,qn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,qn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,qn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,qn).get(e)}getAll(){return[...F(this,qn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ov(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ov(e,r)):n}notify(e){Ct.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qn=new WeakMap,P0),Ue,Kr,Yr,ro,so,Xr,io,oo,N0,IN=(N0=class{constructor(t={}){me(this,Ue);me(this,Kr);me(this,Yr);me(this,ro);me(this,so);me(this,Xr);me(this,io);me(this,oo);ne(this,Ue,t.queryCache||new SN),ne(this,Kr,t.mutationCache||new TN),ne(this,Yr,t.defaultOptions||{}),ne(this,ro,new Map),ne(this,so,new Map),ne(this,Xr,0)}mount(){Ol(this,Xr)._++,F(this,Xr)===1&&(ne(this,io,c1.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Ue).onFocus())})),ne(this,oo,lc.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Ue).onOnline())})))}unmount(){var t,e;Ol(this,Xr)._--,F(this,Xr)===0&&((t=F(this,io))==null||t.call(this),ne(this,io,void 0),(e=F(this,oo))==null||e.call(this),ne(this,oo,void 0))}isFetching(t){return F(this,Ue).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Kr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Ue).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Ue).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($f(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Ue).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Ue).get(r.queryHash),i=s==null?void 0:s.state.data,o=rN(e,i);if(o!==void 0)return F(this,Ue).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ct.batch(()=>F(this,Ue).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Ue).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Ue);Ct.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Ue);return Ct.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ct.batch(()=>F(this,Ue).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_n).catch(_n)}invalidateQueries(t,e={}){return Ct.batch(()=>(F(this,Ue).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ct.batch(()=>F(this,Ue).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_n)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Ue).build(this,e);return n.isStaleByTime($f(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_n).catch(_n)}fetchInfiniteQuery(t){return t.behavior=$v(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_n).catch(_n)}ensureInfiniteQueryData(t){return t.behavior=$v(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lc.isOnline()?F(this,Kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Ue)}getMutationCache(){return F(this,Kr)}getDefaultOptions(){return F(this,Yr)}setDefaultOptions(t){ne(this,Yr,t)}setQueryDefaults(t,e){F(this,ro).set(Ga(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,ro).values()],n={};return e.forEach(r=>{Qa(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,so).set(Ga(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,so).values()],n={};return e.forEach(r=>{Qa(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Yr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Am(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Yr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Ue).clear(),F(this,Kr).clear()}},Ue=new WeakMap,Kr=new WeakMap,Yr=new WeakMap,ro=new WeakMap,so=new WeakMap,Xr=new WeakMap,io=new WeakMap,oo=new WeakMap,N0),AN=b.createContext(void 0),bN=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(AN.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}var es;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(es||(es={}));const Uv="popstate";function CN(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:m1(s)}return PN(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RN(){return Math.random().toString(36).substr(2,8)}function zv(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n,r){return n===void 0&&(n=null),uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nd(e):e,{state:n,key:e&&e.key||r||RN()})}function m1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PN(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=es.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(uc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=es.Pop;let I=d(),v=I==null?null:I-c;c=I,u&&u({action:a,location:_.location,delta:v})}function p(I,v){a=es.Push;let y=zf(_.location,I,v);c=d()+1;let x=zv(y,c),D=_.createHref(y);try{o.pushState(x,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(D)}i&&u&&u({action:a,location:_.location,delta:1})}function g(I,v){a=es.Replace;let y=zf(_.location,I,v);c=d();let x=zv(y,c),D=_.createHref(y);o.replaceState(x,"",D),i&&u&&u({action:a,location:_.location,delta:0})}function A(I){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof I=="string"?I:m1(I);return y=y.replace(/ $/,"%20"),Ut(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return a},get location(){return t(s,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Uv,f),u=I,()=>{s.removeEventListener(Uv,f),u=null}},createHref(I){return e(s,I)},createURL:A,encodeLocation(I){let v=A(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(I){return o.go(I)}};return _}var Hv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hv||(Hv={}));function NN(t,e,n){return n===void 0&&(n="/"),kN(t,e,n)}function kN(t,e,n,r){let s=typeof e=="string"?nd(e):e,i=v1(s.pathname||"/",n);if(i==null)return null;let o=g1(t);DN(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=WN(i);a=UN(o[u],c)}return a}function g1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ut(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Qi([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(Ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),g1(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:$N(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of y1(i.path))s(i,o,u)}),e}function y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=y1(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function DN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ON=/^:[\w-]+$/,VN=3,MN=2,LN=1,FN=10,jN=-2,Wv=t=>t==="*";function $N(t,e){let n=t.split("/"),r=n.length;return n.some(Wv)&&(r+=jN),e&&(r+=MN),n.filter(s=>!Wv(s)).reduce((s,i)=>s+(ON.test(i)?VN:i===""?LN:FN),r)}function BN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function UN(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=zN({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Qi([i,f.pathname]),pathnameBase:qN(Qi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Qi([i,f.pathnameBase]))}return o}function zN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const A=a[f];return g&&!A?c[p]=void 0:c[p]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function HN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),p1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function WN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function v1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),qN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function GN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const w1=["post","put","patch","delete"];new Set(w1);const QN=["get",...w1];new Set(QN);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}const KN=b.createContext(null),YN=b.createContext(null),_1=b.createContext(null),rd=b.createContext(null),sd=b.createContext({outlet:null,matches:[],isDataRoute:!1}),E1=b.createContext(null);function Cm(){return b.useContext(rd)!=null}function x1(){return Cm()||Ut(!1),b.useContext(rd).location}function XN(t,e){return JN(t,e)}function JN(t,e,n,r){Cm()||Ut(!1);let{navigator:s}=b.useContext(_1),{matches:i}=b.useContext(sd),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=x1(),d;if(e){var f;let I=typeof e=="string"?nd(e):e;u==="/"||(f=I.pathname)!=null&&f.startsWith(u)||Ut(!1),d=I}else d=c;let p=d.pathname||"/",g=p;if(u!=="/"){let I=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=NN(t,{pathname:g}),_=rk(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Qi([u,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:Qi([u,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n,r);return e&&_?b.createElement(rd.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:es.Pop}},_):_}function ZN(){let t=ak(),e=GN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const ek=b.createElement(ZN,null);class tk extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(sd.Provider,{value:this.props.routeContext},b.createElement(E1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nk(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(KN);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(sd.Provider,{value:e},r)}function rk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ut(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,A=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||A){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,A=!1,_=null,I=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||ek,u&&(c<0&&p===0?(lk("route-fallback"),A=!0,I=null):c===p&&(A=!0,I=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let x;return g?x=_:A?x=I:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,b.createElement(nk,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(tk,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var T1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T1||{});function sk(t){let e=b.useContext(YN);return e||Ut(!1),e}function ik(t){let e=b.useContext(sd);return e||Ut(!1),e}function ok(t){let e=ik(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function ak(){var t;let e=b.useContext(E1),n=sk(T1.UseRouteError),r=ok();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const qv={};function lk(t,e,n){qv[t]||(qv[t]=!0)}function uk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bu(t){Ut(!1)}function ck(t){let{basename:e="/",children:n=null,location:r,navigationType:s=es.Pop,navigator:i,static:o=!1,future:a}=t;Cm()&&Ut(!1);let u=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:i,static:o,future:cc({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=nd(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:A="default"}=r,_=b.useMemo(()=>{let I=v1(d,u);return I==null?null:{location:{pathname:I,search:f,hash:p,state:g,key:A},navigationType:s}},[u,d,f,p,g,A,s]);return _==null?null:b.createElement(_1.Provider,{value:c},b.createElement(rd.Provider,{children:n,value:_}))}function dk(t){let{children:e,location:n}=t;return XN(Hf(e),n)}new Promise(()=>{});function Hf(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Hf(r.props.children,i));return}r.type!==bu&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const hk="6";try{window.__reactRouterVersion=hk}catch{}const fk="startTransition",Gv=Ep[fk];function pk(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=CN({window:s,v5Compat:!0}));let o=i.current,[a,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=b.useCallback(f=>{c&&Gv?Gv(()=>u(f)):u(f)},[u,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>uk(r),[r]),b.createElement(ck,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Qv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var Kv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kv||(Kv={}));var mk=Symbol.for("react.lazy"),dc=Ep[" use ".trim().toString()];function gk(t){return typeof t=="object"&&t!==null&&"then"in t}function S1(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===mk&&"_payload"in t&&gk(t._payload)}function yk(t){const e=wk(t),n=b.forwardRef((r,s)=>{let{children:i,...o}=r;S1(i)&&typeof dc=="function"&&(i=dc(i._payload));const a=b.Children.toArray(i),u=a.find(Ek);if(u){const c=u.props.children,d=a.map(f=>f===u?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return w.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return w.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var vk=yk("Slot");function wk(t){const e=b.forwardRef((n,r)=>{let{children:s,...i}=n;if(S1(s)&&typeof dc=="function"&&(s=dc(s._payload)),b.isValidElement(s)){const o=Tk(s),a=xk(i,s.props);return s.type!==b.Fragment&&(a.ref=r?Hc(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _k=Symbol("radix.slottable");function Ek(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_k}function xk(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Tk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Sk=_x("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-montserrat font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-primary text-white shadow-primary hover:shadow-glow",destructive:"bg-warning text-white hover:bg-warning/90",outline:"border border-primary bg-transparent text-primary hover:bg-primary hover:text-white",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-accent text-white shadow-glow hover:shadow-elegant"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wf=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?vk:"button";return w.jsx(o,{className:Ht(Sk({variant:e,size:n,className:t})),ref:i,...s})});Wf.displayName="Button";const I1=b.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Ht("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));I1.displayName="Card";const Ik=b.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Ht("flex flex-col space-y-1.5 p-6",t),...e}));Ik.displayName="CardHeader";const Ak=b.forwardRef(({className:t,...e},n)=>w.jsx("h3",{ref:n,className:Ht("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ak.displayName="CardTitle";const bk=b.forwardRef(({className:t,...e},n)=>w.jsx("p",{ref:n,className:Ht("text-sm text-muted-foreground",t),...e}));bk.displayName="CardDescription";const A1=b.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Ht("p-6 pt-0",t),...e}));A1.displayName="CardContent";const Ck=b.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:Ht("flex items-center p-6 pt-0",t),...e}));Ck.displayName="CardFooter";const _h=768;function Rk(){const[t,e]=b.useState(void 0);return b.useEffect(()=>{const n=window.matchMedia(`(max-width: ${_h-1}px)`),r=()=>{e(window.innerWidth<_h)};return n.addEventListener("change",r),e(window.innerWidth<_h),()=>n.removeEventListener("change",r)},[]),!!t}const Pk=()=>{const[t,e]=b.useState(""),n=Rk();GE();const r=["Makes searching super easy and quick","Removes the guesswork",w.jsxs(w.Fragment,{children:["Shows you ",w.jsx("u",{children:"rental"})," and ",w.jsx("u",{children:"value-add"})," investment options (flip, add-on, adu, scrape)"]}),"No complicated spreadsheets! Automated deal summaries (proforma's) provided."];return w.jsxs("div",{className:"min-h-screen bg-background",children:[w.jsxs("header",{className:"container mx-auto px-4 py-4 lg:py-8 relative",children:[w.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[w.jsx("img",{src:"/lovable-uploads/05aea857-8655-4de2-982c-bf16fd500ec9.png",alt:"Real Deal Logo",className:"h-6 sm:h-8 lg:h-12 w-auto"}),w.jsxs("p",{className:"text-sm sm:text-base lg:text-lg font-montserrat font-semibold text-foreground tracking-wide uppercase",children:["Real Estate Deals ",w.jsx("span",{className:"shimmer-text",children:"Revealed"})]})]}),w.jsx(Wf,{asChild:!0,variant:"outline",size:"lg",className:"absolute top-4 lg:top-8 right-4 px-4 lg:px-6 py-2 lg:py-3 text-sm lg:text-base",children:w.jsx("a",{href:"https://app.getrealdeal.ai",target:"_blank",rel:"noopener noreferrer",children:"app.getrealdeal.ai"})})]}),w.jsx("div",{className:"bg-muted",children:w.jsx("main",{className:"container mx-auto px-4 py-12 lg:py-20",children:w.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[w.jsxs("div",{className:"space-y-8 lg:space-y-12",children:[w.jsxs("div",{className:"space-y-6 lg:space-y-8 text-center lg:text-left",children:[w.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-inter font-black text-foreground leading-tight uppercase tracking-tight",children:["Find Real Estate Deals ",w.jsx("em",{className:"text-highlight",children:"FAST"})]}),w.jsx("p",{className:"text-lg lg:text-2xl text-muted-foreground leading-relaxed font-inter",children:"Real Deal instantly analyzes on-market listings and only shows you the opportunities."})]}),w.jsx("div",{className:"space-y-6 lg:space-y-8",children:r.map((s,i)=>w.jsxs("div",{className:"flex items-start gap-4 lg:gap-5",children:[w.jsx("div",{className:"flex-shrink-0 w-8 h-8 lg:w-10 lg:h-10 bg-success rounded-full flex items-center justify-center mt-1",children:w.jsx(KC,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})}),w.jsx("p",{className:"text-foreground text-base lg:text-xl font-inter leading-relaxed",children:s})]},i))})]}),w.jsx("div",{className:"relative order-first lg:order-last",children:w.jsx("div",{className:"rounded-2xl overflow-hidden shadow-elegant transform scale-100 lg:scale-105",children:w.jsx("img",{src:"/lovable-uploads/1b1a09a0-1772-49c2-a779-bfbe28a536ad.png",alt:"Real Deal Platform showing investment opportunities",className:"w-full h-auto"})})})]})})}),w.jsxs("div",{className:"container mx-auto px-4 py-12 lg:py-20",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx(I1,{className:"p-6 lg:p-10 bg-gradient-primary border-0 w-full lg:w-3/4 shadow-glow",children:w.jsx(A1,{className:"p-0",children:w.jsxs("div",{className:"space-y-6 lg:space-y-8",children:[w.jsx("h3",{className:"text-xl lg:text-3xl font-poppins font-bold text-white text-center uppercase tracking-tight",children:"Ready to Find Your Next Deal?"}),w.jsx("div",{className:"flex justify-center",children:w.jsx(Wf,{asChild:!0,variant:"outline",size:"lg",className:"px-8 lg:px-12 py-6 lg:py-8 text-lg lg:text-xl bg-white text-primary border-white hover:bg-white/90",children:w.jsx("a",{href:"https://app.getrealdeal.ai",target:"_blank",rel:"noopener noreferrer",children:"Show Me"})})})]})})})}),w.jsx("div",{className:"flex justify-center mt-12 lg:mt-24 px-4",children:w.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6 lg:gap-8 max-w-4xl",children:[w.jsx("div",{className:"w-16 h-16 lg:w-24 lg:h-24 rounded-full flex-shrink-0 overflow-hidden ring-4 ring-accent mx-auto sm:mx-0",children:w.jsx("img",{src:"/lovable-uploads/78eb1237-ca68-4e3f-83fe-c87299ddf807.png",alt:"Donald Speedie",className:"w-full h-full object-cover"})}),w.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[w.jsx("p",{className:"text-lg lg:text-2xl font-poppins font-bold text-highlight mb-3 lg:mb-4",children:"Love it!"}),w.jsx("p",{className:"text-base lg:text-xl leading-relaxed font-inter text-foreground mb-4 lg:mb-6",children:`"Real Deal is so new, we don't even have any other testimonies yet. But we built this tool for ourselves and love the speed and ease that this it brings to the process, saving us hours on each deal. Built by a builder."`}),w.jsx("p",{className:"text-sm lg:text-lg text-muted-foreground font-poppins font-semibold",children:"Donald Speedie, Nimble Development LLC"})]})]})})]}),w.jsx("div",{className:"bg-muted py-12 lg:py-24",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[w.jsx("div",{className:"flex justify-center order-first lg:order-first",children:w.jsx("img",{src:"/lovable-uploads/5c80c350-9c77-47d4-80fa-f714baffd319.png",alt:"Example property listing with investment details",className:"w-full max-w-sm lg:max-w-xl rounded-2xl shadow-elegant transform scale-100 lg:scale-105"})}),w.jsxs("div",{className:"space-y-6 lg:space-y-8 p-6 lg:p-10 bg-gradient-accent rounded-2xl shadow-glow",children:[w.jsx("h3",{className:"text-xl lg:text-3xl font-poppins font-bold text-white uppercase tracking-tight text-center lg:text-left",children:"What kind of investor are you?"}),w.jsxs("div",{className:"space-y-4 lg:space-y-6 text-white",children:[w.jsx("p",{className:"text-base lg:text-xl font-inter leading-relaxed",children:"Want a hands-off investment? Search the rentals that work for you."}),w.jsx("p",{className:"text-base lg:text-xl font-inter leading-relaxed",children:"Don't mind rolling up your sleeves? Value-Add potential is revealed  across flips, ADUs, add-ons, and scrapes as well  without wasting your time."}),w.jsx("p",{className:"font-poppins font-bold text-lg lg:text-2xl",children:"No more guesswork. No more analysis paralysis."})]})]})]})})}),w.jsxs("div",{className:"container mx-auto px-4 py-12 lg:py-24",children:[w.jsx("div",{className:"flex justify-center mb-16 lg:mb-32",children:w.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-6 p-6 lg:p-10 bg-gradient-primary rounded-2xl max-w-4xl shadow-glow",children:[w.jsx(YC,{className:"w-8 h-8 lg:w-12 lg:h-12 text-white flex-shrink-0 mt-1 lg:mt-2 mx-auto sm:mx-0"}),w.jsxs("p",{className:"text-lg lg:text-xl font-inter leading-relaxed text-white text-center sm:text-left",children:[w.jsx("strong",{className:"font-poppins font-bold text-xl lg:text-2xl",children:"Only pay for what you use."})," See a deal that you like? Use tokens to gain access to the details of a deal. No more expensive, unused subscriptions to pay for. Get started today with 3 free deals."]})]})}),w.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12 mb-16 lg:mb-32",children:[w.jsx("div",{className:"w-full max-w-xs lg:w-72 lg:h-72",children:w.jsx("img",{src:"/lovable-uploads/0e7cb467-472b-4395-ae91-40a7ce1b9e7d.png",alt:"Real estate opportunities map",className:"w-full h-auto lg:h-full object-cover rounded-2xl shadow-elegant"})}),w.jsxs("div",{className:"flex flex-col items-center gap-4 px-4 lg:px-8",children:[w.jsx("div",{className:"relative w-24 h-24 lg:w-36 lg:h-36 flex items-center justify-center",children:n?w.jsxs(w.Fragment,{children:[w.jsx(mh,{className:"absolute w-24 h-24 text-warning animate-[slide-down_2s_ease-in-out_infinite]"}),w.jsx(mh,{className:"absolute w-24 h-24 text-warning animate-[slide-down_2s_ease-in-out_infinite_0.6s]"}),w.jsx(mh,{className:"absolute w-24 h-24 text-warning animate-[slide-down_2s_ease-in-out_infinite_1.2s]"})]}):w.jsxs(w.Fragment,{children:[w.jsx(gh,{className:"absolute w-24 h-24 lg:w-36 lg:h-36 text-warning animate-[slide-right_2s_ease-in-out_infinite]"}),w.jsx(gh,{className:"absolute w-24 h-24 lg:w-36 lg:h-36 text-warning animate-[slide-right_2s_ease-in-out_infinite_0.6s]"}),w.jsx(gh,{className:"absolute w-24 h-24 lg:w-36 lg:h-36 text-warning animate-[slide-right_2s_ease-in-out_infinite_1.2s]"})]})}),w.jsx("p",{className:"text-base lg:text-lg font-poppins font-bold text-foreground text-center",children:"Turns endless listings into a shortlist of viable opportunities in seconds."})]}),w.jsx("div",{className:"w-full max-w-xs lg:w-72 lg:h-72",children:w.jsx("img",{src:"/lovable-uploads/c700612a-f225-4182-8ec0-3a4ec231c051.png",alt:"Real estate opportunities map with location pins",className:"w-full h-auto lg:h-full object-cover rounded-2xl shadow-elegant"})})]}),w.jsx("div",{className:"flex justify-center mb-16 lg:mb-32",children:w.jsxs("div",{className:"bg-gradient-accent p-6 lg:p-8 rounded-2xl shadow-glow max-w-4xl w-full",children:[w.jsx("ul",{className:"text-lg lg:text-2xl text-white font-inter leading-relaxed space-y-4",children:w.jsx("li",{className:"flex items-start gap-3",children:w.jsx("span",{children:"Get bank-ready proformas in seconds..."})})}),w.jsx("div",{className:"mt-6 flex justify-center",children:w.jsx("img",{src:"/lovable-uploads/7912f74c-2c12-477a-b718-a4617a8e2a97.png",alt:"Example proforma showing rental income analysis",className:"rounded-lg shadow-lg max-w-xs lg:max-w-sm w-full"})})]})})]}),w.jsx("div",{className:"bg-muted py-12 lg:py-24",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsx("div",{className:"flex justify-center mb-12 lg:mb-20",children:w.jsxs("div",{className:"w-full max-w-4xl space-y-6 lg:space-y-8 text-center",children:[w.jsx("img",{src:"/lovable-uploads/404363b2-e447-4717-8003-532f695be474.png",alt:"Property comparables showing market analysis",className:"w-full lg:w-1/2 h-auto rounded-2xl shadow-elegant transform scale-100 lg:scale-105 mx-auto"}),w.jsx("p",{className:"text-lg lg:text-2xl font-poppins font-bold text-foreground px-4",children:"Analyze comps onscreen to fine tune your ARV (After Repair Value)."})]})})})}),w.jsx("footer",{className:"container mx-auto px-4 py-8 lg:py-16",children:w.jsxs("div",{className:"text-center text-muted-foreground space-y-4",children:[w.jsx("p",{className:"text-sm lg:text-base font-inter max-w-3xl mx-auto",children:"getRealDeal.ai provides tools for analyzing real estate investments such as calculators and estimates. We make no guarantees as to the accuracy of the information provided. User is required to verify all amounts and calculations before relying on this information."}),w.jsx("p",{className:"text-lg lg:text-xl font-inter",children:" 2024 Real Deal. All rights reserved."})]})})]})},Nk=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Dk;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const A=c<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let Dk=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const Ok=function(t){const e=b1(t);return C1.encodeByteArray(e,!0)},R1=function(t){return Ok(t).replace(/\./g,"")},Vk=function(t){try{return C1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=()=>Mk().__FIREBASE_DEFAULTS__,Fk=()=>{if(typeof process>"u"||typeof Yv>"u")return;const t=Yv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vk(t[1]);return e&&JSON.parse(e)},$k=()=>{try{return Nk()||Lk()||Fk()||jk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P1=()=>{var t;return(t=$k())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Uk(){try{return typeof indexedDB=="object"}catch{return!1}}function zk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="FirebaseError";let Rm=class N1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hk,Object.setPrototypeOf(this,N1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k1.prototype.create)}},k1=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Wk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Rm(s,a,r)}};function Wk(t,e){return t.replace(qk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qk=/\{\$([^}]+)}/g;function qf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Xv(i)&&Xv(o)){if(!qf(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xv(t){return t!==null&&typeof t=="object"}let hc=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kk(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qk(t){return t===Bs?void 0:t}function Kk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const Xk={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Jk=Ne.INFO,Zk={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},eD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Zk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let tD=class{constructor(e){this.name=e,this._logLevel=Jk,this._logHandler=eD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};const nD=(t,e)=>e.some(n=>t instanceof n);let Jv,Zv;function rD(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D1=new WeakMap,Gf=new WeakMap,O1=new WeakMap,Eh=new WeakMap,Pm=new WeakMap;function iD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(cs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&D1.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function oD(t){if(Gf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gf.set(t,e)}let Qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aD(t){Qf=t(Qf)}function lD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xh(this),e,...n);return O1.set(r,e.sort?e.sort():[e]),cs(r)}:sD().includes(t)?function(...e){return t.apply(xh(this),e),cs(D1.get(this))}:function(...e){return cs(t.apply(xh(this),e))}}function uD(t){return typeof t=="function"?lD(t):(t instanceof IDBTransaction&&oD(t),nD(t,rD())?new Proxy(t,Qf):t)}function cs(t){if(t instanceof IDBRequest)return iD(t);if(Eh.has(t))return Eh.get(t);const e=uD(t);return e!==t&&(Eh.set(t,e),Pm.set(e,t)),e}const xh=t=>Pm.get(t);function V1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cD=["get","getKey","getAll","getAllKeys","count"],dD=["put","add","delete","clear"],Th=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Th.get(e))return Th.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cD.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Th.set(e,i),i}aD(t=>({...t,get:(e,n,r)=>ew(e,n)||t.get(e,n,r),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",tw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new tD("@firebase/app"),pD="@firebase/app-compat",mD="@firebase/analytics-compat",gD="@firebase/analytics",yD="@firebase/app-check-compat",vD="@firebase/app-check",wD="@firebase/auth",_D="@firebase/auth-compat",ED="@firebase/database",xD="@firebase/data-connect",TD="@firebase/database-compat",SD="@firebase/functions",ID="@firebase/functions-compat",AD="@firebase/installations",bD="@firebase/installations-compat",CD="@firebase/messaging",RD="@firebase/messaging-compat",PD="@firebase/performance",ND="@firebase/performance-compat",kD="@firebase/remote-config",DD="@firebase/remote-config-compat",OD="@firebase/storage",VD="@firebase/storage-compat",MD="@firebase/firestore",LD="@firebase/ai",FD="@firebase/firestore-compat",jD="firebase",$D="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",BD={[Kf]:"fire-core",[pD]:"fire-core-compat",[gD]:"fire-analytics",[mD]:"fire-analytics-compat",[vD]:"fire-app-check",[yD]:"fire-app-check-compat",[wD]:"fire-auth",[_D]:"fire-auth-compat",[ED]:"fire-rtdb",[xD]:"fire-data-connect",[TD]:"fire-rtdb-compat",[SD]:"fire-fn",[ID]:"fire-fn-compat",[AD]:"fire-iid",[bD]:"fire-iid-compat",[CD]:"fire-fcm",[RD]:"fire-fcm-compat",[PD]:"fire-perf",[ND]:"fire-perf-compat",[kD]:"fire-rc",[DD]:"fire-rc-compat",[OD]:"fire-gcs",[VD]:"fire-gcs-compat",[MD]:"fire-fst",[FD]:"fire-fst-compat",[LD]:"fire-vertex","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,UD=new Map,Xf=new Map;function nw(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Es(t){const e=t.name;if(Xf.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,t);for(const n of fc.values())nw(n,t);for(const n of UD.values())nw(n,t);return!0}function ml(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zD(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new k1("app","Firebase",HD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=$D;function M1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Yf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ds.create("bad-app-name",{appName:String(s)});if(n||(n=P1()),!n)throw ds.create("no-options");const i=fc.get(s);if(i){if(qf(n,i.options)&&qf(r,i.config))return i;throw ds.create("duplicate-app",{appName:s})}const o=new Yk(s);for(const u of Xf.values())o.addComponent(u);const a=new WD(n,r,o);return fc.set(s,a),a}function L1(t=Yf){const e=fc.get(t);if(!e&&t===Yf&&P1())return M1();if(!e)throw ds.create("no-app",{appName:t});return e}function Jn(t,e,n){let r=BD[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(o.join(" "));return}Es(new hc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebase-heartbeat-database",QD=1,Ka="firebase-heartbeat-store";let Sh=null;function F1(){return Sh||(Sh=V1(GD,QD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),Sh}async function KD(t){try{const n=(await F1()).transaction(Ka),r=await n.objectStore(Ka).get(j1(t));return await n.done,r}catch(e){if(e instanceof Rm)Ir.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function rw(t,e){try{const r=(await F1()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,j1(t)),await r.done}catch(n){if(n instanceof Rm)Ir.warn(n.message);else{const r=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function j1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,XD=30;class JD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>XD){const o=t4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sw(),{heartbeatsToSend:r,unsentEntries:s}=ZD(this._heartbeatsCache.heartbeats),i=R1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ir.warn(n),""}}}function sw(){return new Date().toISOString().substring(0,10)}function ZD(t,e=YD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),iw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),iw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uk()?zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iw(t){return R1(JSON.stringify({version:2,heartbeats:t})).length}function t4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){Es(new hc("platform-logger",e=>new hD(e),"PRIVATE")),Es(new hc("heartbeat",e=>new JD(e),"PRIVATE")),Jn(Kf,tw,t),Jn(Kf,tw,"esm2020"),Jn("fire-js","")}n4("");const r4=()=>{};var ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},s4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new i4;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const A=c<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(t){const e=$1(t);return B1.encodeByteArray(e,!0)},aw=function(t){return o4(t).replace(/\./g,"")},a4=function(t){try{return B1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=()=>l4().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof ow>"u")return;const t=ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},d4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&a4(t[1]);return e&&JSON.parse(e)},U1=()=>{try{return r4()||u4()||c4()||d4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h4=t=>{var e,n;return(n=(e=U1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},f4=t=>{const e=h4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[aw(JSON.stringify(n)),aw(JSON.stringify(o)),""].join(".")}const Ta={};function g4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ta))Ta[e]?t.emulator.push(e):t.prod.push(e);return t}function y4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lw=!1;function v4(t,e){if(typeof window>"u"||typeof document>"u"||!Nm(window.location.host)||Ta[t]===e||Ta[t]||lw)return;Ta[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=g4().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{lw=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=y4(r),g=n("text"),A=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),I=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(I,_);const D=c();u(y,v),x.append(y,A,I,D),document.body.appendChild(x)}i?(A.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _4(){var e;const t=(e=U1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E4(){return!_4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="FirebaseError";let z1=class H1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x4,Object.setPrototypeOf(this,H1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T4.prototype.create)}},T4=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?S4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new z1(s,a,r)}};function S4(t,e){return t.replace(I4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const I4=/\{\$([^}]+)}/g;function W1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uw(i)&&uw(o)){if(!W1(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){return t&&t._delegate?t._delegate:t}let A4=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const b4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},C4=ve.INFO,R4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},P4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let N4=class{constructor(e){this.name=e,this._logLevel=C4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,q1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function C(){}C.prototype=E.prototype,T.F=E.prototype,T.prototype=new C,T.prototype.constructor=T,T.D=function(P,N,k){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return E.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,C){C||(C=0);const P=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)P[N]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=T.g[0],C=T.g[1],N=T.g[2];let k=T.g[3],R;R=E+(k^C&(N^k))+P[0]+3614090360&4294967295,E=C+(R<<7&4294967295|R>>>25),R=k+(N^E&(C^N))+P[1]+3905402710&4294967295,k=E+(R<<12&4294967295|R>>>20),R=N+(C^k&(E^C))+P[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(E^N&(k^E))+P[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=E+(k^C&(N^k))+P[4]+4118548399&4294967295,E=C+(R<<7&4294967295|R>>>25),R=k+(N^E&(C^N))+P[5]+1200080426&4294967295,k=E+(R<<12&4294967295|R>>>20),R=N+(C^k&(E^C))+P[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(E^N&(k^E))+P[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=E+(k^C&(N^k))+P[8]+1770035416&4294967295,E=C+(R<<7&4294967295|R>>>25),R=k+(N^E&(C^N))+P[9]+2336552879&4294967295,k=E+(R<<12&4294967295|R>>>20),R=N+(C^k&(E^C))+P[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(E^N&(k^E))+P[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=E+(k^C&(N^k))+P[12]+1804603682&4294967295,E=C+(R<<7&4294967295|R>>>25),R=k+(N^E&(C^N))+P[13]+4254626195&4294967295,k=E+(R<<12&4294967295|R>>>20),R=N+(C^k&(E^C))+P[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(E^N&(k^E))+P[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=E+(N^k&(C^N))+P[1]+4129170786&4294967295,E=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(E^C))+P[6]+3225465664&4294967295,k=E+(R<<9&4294967295|R>>>23),R=N+(E^C&(k^E))+P[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^E&(N^k))+P[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=E+(N^k&(C^N))+P[5]+3593408605&4294967295,E=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(E^C))+P[10]+38016083&4294967295,k=E+(R<<9&4294967295|R>>>23),R=N+(E^C&(k^E))+P[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^E&(N^k))+P[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=E+(N^k&(C^N))+P[9]+568446438&4294967295,E=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(E^C))+P[14]+3275163606&4294967295,k=E+(R<<9&4294967295|R>>>23),R=N+(E^C&(k^E))+P[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^E&(N^k))+P[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=E+(N^k&(C^N))+P[13]+2850285829&4294967295,E=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(E^C))+P[2]+4243563512&4294967295,k=E+(R<<9&4294967295|R>>>23),R=N+(E^C&(k^E))+P[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^E&(N^k))+P[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=E+(C^N^k)+P[5]+4294588738&4294967295,E=C+(R<<4&4294967295|R>>>28),R=k+(E^C^N)+P[8]+2272392833&4294967295,k=E+(R<<11&4294967295|R>>>21),R=N+(k^E^C)+P[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^E)+P[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=E+(C^N^k)+P[1]+2763975236&4294967295,E=C+(R<<4&4294967295|R>>>28),R=k+(E^C^N)+P[4]+1272893353&4294967295,k=E+(R<<11&4294967295|R>>>21),R=N+(k^E^C)+P[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^E)+P[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=E+(C^N^k)+P[13]+681279174&4294967295,E=C+(R<<4&4294967295|R>>>28),R=k+(E^C^N)+P[0]+3936430074&4294967295,k=E+(R<<11&4294967295|R>>>21),R=N+(k^E^C)+P[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^E)+P[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=E+(C^N^k)+P[9]+3654602809&4294967295,E=C+(R<<4&4294967295|R>>>28),R=k+(E^C^N)+P[12]+3873151461&4294967295,k=E+(R<<11&4294967295|R>>>21),R=N+(k^E^C)+P[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^E)+P[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=E+(N^(C|~k))+P[0]+4096336452&4294967295,E=C+(R<<6&4294967295|R>>>26),R=k+(C^(E|~N))+P[7]+1126891415&4294967295,k=E+(R<<10&4294967295|R>>>22),R=N+(E^(k|~C))+P[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~E))+P[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=E+(N^(C|~k))+P[12]+1700485571&4294967295,E=C+(R<<6&4294967295|R>>>26),R=k+(C^(E|~N))+P[3]+2399980690&4294967295,k=E+(R<<10&4294967295|R>>>22),R=N+(E^(k|~C))+P[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~E))+P[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=E+(N^(C|~k))+P[8]+1873313359&4294967295,E=C+(R<<6&4294967295|R>>>26),R=k+(C^(E|~N))+P[15]+4264355552&4294967295,k=E+(R<<10&4294967295|R>>>22),R=N+(E^(k|~C))+P[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~E))+P[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=E+(N^(C|~k))+P[4]+4149444226&4294967295,E=C+(R<<6&4294967295|R>>>26),R=k+(C^(E|~N))+P[11]+3174756917&4294967295,k=E+(R<<10&4294967295|R>>>22),R=N+(E^(k|~C))+P[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~E))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.v=function(T,E){E===void 0&&(E=T.length);const C=E-this.blockSize,P=this.C;let N=this.h,k=0;for(;k<E;){if(N==0)for(;k<=C;)s(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<E;)if(P[N++]=T.charCodeAt(k++),N==this.blockSize){s(this,P),N=0;break}}else for(;k<E;)if(P[N++]=T[k++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;E=this.o*8;for(var C=T.length-8;C<T.length;++C)T[C]=E&255,E/=256;for(this.v(T),T=Array(16),E=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)T[E++]=this.g[C]>>>P&255;return T};function i(T,E){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=E(T)}function o(T,E){this.h=E;const C=[];let P=!0;for(let N=T.length-1;N>=0;N--){const k=T[N]|0;P&&k==E||(C[N]=k,P=!1)}this.g=C}var a={};function u(T){return-128<=T&&T<128?i(T,function(E){return new o([E|0],E<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return I(c(-T));const E=[];let C=1;for(let P=0;T>=C;P++)E[P]=T/C|0,C*=4294967296;return new o(E,0)}function d(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return I(d(T.substring(1),E));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(E,8));let P=f;for(let k=0;k<T.length;k+=8){var N=Math.min(8,T.length-k);const R=parseInt(T.substring(k,k+N),E);N<8?(N=c(Math.pow(E,N)),P=P.j(N).add(c(R))):(P=P.j(C),P=P.add(c(R)))}return P}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();let T=0,E=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);T+=(P>=0?P:4294967296+P)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(A(this))return"0";if(_(this))return"-"+I(this).toString(T);const E=c(Math.pow(T,6));var C=this;let P="";for(;;){const N=D(C,E).g;C=v(C,N.j(E));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(T);if(C=N,A(C))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function A(T){if(T.h!=0)return!1;for(let E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=v(this,T),_(T)?-1:A(T)?0:1};function I(T){const E=T.g.length,C=[];for(let P=0;P<E;P++)C[P]=~T.g[P];return new o(C,~T.h).add(p)}t.abs=function(){return _(this)?I(this):this},t.add=function(T){const E=Math.max(this.g.length,T.g.length),C=[];let P=0;for(let N=0;N<=E;N++){let k=P+(this.i(N)&65535)+(T.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);P=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(T,E){return T.add(I(E))}t.j=function(T){if(A(this)||A(T))return f;if(_(this))return _(T)?I(this).j(I(T)):I(I(this).j(T));if(_(T))return I(this.j(I(T)));if(this.l(g)<0&&T.l(g)<0)return c(this.m()*T.m());const E=this.g.length+T.g.length,C=[];for(var P=0;P<2*E;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<T.g.length;N++){const k=this.i(P)>>>16,R=this.i(P)&65535,H=T.i(N)>>>16,ie=T.i(N)&65535;C[2*P+2*N]+=R*ie,y(C,2*P+2*N),C[2*P+2*N+1]+=k*ie,y(C,2*P+2*N+1),C[2*P+2*N+1]+=R*H,y(C,2*P+2*N+1),C[2*P+2*N+2]+=k*H,y(C,2*P+2*N+2)}for(T=0;T<E;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=E;T<2*E;T++)C[T]=0;return new o(C,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function x(T,E){this.g=T,this.h=E}function D(T,E){if(A(E))throw Error("division by zero");if(A(T))return new x(f,f);if(_(T))return E=D(I(T),E),new x(I(E.g),I(E.h));if(_(E))return E=D(T,I(E)),new x(I(E.g),E.h);if(T.g.length>30){if(_(T)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=E;P.l(T)<=0;)C=O(C),P=O(P);var N=M(C,1),k=M(P,1);for(P=M(P,2),C=M(C,2);!A(P);){var R=k.add(P);R.l(T)<=0&&(N=N.add(C),k=R),P=M(P,1),C=M(C,1)}return E=v(T,N.j(E)),new x(N,E)}for(N=f;T.l(E)>=0;){for(C=Math.max(1,Math.floor(T.m()/E.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=c(C),R=k.j(E);_(R)||R.l(T)>0;)C-=P,k=c(C),R=k.j(E);A(k)&&(k=p),N=N.add(k),T=v(T,R)}return new x(N,T)}t.B=function(T){return D(this,T).h},t.and=function(T){const E=Math.max(this.g.length,T.g.length),C=[];for(let P=0;P<E;P++)C[P]=this.i(P)&T.i(P);return new o(C,this.h&T.h)},t.or=function(T){const E=Math.max(this.g.length,T.g.length),C=[];for(let P=0;P<E;P++)C[P]=this.i(P)|T.i(P);return new o(C,this.h|T.h)},t.xor=function(T){const E=Math.max(this.g.length,T.g.length),C=[];for(let P=0;P<E;P++)C[P]=this.i(P)^T.i(P);return new o(C,this.h^T.h)};function O(T){const E=T.g.length+1,C=[];for(let P=0;P<E;P++)C[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(C,T.h)}function M(T,E){const C=E>>5;E%=32;const P=T.g.length-C,N=[];for(let k=0;k<P;k++)N[k]=E>0?T.i(k+C)>>>E|T.i(k+C+1)<<32-E:T.i(k+C);return new o(N,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,q1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,hs=o}).apply(typeof cw<"u"?cw:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G1,ca,Q1,Cu,Jf,K1,Y1,X1;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var m=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var V=l[S];if(!(V in m))break e;m=m[V]}l=l[l.length-1],S=m[l],h=h(S),h!=S&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var m=[],S;for(S in h)Object.prototype.hasOwnProperty.call(h,S)&&m.push([S,h[S]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,m){return l.call.apply(l.bind,arguments)}function c(l,h,m){return c=u,c.apply(null,arguments)}function d(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function f(l,h){function m(){}m.prototype=h.prototype,l.Z=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(S,V,L){for(var q=Array(arguments.length-2),de=2;de<arguments.length;de++)q[de-2]=arguments[de];return h.prototype[V].apply(S,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const h=l.length;if(h>0){const m=Array(h);for(let S=0;S<h;S++)m[S]=l[S];return m}return[]}function A(l,h){for(let S=1;S<arguments.length;S++){const V=arguments[S];var m=typeof V;if(m=m!="object"?m:V?Array.isArray(V)?"array":m:"null",m=="array"||m=="object"&&typeof V.length=="number"){m=l.length||0;const L=V.length||0;l.length=m+L;for(let q=0;q<L;q++)l[m+q]=V[q]}else l.push(V)}}class _{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(l){o.setTimeout(()=>{throw l},0)}function v(){var l=T;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class y{constructor(){this.h=this.g=null}add(h,m){const S=x.get();S.set(h,m),this.h?this.h.next=S:this.g=S,this.h=S}}var x=new _(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,T=new y,E=()=>{const l=Promise.resolve(void 0);O=()=>{l.then(C)}};function C(){for(var l;l=v();){try{l.h.call(l.g)}catch(m){I(m)}var h=x;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}M=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,h),o.removeEventListener("test",m,h)}catch{}return l}();function R(l){return/^[\s\xa0]*$/.test(l)}function H(l,h){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(H,N),H.prototype.init=function(l,h){const m=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(l,h,m,S,V){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!S,this.ha=V,this.key=++te,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function U(l,h,m){for(const S in l)h.call(m,l[S],S,l)}function G(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function re(l){const h={};for(const m in l)h[m]=l[m];return h}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(l,h){let m,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(m in S)l[m]=S[m];for(let L=0;L<X.length;L++)m=X[L],Object.prototype.hasOwnProperty.call(S,m)&&(l[m]=S[m])}}function le(l){this.src=l,this.g={},this.h=0}le.prototype.add=function(l,h,m,S,V){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const q=qe(l,h,S,V);return q>-1?(h=l[q],m||(h.fa=!1)):(h=new oe(h,this.src,L,!!S,V),h.fa=m,l.push(h)),h};function Oe(l,h){const m=h.type;if(m in l.g){var S=l.g[m],V=Array.prototype.indexOf.call(S,h,void 0),L;(L=V>=0)&&Array.prototype.splice.call(S,V,1),L&&(j(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function qe(l,h,m,S){for(let V=0;V<l.length;++V){const L=l[V];if(!L.da&&L.listener==h&&L.capture==!!m&&L.ha==S)return V}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Dn={};function pn(l,h,m,S,V){if(Array.isArray(h)){for(let L=0;L<h.length;L++)pn(l,h[L],m,S,V);return null}return m=Pr(m),l&&l[ie]?l.J(h,m,a(S)?!!S.capture:!1,V):or(l,h,m,!1,S,V)}function or(l,h,m,S,V,L){if(!h)throw Error("Invalid event type");const q=a(V)?!!V.capture:!!V;let de=Rr(l);if(de||(l[ge]=de=new le(l)),m=de.add(h,m,S,q,L),m.proxy)return m;if(S=On(),m.proxy=S,S.src=l,S.listener=m,l.addEventListener)k||(V=q),V===void 0&&(V=!1),l.addEventListener(h.toString(),S,V);else if(l.attachEvent)l.attachEvent(Ns(h.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function On(){function l(m){return h.call(l.src,l.listener,m)}const h=Vo;return l}function ar(l,h,m,S,V){if(Array.isArray(h))for(var L=0;L<h.length;L++)ar(l,h[L],m,S,V);else S=a(S)?!!S.capture:!!S,m=Pr(m),l&&l[ie]?(l=l.i,L=String(h).toString(),L in l.g&&(h=l.g[L],m=qe(h,m,S,V),m>-1&&(j(h[m]),Array.prototype.splice.call(h,m,1),h.length==0&&(delete l.g[L],l.h--)))):l&&(l=Rr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=qe(h,m,S,V)),(m=l>-1?h[l]:null)&&nn(m))}function nn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ie])Oe(h.i,l);else{var m=l.type,S=l.proxy;h.removeEventListener?h.removeEventListener(m,S,l.capture):h.detachEvent?h.detachEvent(Ns(m),S):h.addListener&&h.removeListener&&h.removeListener(S),(m=Rr(h))?(Oe(m,l),m.h==0&&(m.src=null,h[ge]=null)):j(l)}}}function Ns(l){return l in Dn?Dn[l]:Dn[l]="on"+l}function Vo(l,h){if(l.da)l=!0;else{h=new H(h,this);const m=l.listener,S=l.ha||l.src;l.fa&&nn(l),l=m.call(S,h)}return l}function Rr(l){return l=l[ge],l instanceof le?l:null}var ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pr(l){return typeof l=="function"?l:(l[ks]||(l[ks]=function(h){return l.handleEvent(h)}),l[ks])}function Me(){P.call(this),this.i=new le(this),this.M=this,this.G=null}f(Me,P),Me.prototype[ie]=!0,Me.prototype.removeEventListener=function(l,h,m,S){ar(this,l,h,m,S)};function rt(l,h){var m,S=l.G;if(S)for(m=[];S;S=S.G)m.push(S);if(l=l.M,S=h.type||h,typeof h=="string")h=new N(h,l);else if(h instanceof N)h.target=h.target||l;else{var V=h;h=new N(S,l),ce(h,V)}V=!0;let L,q;if(m)for(q=m.length-1;q>=0;q--)L=h.g=m[q],V=Vn(L,S,!0,h)&&V;if(L=h.g=l,V=Vn(L,S,!0,h)&&V,V=Vn(L,S,!1,h)&&V,m)for(q=0;q<m.length;q++)L=h.g=m[q],V=Vn(L,S,!1,h)&&V}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const m=l.g[h];for(let S=0;S<m.length;S++)j(m[S]);delete l.g[h],l.h--}}this.G=null},Me.prototype.J=function(l,h,m,S){return this.i.add(String(l),h,!1,m,S)},Me.prototype.K=function(l,h,m,S){return this.i.add(String(l),h,!0,m,S)};function Vn(l,h,m,S){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let V=!0;for(let L=0;L<h.length;++L){const q=h[L];if(q&&!q.da&&q.capture==m){const de=q.listener,Je=q.ha||q.src;q.fa&&Oe(l.i,q),V=de.call(Je,S)!==!1&&V}}return V&&!S.defaultPrevented}function El(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function Mn(l){l.g=El(()=>{l.g=null,l.i&&(l.i=!1,Mn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Td extends P{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(l){P.call(this),this.h=l,this.g={}}f(Ds,P);var It=[];function lr(l){U(l.g,function(h,m){this.g.hasOwnProperty(m)&&nn(h)},l),l.g={}}Ds.prototype.N=function(){Ds.Z.N.call(this),lr(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=o.JSON.stringify,Sd=o.JSON.parse,vi=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function xl(){}function Lo(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ln(){N.call(this,"d")}f(Ln,N);function wi(){N.call(this,"c")}f(wi,N);var Dt={},Tl=null;function _i(){return Tl=Tl||new Me}Dt.Ia="serverreachability";function Fo(l){N.call(this,Dt.Ia,l)}f(Fo,N);function Nr(l){const h=_i();rt(h,new Fo(h))}Dt.STAT_EVENT="statevent";function Sl(l,h){N.call(this,Dt.STAT_EVENT,l),this.stat=h}f(Sl,N);function Xe(l){const h=_i();rt(h,new Sl(h,l))}Dt.Ja="timingevent";function mn(l,h){N.call(this,Dt.Ja,l),this.size=h}f(mn,N);function Os(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function _e(l,h,m,S,V,L){l.info(function(){if(l.g)if(L){var q="",de=L.split("&");for(let Se=0;Se<de.length;Se++){var Je=de[Se].split("=");if(Je.length>1){const it=Je[0];Je=Je[1];const $n=it.split("_");q=$n.length>=2&&$n[1]=="type"?q+(it+"="+Je+"&"):q+(it+"=redacted&")}}}else q=null;else q=L;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+h+`
`+m+`
`+q})}function Ie(l,h,m,S,V,L,q){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+h+`
`+m+`
`+L+" "+q})}function st(l,h,m,S){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Fn(l,m)+(S?" "+S:"")})}function Wt(l,h){l.info(function(){return"TIMEOUT: "+h})}Z.prototype.info=function(){};function Fn(l,h){if(!l.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var m=L[l];if(!(m.length<2)){var S=m[1];if(Array.isArray(S)&&!(S.length<1)){var V=S[0];if(V!="noop"&&V!="stop"&&V!="close")for(let q=1;q<S.length;q++)S[q]=""}}}}return Mo(L)}catch{return h}}var rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ot={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gn;function Id(){}f(Id,xl),Id.prototype.g=function(){return new XMLHttpRequest},gn=new Id;function jo(l){return encodeURIComponent(String(l))}function ZS(l){var h=1;l=l.split(":");const m=[];for(;h>0&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function kr(l,h,m,S){this.j=l,this.i=h,this.l=m,this.S=S||1,this.V=new Ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gg}function gg(){this.i=null,this.g="",this.h=!1}var yg={},Ad={};function bd(l,h,m){l.M=1,l.A=Al(jn(h)),l.u=m,l.R=!0,vg(l,null)}function vg(l,h){l.F=Date.now(),Il(l),l.B=jn(l.A);var m=l.B,S=l.S;Array.isArray(S)||(S=[String(S)]),Ng(m.i,"t",S),l.C=0,m=l.j.L,l.h=new gg,l.g=Kg(l.j,m?h:null,!l.u),l.P>0&&(l.O=new Td(c(l.Y,l,l.g),l.P)),h=l.V,m=l.g,S=l.ba;var V="readystatechange";Array.isArray(V)||(V&&(It[0]=V.toString()),V=It);for(let L=0;L<V.length;L++){const q=pn(m,V[L],S||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.J?re(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Nr(),_e(l.i,l.v,l.B,l.l,l.S,l.u)}kr.prototype.ba=function(l){l=l.target;const h=this.O;h&&Vr(l)==3?h.j():this.Y(l)},kr.prototype.Y=function(l){try{if(l==this.g)e:{const de=Vr(this.g),Je=this.g.ya(),Se=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||Fg(this.g)))){this.K||de!=4||Je==7||(Je==8||Se<=0?Nr(3):Nr(2)),Cd(this);var h=this.g.ca();this.X=h;var m=eI(this);if(this.o=h==200,Ie(this.i,this.v,this.B,this.l,this.S,de,h),this.o){if(this.U&&!this.L){t:{if(this.g){var S,V=this.g;if((S=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var L=S;break t}}L=null}if(l=L)st(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rd(this,l);else{this.o=!1,this.m=3,Xe(12),Vs(this),$o(this);break e}}if(this.R){l=!0;let it;for(;!this.K&&this.C<m.length;)if(it=tI(this,m),it==Ad){de==4&&(this.m=4,Xe(14),l=!1),st(this.i,this.l,null,"[Incomplete Response]");break}else if(it==yg){this.m=4,Xe(15),st(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else st(this.i,this.l,it,null),Rd(this,it);if(wg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||m.length!=0||this.h.h||(this.m=1,Xe(16),l=!1),this.o=this.o&&l,!l)st(this.i,this.l,m,"[Invalid Chunked Response]"),Vs(this),$o(this);else if(m.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Ld(q),q.P=!0,Xe(11))}}else st(this.i,this.l,m,null),Rd(this,m);de==4&&Vs(this),this.o&&!this.K&&(de==4?Wg(this.j,this):(this.o=!1,Il(this)))}else mI(this.g),h==400&&m.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),Vs(this),$o(this)}}}catch{}finally{}};function eI(l){if(!wg(l))return l.g.la();const h=Fg(l.g);if(h==="")return"";let m="";const S=h.length,V=Vr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Vs(l),$o(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<S;L++)l.h.h=!0,m+=l.h.i.decode(h[L],{stream:!(V&&L==S-1)});return h.length=0,l.h.g+=m,l.C=0,l.h.g}function wg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function tI(l,h){var m=l.C,S=h.indexOf(`
`,m);return S==-1?Ad:(m=Number(h.substring(m,S)),isNaN(m)?yg:(S+=1,S+m>h.length?Ad:(h=h.slice(S,S+m),l.C=S+m,h)))}kr.prototype.cancel=function(){this.K=!0,Vs(this)};function Il(l){l.T=Date.now()+l.H,_g(l,l.H)}function _g(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Os(c(l.aa,l),h)}function Cd(l){l.D&&(o.clearTimeout(l.D),l.D=null)}kr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Wt(this.i,this.B),this.M!=2&&(Nr(),Xe(17)),Vs(this),this.m=2,$o(this)):_g(this,this.T-l)};function $o(l){l.j.I==0||l.K||Wg(l.j,l)}function Vs(l){Cd(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,lr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Rd(l,h){try{var m=l.j;if(m.I!=0&&(m.g==l||Pd(m.h,l))){if(!l.L&&Pd(m.h,l)&&m.I==3){try{var S=m.Ba.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)Nl(m),Rl(m);else break e;Md(m),Xe(18)}}else m.xa=V[1],0<m.xa-m.K&&V[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Os(c(m.Va,m),6e3));Tg(m.h)<=1&&m.ta&&(m.ta=void 0)}else Ls(m,11)}else if((l.L||m.g==l)&&Nl(m),!R(h))for(V=m.Ba.g.parse(h),h=0;h<V.length;h++){let Se=V[h];const it=Se[0];if(!(it<=m.K))if(m.K=it,Se=Se[1],m.I==2)if(Se[0]=="c"){m.M=Se[1],m.ba=Se[2];const $n=Se[3];$n!=null&&(m.ka=$n,m.j.info("VER="+m.ka));const Fs=Se[4];Fs!=null&&(m.za=Fs,m.j.info("SVER="+m.za));const Mr=Se[5];Mr!=null&&typeof Mr=="number"&&Mr>0&&(S=1.5*Mr,m.O=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const Lr=l.g;if(Lr){const Dl=Lr.g?Lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dl){var L=S.h;L.g||Dl.indexOf("spdy")==-1&&Dl.indexOf("quic")==-1&&Dl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Nd(L,L.h),L.h=null))}if(S.G){const Fd=Lr.g?Lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fd&&(S.wa=Fd,Ce(S.J,S.G,Fd))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),S=m;var q=l;if(S.na=Qg(S,S.L?S.ba:null,S.W),q.L){Sg(S.h,q);var de=q,Je=S.O;Je&&(de.H=Je),de.D&&(Cd(de),Il(de)),S.g=q}else zg(S);m.i.length>0&&Pl(m)}else Se[0]!="stop"&&Se[0]!="close"||Ls(m,7);else m.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Ls(m,7):Vd(m):Se[0]!="noop"&&m.l&&m.l.qa(Se),m.A=0)}}Nr(4)}catch{}}var nI=class{constructor(l,h){this.g=l,this.map=h}};function Eg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Tg(l){return l.h?1:l.g?l.g.size:0}function Pd(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Nd(l,h){l.g?l.g.add(h):l.h=h}function Sg(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Eg.prototype.cancel=function(){if(this.i=Ig(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ig(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.G);return h}return g(l.i)}var Ag=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rI(l,h){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const S=l[m].indexOf("=");let V,L=null;S>=0?(V=l[m].substring(0,S),L=l[m].substring(S+1)):V=l[m],h(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Dr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Dr?(this.l=l.l,Bo(this,l.j),this.o=l.o,this.g=l.g,Uo(this,l.u),this.h=l.h,kd(this,kg(l.i)),this.m=l.m):l&&(h=String(l).match(Ag))?(this.l=!1,Bo(this,h[1]||"",!0),this.o=zo(h[2]||""),this.g=zo(h[3]||"",!0),Uo(this,h[4]),this.h=zo(h[5]||"",!0),kd(this,h[6]||"",!0),this.m=zo(h[7]||"")):(this.l=!1,this.i=new Wo(null,this.l))}Dr.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ho(h,bg,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ho(h,bg,!0),"@"),l.push(jo(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Ho(m,m.charAt(0)=="/"?oI:iI,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Ho(m,lI)),l.join("")},Dr.prototype.resolve=function(l){const h=jn(this);let m=!!l.j;m?Bo(h,l.j):m=!!l.o,m?h.o=l.o:m=!!l.g,m?h.g=l.g:m=l.u!=null;var S=l.h;if(m)Uo(h,l.u);else if(m=!!l.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var V=h.h.lastIndexOf("/");V!=-1&&(S=h.h.slice(0,V+1)+S)}if(V=S,V==".."||V==".")S="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){S=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let q=0;q<V.length;){const de=V[q++];de=="."?S&&q==V.length&&L.push(""):de==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),S&&q==V.length&&L.push("")):(L.push(de),S=!0)}S=L.join("/")}else S=V}return m?h.h=S:m=l.i.toString()!=="",m?kd(h,kg(l.i)):m=!!l.m,m&&(h.m=l.m),h};function jn(l){return new Dr(l)}function Bo(l,h,m){l.j=m?zo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Uo(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function kd(l,h,m){h instanceof Wo?(l.i=h,uI(l.i,l.l)):(m||(h=Ho(h,aI)),l.i=new Wo(h,l.l))}function Ce(l,h,m){l.i.set(h,m)}function Al(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function zo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ho(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,sI),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var bg=/[#\/\?@]/g,iI=/[#\?:]/g,oI=/[#\?]/g,aI=/[#\?@]/g,lI=/#/g;function Wo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Ms(l){l.g||(l.g=new Map,l.h=0,l.i&&rI(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Wo.prototype,t.add=function(l,h){Ms(this),this.i=null,l=Ei(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Cg(l,h){Ms(l),h=Ei(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Rg(l,h){return Ms(l),h=Ei(l,h),l.g.has(h)}t.forEach=function(l,h){Ms(this),this.g.forEach(function(m,S){m.forEach(function(V){l.call(h,V,S,this)},this)},this)};function Pg(l,h){Ms(l);let m=[];if(typeof h=="string")Rg(l,h)&&(m=m.concat(l.g.get(Ei(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)m=m.concat(l[h]);return m}t.set=function(l,h){return Ms(this),this.i=null,l=Ei(this,l),Rg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=Pg(this,l),l.length>0?String(l[0]):h):h};function Ng(l,h,m){Cg(l,h),m.length>0&&(l.i=null,l.g.set(Ei(l,h),g(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let S=0;S<h.length;S++){var m=h[S];const V=jo(m);m=Pg(this,m);for(let L=0;L<m.length;L++){let q=V;m[L]!==""&&(q+="="+jo(m[L])),l.push(q)}}return this.i=l.join("&")};function kg(l){const h=new Wo;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Ei(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function uI(l,h){h&&!l.j&&(Ms(l),l.i=null,l.g.forEach(function(m,S){const V=S.toLowerCase();S!=V&&(Cg(this,S),Ng(this,V,m))},l)),l.j=h}function cI(l,h){const m=new Z;if(o.Image){const S=new Image;S.onload=d(Or,m,"TestLoadImage: loaded",!0,h,S),S.onerror=d(Or,m,"TestLoadImage: error",!1,h,S),S.onabort=d(Or,m,"TestLoadImage: abort",!1,h,S),S.ontimeout=d(Or,m,"TestLoadImage: timeout",!1,h,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else h(!1)}function dI(l,h){const m=new Z,S=new AbortController,V=setTimeout(()=>{S.abort(),Or(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:S.signal}).then(L=>{clearTimeout(V),L.ok?Or(m,"TestPingServer: ok",!0,h):Or(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Or(m,"TestPingServer: error",!1,h)})}function Or(l,h,m,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(m)}catch{}}function hI(){this.g=new vi}function Dd(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Dd,xl),Dd.prototype.g=function(){return new bl(this.i,this.h)};function bl(l,h){Me.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bl,Me),t=bl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Go(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?qo(this):Go(this),this.readyState==3&&Dg(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,qo(this))},t.Na=function(l){this.g&&(this.response=l,qo(this))},t.ga=function(){this.g&&qo(this)};function qo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Go(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Go(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Og(l){let h="";return U(l,function(m,S){h+=S,h+=":",h+=m,h+=`\r
`}),h}function Od(l,h,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=Og(m),typeof l=="string"?m!=null&&jo(m):Ce(l,h,m))}function Be(l){Me.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Be,Me);var fI=/^https?$/i,pI=["POST","PUT"];t=Be.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){Vg(this,L);return}if(l=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)m.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())m.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),V=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(pI,h,void 0)>=0)||S||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of m)this.g.setRequestHeader(L,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Vg(this,L)}};function Vg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,Mg(l),Cl(l)}function Mg(l){l.A||(l.A=!0,rt(l,"complete"),rt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,rt(this,"complete"),rt(this,"abort"),Cl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cl(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Lg(this):this.Xa())},t.Xa=function(){Lg(this)};function Lg(l){if(l.h&&typeof i<"u"){if(l.v&&Vr(l)==4)setTimeout(l.Ca.bind(l),0);else if(rt(l,"readystatechange"),Vr(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var S;if(S=L===0){let q=String(l.D).match(Ag)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),S=!fI.test(q?q.toLowerCase():"")}m=S}if(m)rt(l,"complete"),rt(l,"success");else{l.o=6;try{var V=Vr(l)>2?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.ca()+"]",Mg(l)}}finally{Cl(l)}}}}function Cl(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,h||rt(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Sd(h)}};function Fg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function mI(l){const h={};l=(l.g&&Vr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(R(l[S]))continue;var m=ZS(l[S]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=h[V]||[];h[V]=L,L.push(m)}G(h,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function jg(l){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qo("baseRetryDelayMs",5e3,l),this.Za=Qo("retryDelaySeedMs",1e4,l),this.Ta=Qo("forwardChannelMaxRetries",2,l),this.va=Qo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Eg(l&&l.concurrentRequestLimit),this.Ba=new hI,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jg.prototype,t.ka=8,t.I=1,t.connect=function(l,h,m,S){Xe(0),this.W=l,this.H=h||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.J=Qg(this,null,this.W),Pl(this)};function Vd(l){if($g(l),l.I==3){var h=l.V++,m=jn(l.J);if(Ce(m,"SID",l.M),Ce(m,"RID",h),Ce(m,"TYPE","terminate"),Ko(l,m),h=new kr(l,l.j,h),h.M=2,h.A=Al(jn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=h.A,m=!0),m||(h.g=Kg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Il(h)}Gg(l)}function Rl(l){l.g&&(Ld(l),l.g.cancel(),l.g=null)}function $g(l){Rl(l),l.v&&(o.clearTimeout(l.v),l.v=null),Nl(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Pl(l){if(!xg(l.h)&&!l.m){l.m=!0;var h=l.Ea;O||E(),M||(O(),M=!0),T.add(h,l),l.D=0}}function gI(l,h){return Tg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Os(c(l.Ea,l,h),qg(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const V=new kr(this,this.j,l);let L=this.o;if(this.U&&(L?(L=re(L),ce(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,h>4096){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Ug(this,V,h),m=jn(this.J),Ce(m,"RID",l),Ce(m,"CVER",22),this.G&&Ce(m,"X-HTTP-Session-Id",this.G),Ko(this,m),L&&(this.R?h="headers="+jo(Og(L))+"&"+h:this.u&&Od(m,this.u,L)),Nd(this.h,V),this.Ra&&Ce(m,"TYPE","init"),this.S?(Ce(m,"$req",h),Ce(m,"SID","null"),V.U=!0,bd(V,m,null)):bd(V,m,h),this.I=2}}else this.I==3&&(l?Bg(this,l):this.i.length==0||xg(this.h)||Bg(this))};function Bg(l,h){var m;h?m=h.l:m=l.V++;const S=jn(l.J);Ce(S,"SID",l.M),Ce(S,"RID",m),Ce(S,"AID",l.K),Ko(l,S),l.u&&l.o&&Od(S,l.u,l.o),m=new kr(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),h&&(l.i=h.G.concat(l.i)),h=Ug(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Nd(l.h,m),bd(m,S,h)}function Ko(l,h){l.H&&U(l.H,function(m,S){Ce(h,S,m)}),l.l&&U({},function(m,S){Ce(h,S,m)})}function Ug(l,h,m){m=Math.min(l.i.length,m);const S=l.l?c(l.l.Ka,l.l,l):null;e:{var V=l.i;let de=-1;for(;;){const Je=["count="+m];de==-1?m>0?(de=V[0].g,Je.push("ofs="+de)):de=0:Je.push("ofs="+de);let Se=!0;for(let it=0;it<m;it++){var L=V[it].g;const $n=V[it].map;if(L-=de,L<0)de=Math.max(0,V[it].g-100),Se=!1;else try{L="req"+L+"_"||"";try{var q=$n instanceof Map?$n:Object.entries($n);for(const[Fs,Mr]of q){let Lr=Mr;a(Mr)&&(Lr=Mo(Mr)),Je.push(L+Fs+"="+encodeURIComponent(Lr))}}catch(Fs){throw Je.push(L+"type="+encodeURIComponent("_badmap")),Fs}}catch{S&&S($n)}}if(Se){q=Je.join("&");break e}}q=void 0}return l=l.i.splice(0,m),h.G=l,q}function zg(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;O||E(),M||(O(),M=!0),T.add(h,l),l.A=0}}function Md(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Os(c(l.Da,l),qg(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Hg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Os(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),Rl(this),Hg(this))};function Ld(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Hg(l){l.g=new kr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=jn(l.na);Ce(h,"RID","rpc"),Ce(h,"SID",l.M),Ce(h,"AID",l.K),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(h,"TO",l.ia),Ce(h,"TYPE","xmlhttp"),Ko(l,h),l.u&&l.o&&Od(h,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=Al(jn(h)),m.u=null,m.R=!0,vg(m,l)}t.Va=function(){this.C!=null&&(this.C=null,Rl(this),Md(this),Xe(19))};function Nl(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Wg(l,h){var m=null;if(l.g==h){Nl(l),Ld(l),l.g=null;var S=2}else if(Pd(l.h,h))m=h.G,Sg(l.h,h),S=1;else return;if(l.I!=0){if(h.o)if(S==1){m=h.u?h.u.length:0,h=Date.now()-h.F;var V=l.D;S=_i(),rt(S,new mn(S,m)),Pl(l)}else zg(l);else if(V=h.m,V==3||V==0&&h.X>0||!(S==1&&gI(l,h)||S==2&&Md(l)))switch(m&&m.length>0&&(h=l.h,h.i=h.i.concat(m)),V){case 1:Ls(l,5);break;case 4:Ls(l,10);break;case 3:Ls(l,6);break;default:Ls(l,2)}}}function qg(l,h){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*h}function Ls(l,h){if(l.j.info("Error code "+h),h==2){var m=c(l.bb,l),S=l.Ua;const V=!S;S=new Dr(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bo(S,"https"),Al(S),V?cI(S.toString(),m):dI(S.toString(),m)}else Xe(2);l.I=0,l.l&&l.l.pa(h),Gg(l),$g(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Gg(l){if(l.I=0,l.ja=[],l.l){const h=Ig(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ja,h),A(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function Qg(l,h,m){var S=m instanceof Dr?jn(m):new Dr(m);if(S.g!="")h&&(S.g=h+"."+S.g),Uo(S,S.u);else{var V=o.location;S=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;const L=new Dr(null);S&&Bo(L,S),h&&(L.g=h),V&&Uo(L,V),m&&(L.h=m),S=L}return m=l.G,h=l.wa,m&&h&&Ce(S,m,h),Ce(S,"VER",l.ka),Ko(l,S),S}function Kg(l,h,m){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Be(new Dd({ab:m})):new Be(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yg(){}t=Yg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kl(){}kl.prototype.g=function(l,h){return new qt(l,h)};function qt(l,h){Me.call(this),this.g=new jg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!R(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new xi(this)}f(qt,Me),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Vd(this.g)},qt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Mo(l),l=m);h.i.push(new nI(h.Ya++,l)),h.I==3&&Pl(h)},qt.prototype.N=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,qt.Z.N.call(this)};function Xg(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(Xg,Ln);function Jg(){wi.call(this),this.status=1}f(Jg,wi);function xi(l){this.g=l}f(xi,Yg),xi.prototype.ra=function(){rt(this.g,"a")},xi.prototype.qa=function(l){rt(this.g,new Xg(l))},xi.prototype.pa=function(l){rt(this.g,new Jg)},xi.prototype.oa=function(){rt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,X1=function(){return new kl},Y1=function(){return _i()},K1=Dt,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,Cu=rn,Ot.COMPLETE="complete",Q1=Ot,Lo.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Me.prototype.listen=Me.prototype.J,ca=Lo,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,G1=Be}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const dw="@firebase/firestore",hw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new N4("@firebase/firestore");function Si(){return ai.logLevel}function K(t,...e){if(ai.logLevel<=ve.DEBUG){const n=e.map(km);ai.debug(`Firestore (${Po}): ${t}`,...n)}}function Ar(t,...e){if(ai.logLevel<=ve.ERROR){const n=e.map(km);ai.error(`Firestore (${Po}): ${t}`,...n)}}function vo(t,...e){if(ai.logLevel<=ve.WARN){const n=e.map(km);ai.warn(`Firestore (${Po}): ${t}`,...n)}}function km(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,J1(t,r,n)}function J1(t,e,n){let r=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||J1(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends z1{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class D4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O4{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new Z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class V4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new V4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=F4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Zf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ih(s)===Ih(i)?fe(s,i):Ih(s)?1:-1}return fe(t.length,e.length)}const j4=55296,$4=57343;function Ih(t){const e=t.charCodeAt(0);return e>=j4&&e<=$4}function wo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=zn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return fe(e.length,n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),s=zn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?zn.extractNumericId(e).compare(zn.extractNumericId(n)):Zf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class Ae extends zn{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const B4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends zn{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return B4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pw}static keyField(){return new ft([pw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ae.fromString(e))}static fromName(e){return new J(Ae.fromString(e).popFirst(5))}static empty(){return new J(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U4(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mw(t){if(!J.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gw(t){if(J.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function pc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=id(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e){const n={typeString:t};return e&&(n.value=e),n}function gl(t,e){if(!tT(t))throw new Q($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=-62135596800,vw=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(e){return Ee.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vw);return new Ee(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yw)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vw}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gl(e,Ee._jsonSchema))return new Ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:Ye("string",Ee._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Ee(0,0))}static max(){return new se(new Ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=-1;function z4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Ee(n+1,0):new Ee(n,r));return new xs(s,J.empty(),e)}function H4(t){return new xs(t.readTime,t.key,Ya)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(se.min(),J.empty(),Ya)}static max(){return new xs(se.max(),J.empty(),Ya)}}function W4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==q4)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Q4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function ad(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function K4(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="";function Y4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ww(e)),e=X4(t.get(n),e);return ww(e)}function X4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case nT:n+="";break;default:n+=i}}return n}function ww(t){return t+nT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ew(this.data.getIterator())}getIteratorFrom(e){return new Ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class Ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new In([])}unionWith(e){let n=new nt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sT("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const J4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=J4.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ss(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="server_timestamp",oT="__type__",aT="__previous_value__",lT="__local_write_time__";function Vm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[oT])==null?void 0:r.stringValue)===iT}function ld(t){const e=t.mapValue.fields[aT];return Vm(e)?ld(e):e}function Xa(t){const e=Ts(t.mapValue.fields[lT].timestampValue);return new Ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,s,i,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const gc="(default)";class Ja{constructor(e,n){this.projectId=e,this.database=n||gc}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===gc}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__type__",eO="__max__",iu={mapValue:{}},cT="__vector__",yc="value";function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vm(t)?4:nO(t)?9007199254740991:tO(t)?10:11:ee(28295,{value:t})}function sr(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ts(s.timestampValue),a=Ts(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ss(s.bytesValue).isEqual(Ss(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return He(s.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return He(s.integerValue)===He(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=He(s.doubleValue),a=He(i.doubleValue);return o===a?mc(o)===mc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(_w(o)!==_w(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!sr(o[u],a[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Za(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=He(i.integerValue||i.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return xw(t.timestampValue,e.timestampValue);case 4:return xw(Xa(t),Xa(e));case 5:return Zf(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ss(i),u=Ss(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=fe(a[c],u[c]);if(d!==0)return d}return fe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=fe(He(i.latitude),He(o.latitude));return a!==0?a:fe(He(i.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Tw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,A,_;const a=i.fields||{},u=o.fields||{},c=(p=a[yc])==null?void 0:p.arrayValue,d=(g=u[yc])==null?void 0:g.arrayValue,f=fe(((A=c==null?void 0:c.values)==null?void 0:A.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return f!==0?f:Tw(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===iu.mapValue&&o===iu.mapValue)return 0;if(i===iu.mapValue)return 1;if(o===iu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=Zf(u[f],d[f]);if(p!==0)return p;const g=_o(a[u[f]],c[d[f]]);if(g!==0)return g}return fe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Ts(t),r=Ts(e),s=fe(n.seconds,r.seconds);return s!==0?s:fe(n.nanos,r.nanos)}function Tw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=_o(n[s],r[s]);if(i)return i}return fe(n.length,r.length)}function Eo(t){return ep(t)}function ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ep(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ep(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Ru(t){switch(Is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(t);return e?16+Ru(e):16;case 5:return 2*t.stringValue.length;case 6:return Ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ru(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fi(r.fields,(i,o)=>{s+=i.length+Ru(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function Sw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tp(t){return!!t&&"integerValue"in t}function Mm(t){return!!t&&"arrayValue"in t}function Iw(t){return!!t&&"nullValue"in t}function Aw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pu(t){return!!t&&"mapValue"in t}function tO(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uT])==null?void 0:r.stringValue)===cT}function Sa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(t.arrayValue.values[n]);return e}return{...t}}function nO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Sa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(Sa(this.value))}}function dT(t){const e=[];return fi(t.fields,(n,r)=>{const s=new ft([n]);if(Pu(r)){const i=dT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,se.min(),se.min(),se.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new Tt(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new Tt(e,2,n,se.min(),se.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,se.min(),se.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.position=e,this.inclusive=n}}function bw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n="asc"){this.field=e,this.dir=n}}function rO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{}class Ke extends hT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iO(e,n,r):n==="array-contains"?new lO(e,r):n==="in"?new uO(e,r):n==="not-in"?new cO(e,r):n==="array-contains-any"?new dO(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oO(e,r):new aO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends hT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kn(e,n)}matches(e){return fT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fT(t){return t.op==="and"}function pT(t){return sO(t)&&fT(t)}function sO(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function np(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(pT(t))return t.filters.map(e=>np(e)).join(",");{const e=t.filters.map(n=>np(n)).join(",");return`${t.op}(${e})`}}function mT(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&sr(r.value,s.value)}(t,e):t instanceof kn?function(r,s){return s instanceof kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mT(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function gT(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(gT).join(" ,")+"}"}(t):"Filter"}class iO extends Ke{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class oO extends Ke{constructor(e,n){super(e,"in",n),this.keys=yT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aO extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=yT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class lO extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mm(n)&&Za(n.arrayValue,this.value)}}class uO extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class cO extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Za(this.value.arrayValue,n)}}class dO extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Rw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new hO(t,e,n,r,s,i,o)}function Lm(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>np(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eo(r)).join(",")),e.Te=n}return e.Te}function Fm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cw(t.startAt,e.startAt)&&Cw(t.endAt,e.endAt)}function rp(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fO(t,e,n,r,s,i,o,a){return new Do(t,e,n,r,s,i,o,a)}function vT(t){return new Do(t)}function Pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wT(t){return t.collectionGroup!==null}function Ia(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new el(i,r))}),n.has(ft.keyField().canonicalString())||e.Ie.push(new el(ft.keyField(),r))}return e.Ie}function Zn(t){const e=ae(t);return e.Ee||(e.Ee=pO(e,Ia(t))),e.Ee}function pO(t,e){if(t.limitType==="F")return Rw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new el(s.field,i)});const n=t.endAt?new vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vc(t.startAt.position,t.startAt.inclusive):null;return Rw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sp(t,e){const n=t.filters.concat([e]);return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,n){return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ud(t,e){return Fm(Zn(t),Zn(e))&&t.limitType===e.limitType}function _T(t){return`${Lm(Zn(t))}|lt:${t.limitType}`}function Ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gT(s)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Eo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Eo(s)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ia(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=bw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ia(r),s)||r.endAt&&!function(o,a,u){const c=bw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ia(r),s))}(t,e)}function mO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ET(t){return(e,n)=>{let r=!1;for(const s of Ia(t)){const i=gO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function gO(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?_o(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new $e(J.comparator);function br(){return yO}const xT=new $e(J.comparator);function da(...t){let e=xT;for(const n of t)e=e.insert(n.key,n);return e}function TT(t){let e=xT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return Aa()}function ST(){return Aa()}function Aa(){return new pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const vO=new $e(J.comparator),wO=new nt(J.comparator);function pe(...t){let e=wO;for(const n of t)e=e.add(n);return e}const _O=new nt(fe);function EO(){return _O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function IT(t){return{integerValue:""+t}}function xO(t,e){return K4(e)?IT(e):jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function TO(t,e,n){return t instanceof wc?function(s,i){const o={fields:{[oT]:{stringValue:iT},[lT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vm(i)&&(i=ld(i)),i&&(o.fields[aT]=i),{mapValue:o}}(n,e):t instanceof tl?bT(t,e):t instanceof nl?CT(t,e):function(s,i){const o=AT(s,i),a=Nw(o)+Nw(s.Ae);return tp(o)&&tp(s.Ae)?IT(a):jm(s.serializer,a)}(t,e)}function SO(t,e,n){return t instanceof tl?bT(t,e):t instanceof nl?CT(t,e):n}function AT(t,e){return t instanceof _c?function(r){return tp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class wc extends dd{}class tl extends dd{constructor(e){super(),this.elements=e}}function bT(t,e){const n=RT(e);for(const r of t.elements)n.some(s=>sr(s,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends dd{constructor(e){super(),this.elements=e}}function CT(t,e){let n=RT(e);for(const r of t.elements)n=n.filter(s=>!sr(s,r));return{arrayValue:{values:n}}}class _c extends dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nw(t){return He(t.integerValue||t.doubleValue)}function RT(t){return Mm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tl&&s instanceof tl||r instanceof nl&&s instanceof nl?wo(r.elements,s.elements,sr):r instanceof _c&&s instanceof _c?sr(r.Ae,s.Ae):r instanceof wc&&s instanceof wc}(t.transform,e.transform)}class AO{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hd{}function PT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kT(t.key,vr.none()):new yl(t.key,t.data,vr.none());{const n=t.data,r=ln.empty();let s=new nt(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new mi(t.key,r,new In(s.toArray()),vr.none())}}function bO(t,e,n){t instanceof yl?function(s,i,o){const a=s.value.clone(),u=Dw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mi?function(s,i,o){if(!Nu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Dw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(NT(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ba(t,e,n,r){return t instanceof yl?function(i,o,a,u){if(!Nu(i.precondition,o))return a;const c=i.value.clone(),d=Ow(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof mi?function(i,o,a,u){if(!Nu(i.precondition,o))return a;const c=Ow(i.fieldTransforms,u,o),d=o.data;return d.setAll(NT(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Nu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function CO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AT(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wo(r,s,(i,o)=>IO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends hd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mi extends hd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Dw(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,SO(o,a,n[s]))}return r}function Ow(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,TO(i,o,e))}return r}class kT extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RO extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&bO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ST();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=PT(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>kw(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>kw(n,r))}}class $m{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return vO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $m(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ye;function DO(t){switch(t){case $.OK:return ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function DT(t){if(t===void 0)return Ar("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ge.OK:return $.OK;case Ge.CANCELLED:return $.CANCELLED;case Ge.UNKNOWN:return $.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return $.INTERNAL;case Ge.UNAVAILABLE:return $.UNAVAILABLE;case Ge.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ge.NOT_FOUND:return $.NOT_FOUND;case Ge.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ge.ABORTED:return $.ABORTED;case Ge.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ge.DATA_LOSS:return $.DATA_LOSS;default:return ee(39323,{code:t})}}(ye=Ge||(Ge={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new hs([4294967295,4294967295],0);function Vw(t){const e=OO().encode(t),n=new q1;return n.update(e),new Uint8Array(n.digest())}function Mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new hs([n,r],0),new hs([s,i],0)]}class Bm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ha(`Invalid padding: ${n}`);if(r<0)throw new ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ha(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(hs.fromNumber(r)));return s.compare(VO)===1&&(s=new hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Vw(e),[r,s]=Mw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Vw(e),[r,s]=Mw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fd(se.min(),s,new $e(fe),br(),pe())}}class vl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class OT{constructor(e,n){this.targetId=e,this.Ce=n}}class VT{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Lw{constructor(){this.ve=0,this.Fe=Fw(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new vl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Fw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MO{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=ou(),this.He=ou(),this.Ye=new $e(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(rp(i))if(r===0){const o=new J(i.path);this.et(n,o,Tt.newNoDocument(o,se.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ss(r).toUint8Array()}catch(u){if(u instanceof sT)return vo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bm(o,s,i)}catch(u){return vo(u instanceof ha?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&rp(a.target)){const u=new J(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Tt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=pe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new fd(e,n,this.Ye,this.je,r);return this.je=br(),this.Je=ou(),this.He=ou(),this.Ye=new $e(fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Lw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ou(){return new $e(J.comparator)}function Fw(){return new $e(J.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},FO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class $O{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function Ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BO(t,e){return Ec(t,e.toTimestamp())}function er(t){return xe(!!t,49232),se.fromTimestamp(function(n){const r=Ts(n);return new Ee(r.seconds,r.nanos)}(t))}function Um(t,e){return ap(t,e).canonicalString()}function ap(t,e){const n=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LT(t){const e=Ae.fromString(t);return xe(UT(e),10190,{key:e.toString()}),e}function lp(t,e){return Um(t.databaseId,e.path)}function Ah(t,e){const n=LT(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(jT(n))}function FT(t,e){return Um(t.databaseId,e)}function UO(t){const e=LT(t);return e.length===4?Ae.emptyPath():jT(e)}function up(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jT(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jw(t,e,n){return{name:lp(t,e),fields:n.value.mapValue.fields}}function zO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:DT(c.code);return new Q(d,c.message||"")}(o);n=new VT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ah(t,r.document.name),i=er(r.document.updateTime),o=r.document.createTime?er(r.document.createTime):se.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ku(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ah(t,r.document),i=r.readTime?er(r.readTime):se.min(),o=Tt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ku([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ah(t,r.document),i=r.removedTargetIds||[];n=new ku([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new kO(s,i),a=r.targetId;n=new OT(a,o)}}return n}function HO(t,e){let n;if(e instanceof yl)n={update:jw(t,e.key,e.value)};else if(e instanceof kT)n={delete:lp(t,e.key)};else if(e instanceof mi)n={update:jw(t,e.key,e.data),updateMask:ZO(e.fieldMask)};else{if(!(e instanceof RO))return ee(16599,{Vt:e.type});n={verify:lp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _c)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:BO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function WO(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?er(s.updateTime):er(i);return o.isEqual(se.min())&&(o=er(i)),new AO(o,s.transformResults||[])}(n,e))):[]}function qO(t,e){return{documents:[FT(t,e.path)]}}function GO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FT(t,s);const i=function(c){if(c.length!==0)return BT(kn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ai(p.field),direction:YO(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=op(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function QO(t){let e=UO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=$T(f);return p instanceof kn&&pT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(A){return new el(bi(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ad(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new vc(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new vc(g,p)}(n.endAt)),fO(e,s,o,i,a,"F",u,c)}function KO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $T(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bi(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bi(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bi(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bi(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(bi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>$T(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function YO(t){return LO[t]}function XO(t){return FO[t]}function JO(t){return jO[t]}function Ai(t){return{fieldPath:t.canonicalString()}}function bi(t){return ft.fromServerFormat(t.fieldPath)}function BT(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Aw(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NAN"}};if(Iw(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Aw(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NAN"}};if(Iw(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ai(n.field),op:XO(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(s=>BT(s));return r.length===1?r[0]:{compositeFilter:{op:JO(n.op),filters:r}}}(t):ee(54877,{filter:t})}function ZO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r,s,i=se.min(),o=se.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.yt=e}}function tV(t){const e=QO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.Cn=new rV}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(xs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class rV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Ae.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(zT,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="LruGarbageCollector",sV=1048576;function Uw([t,e],[n,r]){const s=fe(t,n);return s===0?fe(e,r):s}class iV{constructor(e){this.Ir=e,this.buffer=new nt(Uw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Uw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(Bw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?K(Bw,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)})}}class aV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(od.ce);const r=new iV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve($w)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$w):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Si()<=ve.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function lV(t,e){return new aV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.changes=new pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ba(r.mutation,s,In.empty(),Ee.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=da();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=br();const o=Aa(),a=function(){return Aa()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof mi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ba(d.mutation,c,d.mutation.getFieldMask(),Ee.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new cV(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Aa();let s=new $e((o,a)=>o-a),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||In.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||pe()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=ST();d.forEach(p=>{if(!i.has(p)){const g=PT(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ws());let a=Ya,u=i;return o.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:a,changes:TT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=da();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=da();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,u=>{const c=function(f,p){return new Do(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Tt.newInvalidDocument(d)))});let a=da();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&ba(d.mutation,c,In.empty(),Ee.now()),cd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:er(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:tV(s.bundledQuery),readTime:er(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.overlays=new $e(J.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ws(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new $e((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ws(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ws(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NO(n,r));let i=this.qr.get(n);i===void 0&&(i=pe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Qr=new nt(at.$r),this.Ur=new nt(at.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new at(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new Ae([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new Ae([])),r=new at(n,e),s=new at(n,e+1);let i=pe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(at.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(fe);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new at(new J(i),0);let a=new nt(fe);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new at(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.ri=e,this.docs=function(){return new $e(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=br();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||W4(H4(d),r)<=0||(s.has(d.key)||cd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yV(this)}getSize(e){return B.resolve(this.size)}}class yV extends uV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.persistence=e,this.si=new pi(n=>Lm(n),Fm),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new zm,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new pV,this.referenceDelegate=e(this),this.Pi=new vV(this),this.indexManager=new nV,this.remoteDocumentCache=function(s){return new gV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new eV(n),this.Ii=new hV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new wV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class wV extends G4{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Ri=new zm,this.Vi=null}static mi(e){return new Hm(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=J.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xc{constructor(e,n){this.persistence=e,this.pi=new pi(r=>Y4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=lV(this,n)}static mi(e,n){return new xc(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ru(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return E4()?8:Q4(w4())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _V;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Si()<=ve.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Si()<=ve.DEBUG&&K("QueryEngine","Query:",Ii(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Si()<=ve.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):B.resolve())}ys(e,n){if(Pw(n))return B.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ip(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,ip(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return Pw(n)||s.isEqual(se.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Si()<=ve.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ii(n)),this.vs(e,o,n,z4(s,Ya)).next(a=>a))})}Ds(e,n){let r=new nt(ET(e));return n.forEach((s,i)=>{cd(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Si()<=ve.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ii(n)),this.ps.getDocumentsMatchingQuery(e,n,xs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",xV=3e8;class TV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new $e(fe),this.xs=new pi(i=>Lm(i),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function SV(t,e,n,r){return new TV(t,e,n,r)}async function WT(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=pe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function IV(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let g=B.resolve();return p.forEach(A=>{g=g.next(()=>d.getEntry(u,A)).next(_=>{const I=c.docVersions.get(A);xe(I!==null,48541),_.version.compareTo(I)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qT(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AV(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(gt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(_,I,v){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=xV?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,d)&&a.push(n.Pi.updateTargetData(i,g))});let u=br(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(bV(i,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(se.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ms=s,i))}function bV(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=br();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):K(qm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:s}})}function CV(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RV(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function cp(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ko(o))throw o;K(qm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function zw(t,e,n){const r=ae(t);let s=se.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=ae(u),p=f.xs.get(d);return p!==void 0?B.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,Zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:pe())).next(a=>(PV(r,mO(e),a),{documents:a,Qs:i})))}function PV(t,e,n){let r=t.Os.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Hw{constructor(){this.activeTargetIds=EO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.Mo=new Hw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="ConnectivityMonitor";class qw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(Ww,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(Ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function dp(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="RestConnection",DV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===gc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=dp(),a=this.zo(e,n.toUriEncodedString());K(bh,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:c}=new URL(a),d=Nm(c);return this.Jo(e,a,u,r,d).then(f=>(K(bh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw vo(bh,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=DV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class MV extends OV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=dp();return new Promise((a,u)=>{const c=new G1;c.setWithCredentials(!0),c.listenOnce(Q1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Cu.NO_ERROR:const f=c.getResponseJson();K(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Cu.TIMEOUT:K(_t,`RPC '${e}' ${o} timed out`),u(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case Cu.HTTP_ERROR:const p=c.getStatus();if(K(_t,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const A=g==null?void 0:g.error;if(A&&A.status&&A.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(A.status);u(new Q(_,A.message))}else u(new Q($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Q($.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(_t,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);K(_t,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=dp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=X1(),a=Y1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");K(_t,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);this.I_(f);let p=!1,g=!1;const A=new VV({Yo:I=>{g?K(_t,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(K(_t,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),K(_t,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},Zo:()=>f.close()}),_=(I,v,y)=>{I.listen(v,x=>{try{y(x)}catch(D){setTimeout(()=>{throw D},0)}})};return _(f,ca.EventType.OPEN,()=>{g||(K(_t,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),_(f,ca.EventType.CLOSE,()=>{g||(g=!0,K(_t,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(f))}),_(f,ca.EventType.ERROR,I=>{g||(g=!0,vo(_t,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),A.a_(new Q($.UNAVAILABLE,"The operation could not be completed")))}),_(f,ca.EventType.MESSAGE,I=>{var v;if(!g){const y=I.data[0];xe(!!y,16349);const x=y,D=(x==null?void 0:x.error)||((v=x[0])==null?void 0:v.error);if(D){K(_t,`RPC '${e}' stream ${s} received error:`,D);const O=D.status;let M=function(C){const P=Ge[C];if(P!==void 0)return DT(P)}(O),T=D.message;M===void 0&&(M=$.INTERNAL,T="Unknown error status: "+O+" with message "+D.message),g=!0,A.a_(new Q(M,T)),f.close()}else K(_t,`RPC '${e}' stream ${s} received:`,y),A.u_(y)}}),_(a,K1.STAT_EVENT,I=>{I.stat===Jf.PROXY?K(_t,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Jf.NOPROXY&&K(_t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new $O(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="PersistentStream";class QT{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(Gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(Gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LV extends QT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zO(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?er(o.readTime):se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=up(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=rp(u)?{documents:qO(i,u)}:{query:GO(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MT(i,o.resumeToken);const c=op(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Ec(i,o.snapshotVersion.toTimestamp());const c=op(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=KO(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=up(this.serializer),n.removeTarget=e,this.q_(n)}}class FV extends QT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WO(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=up(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HO(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{}class $V extends jV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ap(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ap(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class BV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="RemoteStore";class UV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{gi(this)&&(K(li,"Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.Ea.add(4),await wl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await md(c)}(this))})}),this.Ra=new BV(r,s)}}async function md(t){if(gi(t))for(const e of t.da)await e(!0)}async function wl(t){for(const e of t.da)await e(!1)}function KT(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ym(n)?Km(n):Oo(n).O_()&&Qm(n,e))}function Gm(t,e){const n=ae(t),r=Oo(n);n.Ia.delete(e),r.O_()&&YT(n,e),n.Ia.size===0&&(r.O_()?r.L_():gi(n)&&n.Ra.set("Unknown"))}function Qm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(t).Y_(e)}function YT(t,e){t.Va.Ue(e),Oo(t).Z_(e)}function Km(t){t.Va=new MO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oo(t).start(),t.Ra.ua()}function Ym(t){return gi(t)&&!Oo(t).x_()&&t.Ia.size>0}function gi(t){return ae(t).Ea.size===0}function XT(t){t.Va=void 0}async function zV(t){t.Ra.set("Online")}async function HV(t){t.Ia.forEach((e,n)=>{Qm(t,e)})}async function WV(t,e){XT(t),Ym(t)?(t.Ra.ha(e),Km(t)):t.Ra.set("Unknown")}async function qV(t,e,n){if(t.Ra.set("Online"),e instanceof VT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){K(li,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(t,r)}else if(e instanceof ku?t.Va.Ze(e):e instanceof OT?t.Va.st(e):t.Va.tt(e),!n.isEqual(se.min()))try{const r=await qT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),YT(i,u);const f=new ts(d.target,u,c,d.sequenceNumber);Qm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(li,"Failed to raise snapshot:",r),await Tc(t,r)}}async function Tc(t,e,n){if(!ko(e))throw e;t.Ea.add(1),await wl(t),t.Ra.set("Offline"),n||(n=()=>qT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(li,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await md(t)})}function JT(t,e){return e().catch(n=>Tc(t,n,e))}async function gd(t){const e=ae(t),n=As(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;GV(e);)try{const s=await CV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,QV(e,s)}catch(s){await Tc(e,s)}ZT(e)&&eS(e)}function GV(t){return gi(t)&&t.Ta.length<10}function QV(t,e){t.Ta.push(e);const n=As(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZT(t){return gi(t)&&!As(t).x_()&&t.Ta.length>0}function eS(t){As(t).start()}async function KV(t){As(t).ra()}async function YV(t){const e=As(t);for(const n of t.Ta)e.ea(n.mutations)}async function XV(t,e,n){const r=t.Ta.shift(),s=$m.from(r,e,n);await JT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gd(t)}async function JV(t,e){e&&As(t).X_&&await async function(r,s){if(function(o){return DO(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();As(r).B_(),await JT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await gd(r)}}(t,e),ZT(t)&&eS(t)}async function Qw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),K(li,"RemoteStore received new credentials");const r=gi(n);n.Ea.add(3),await wl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await md(n)}async function ZV(t,e){const n=ae(t);e?(n.Ea.delete(2),await md(n)):e||(n.Ea.add(2),await wl(n),n.Ra.set("Unknown"))}function Oo(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new LV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:zV.bind(null,t),t_:HV.bind(null,t),r_:WV.bind(null,t),H_:qV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ym(t)?Km(t):t.Ra.set("Unknown")):(await t.ma.stop(),XT(t))})),t.ma}function As(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new FV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KV.bind(null,t),r_:JV.bind(null,t),ta:YV.bind(null,t),na:XV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await gd(t)):(await t.fa.stop(),t.Ta.length>0&&(K(li,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Xm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),ko(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{static emptySet(e){return new Ki(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ki;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.ga=new $e(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class To{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new To(e,n,Ki.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tM{constructor(){this.queries=Yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=Yw(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function Yw(){return new pi(t=>_T(t),ud)}async function nM(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new eM,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Jm(o,`Initialization of query '${Ii(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Zm(n)}async function rM(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sM(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Zm(n)}function iM(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Zm(t){t.Ca.forEach(e=>{e.next()})}var hp,Xw;(Xw=hp||(hp={})).Ma="default",Xw.Cache="cache";class oM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.key=e}}class nS{constructor(e){this.key=e}}class aM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=ET(e),this.tu=new Ki(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Kw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=cd(this.query,f)?f:null,A=!!p&&this.mutatedKeys.has(p.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?A!==_&&(r.track({type:3,doc:g}),I=!0):this.su(p,g)||(r.track({type:2,doc:g}),I=!0,(u&&this.eu(g,u)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(u||c)&&(a=!0)),I&&(g?(o=o.add(g),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(g,A){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:I})}};return _(g)-_(A)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new To(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new nS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new tS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class lM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uM{constructor(e){this.key=e,this.hu=!1}}class cM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new pi(a=>_T(a),ud),this.Iu=new Map,this.Eu=new Set,this.du=new $e(J.comparator),this.Au=new Map,this.Ru=new zm,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dM(t,e,n=!0){const r=lS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rS(r,e,n,!0),s}async function hM(t,e){const n=lS(t);await rS(n,e,!0,!1)}async function rS(t,e,n,r){const s=await RV(t.localStore,Zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await fM(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&KT(t.remoteStore,s),a}async function fM(t,e,n,r,s){t.pu=(f,p,g)=>async function(_,I,v,y){let x=I.view.ru(v);x.Cs&&(x=await zw(_.localStore,I.query,!1).then(({documents:T})=>I.view.ru(T,x)));const D=y&&y.targetChanges.get(I.targetId),O=y&&y.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(x,_.isPrimaryClient,D,O);return Zw(_,I.targetId,M.au),M.snapshot}(t,f,p,g);const i=await zw(t.localStore,e,!0),o=new aM(e,i.Qs),a=o.ru(i.documents),u=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);Zw(t,n,c.au);const d=new lM(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function pM(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ud(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await cp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gm(r.remoteStore,s.targetId),fp(r,s.targetId)}).catch(No)):(fp(r,s.targetId),await cp(r.localStore,s.targetId,!0))}async function mM(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gm(n.remoteStore,r.targetId))}async function gM(t,e,n){const r=TM(t);try{const s=await function(o,a){const u=ae(o),c=Ee.now(),d=a.reduce((g,A)=>g.add(A.key),pe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let A=br(),_=pe();return u.Ns.getEntries(g,d).next(I=>{A=I,A.forEach((v,y)=>{y.isValidDocument()||(_=_.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,A)).next(I=>{f=I;const v=[];for(const y of a){const x=CO(y,f.get(y.key).overlayedDocument);x!=null&&v.push(new mi(y.key,x,dT(x.value.mapValue),vr.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,v,a)}).next(I=>{p=I;const v=I.applyToLocalDocumentSet(f,_);return u.documentOverlayCache.saveOverlays(g,I.batchId,v)})}).then(()=>({batchId:p.batchId,changes:TT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new $e(fe)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await _l(r,s.changes),await gd(r.remoteStore)}catch(s){const i=Jm(s,"Failed to persist write");n.reject(i)}}async function sS(t,e){const n=ae(t);try{const r=await AV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await _l(n,r,e)}catch(r){await No(r)}}function Jw(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ae(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&Zm(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yM(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new $e(J.comparator);o=o.insert(i,Tt.newNoDocument(i,se.min()));const a=pe().add(i),u=new fd(se.min(),new Map,new $e(fe),o,a);await sS(r,u),r.du=r.du.remove(i),r.Au.delete(e),tg(r)}else await cp(r.localStore,e,!1).then(()=>fp(r,e,n)).catch(No)}async function vM(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await IV(n.localStore,e);oS(n,r,null),iS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _l(n,s)}catch(s){await No(s)}}async function wM(t,e,n){const r=ae(t);try{const s=await function(o,a){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(xe(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);oS(r,e,n),iS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _l(r,s)}catch(s){await No(s)}}function iS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function oS(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||aS(t,r)})}function aS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tg(t))}function Zw(t,e,n){for(const r of n)r instanceof tS?(t.Ru.addReference(r.key,e),_M(t,r)):r instanceof nS?(K(eg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||aS(t,r.key)):ee(19791,{wu:r})}function _M(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(eg,"New document in limbo: "+n),t.Eu.add(r),tg(t))}function tg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Ae.fromString(e)),r=t.fu.next();t.Au.set(r,new uM(n)),t.du=t.du.insert(n,r),KT(t.remoteStore,new ts(Zn(vT(n.path)),r,"TargetPurposeLimboResolution",od.ce))}}async function _l(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Wm.As(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,c){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,p=>B.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>B.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!ko(f))throw f;K(qm,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),A=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(A);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function EM(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){K(eg,"User change. New user:",e.toKey());const r=await WT(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new Q($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _l(n,r.Ls)}}function xM(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let s=pe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function lS(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yM.bind(null,e),e.Pu.H_=sM.bind(null,e.eventManager),e.Pu.yu=iM.bind(null,e.eventManager),e}function TM(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SV(this.persistence,new EV,e.initialUser,this.serializer)}Cu(e){return new HT(Hm.mi,this.serializer)}Du(e){return new NV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class SM extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof xc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new HT(r=>xc.mi(r,n),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EM.bind(null,this.syncEngine),await ZV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tM}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),r=function(i){return new MV(i)}(e.databaseInfo);return function(i,o,a,u){return new $V(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new UV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Jw(this.syncEngine,n,0),function(){return qw.v()?new qw:new kV}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const f=new cM(s,i,o,a,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);K(li,"RemoteStore shutting down."),i.Ea.add(5),await wl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class AM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(bs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(bs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rh(t,e){t.asyncQueue.verifyOperationInProgress(),K(bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bM(t);K(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Qw(e.remoteStore,s)),t._onlineComponents=e}async function bM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(bs,"Using user provided OfflineComponentProvider");try{await Rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Rh(t,new Sc)}}else K(bs,"Using default OfflineComponentProvider"),await Rh(t,new SM(void 0));return t._offlineComponents}async function uS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(bs,"Using user provided OnlineComponentProvider"),await e0(t,t._uninitializedComponentsProvider._online)):(K(bs,"Using default OnlineComponentProvider"),await e0(t,new pp))),t._onlineComponents}function CM(t){return uS(t).then(e=>e.syncEngine)}async function RM(t){const e=await uS(t),n=e.eventManager;return n.onListen=dM.bind(null,e.syncEngine),n.onUnlisten=pM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mM.bind(null,e.syncEngine),n}function PM(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new IM({next:p=>{d.Nu(),o.enqueueAndForget(()=>rM(i,f)),p.fromCache&&u.source==="server"?c.reject(new Q($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new oM(a,d,{includeMetadataChanges:!0,qa:!0});return nM(i,f)}(await RM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firestore.googleapis.com",n0=!0;class r0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=n0}else this.host=e.host,this.ssl=e.ssl??n0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sV)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k4;switch(r.type){case"firstParty":return new M4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=t0.get(n);r&&(K("ComponentProvider","Removing Datastore"),t0.delete(n),r.terminate())}(this),Promise.resolve()}}function NM(t,e,n,r={}){var c;t=pc(t,yd);const s=Nm(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(p4(`https://${a}`),v4("Firestore",!0)),i.host!==dS&&i.host!==a&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!W1(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Et.MOCK_USER;else{d=m4(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Et(p)}t._authCredentials=new D4(new Z1(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gl(n,ut._jsonSchema))return new ut(e,r||null,new J(Ae.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Ye("string",ut._jsonSchemaVersion),referencePath:Ye("string")};class ps extends yi{constructor(e,n,r){super(e,n,vT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new J(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function hS(t,e,...n){if(t=yo(t),eT("collection","path",e),t instanceof yd){const r=Ae.fromString(e,...n);return gw(r),new ps(t,null,r)}{if(!(t instanceof ut||t instanceof ps))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return gw(r),new ps(t.firestore,null,r)}}function kM(t,e,...n){if(t=yo(t),arguments.length===1&&(e=Dm.newId()),eT("doc","path",e),t instanceof yd){const r=Ae.fromString(e,...n);return mw(r),new ut(t,null,new J(r))}{if(!(t instanceof ut||t instanceof ps))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return mw(r),new ut(t.firestore,t instanceof ps?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="AsyncQueue";class i0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GT(this,"async_queue_retry"),this._c=()=>{const r=Ch();r&&K(s0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ch();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;K(s0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",o0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Xm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function o0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ng extends yd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new i0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i0(e),this._firestoreClient=void 0,await e}}}function DM(t,e){const n=typeof t=="object"?t:L1(),r=typeof t=="string"?t:gc,s=ml(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=f4("firestore");i&&NM(s,...i)}return s}function fS(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OM(t),t._firestoreClient}function OM(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,c,d){return new Z4(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new AM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(gt.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new un(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gl(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:Ye("string",un._jsonSchemaVersion),bytes:Ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(gl(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:Ye("string",tr._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gl(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new nr(e.vectorValues);throw new Q($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:Ye("string",nr._jsonSchemaVersion),vectorValues:Ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class MM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}function mS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class sg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mS(this.Ac)&&VM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Cc(e,n,r,s=!1){return new sg({Ac:e,methodName:n,Dc:r,path:ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gS(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new LM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FM(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);wS("Data must be an object, but it was:",o,r);const a=yS(r,o);let u,c;if(i.merge)u=new In(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=$M(e,f,n);if(!o.contains(p))throw new Q($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);UM(d,p)||d.push(p)}u=new In(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new MM(new ln(a),u,c)}function jM(t,e,n,r=!1){return ig(n,t.Cc(r?4:3,e))}function ig(t,e){if(vS(t=yo(t)))return wS("Unsupported field value:",e,t),yS(t,e);if(t instanceof pS)return function(r,s){if(!mS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=ig(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ee.fromDate(r);return{timestampValue:Ec(s.serializer,i)}}if(r instanceof Ee){const i=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ec(s.serializer,i)}}if(r instanceof tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:MT(s.serializer,r._byteString)};if(r instanceof ut){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Um(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nr)return function(o,a){return{mapValue:{fields:{[uT]:{stringValue:cT},[yc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return jm(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${id(r)}`)}(t,e)}function yS(t,e){const n={};return rT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,(r,s)=>{const i=ig(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ee||t instanceof tr||t instanceof un||t instanceof ut||t instanceof pS||t instanceof nr)}function wS(t,e,n){if(!vS(n)||!tT(n)){const r=id(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function $M(t,e,n){if((e=yo(e))instanceof rg)return e._internalPath;if(typeof e=="string")return _S(t,e);throw Ic("Field path arguments must be of type string or ",t,!1,void 0,n)}const BM=new RegExp("[~\\*/\\[\\]]");function _S(t,e,n){if(e.search(BM)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ic(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Q($.INVALID_ARGUMENT,a+t+u)}function UM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zM extends ES{data(){return super.data()}}function vd(t,e){return typeof e=="string"?_S(t,e):e instanceof rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class xS extends og{}function Ph(t,e,...n){let r=[];e instanceof og&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof ag).length,a=i.filter(u=>u instanceof wd).length;if(o>1||o>0&&a>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class wd extends xS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wd(e,n,r)}_apply(e){const n=this._parse(e);return TS(e._query,n),new yi(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=gS(e.firestore);return function(i,o,a,u,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){l0(f,d);const A=[];for(const _ of f)A.push(a0(u,i,_));p={arrayValue:{values:A}}}else p=a0(u,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||l0(f,d),p=jM(a,o,f,d==="in"||d==="not-in");return Ke.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nh(t,e,n){const r=e,s=vd("where",t);return wd._create(s,r,n)}class ag extends og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)TS(o,u),o=sp(o,u)}(e._query,n),new yi(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends xS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new el(i,o)}(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Do(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function WM(t,e="asc"){const n=e,r=vd("orderBy",t);return lg._create(r,n)}function a0(t,e,n){if(typeof(n=yo(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!J.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sw(t,new J(r))}if(n instanceof ut)return Sw(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${id(n)}.`)}function l0(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qM{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[yc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>He(o.doubleValue));return new nr(n)}convertGeoPoint(e){return new tr(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Ee(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);xe(UT(r),9688,{name:e});const s=new Ja(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||Ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yi extends ES{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yi._jsonSchema={type:Ye("string",Yi._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Du extends Yi{data(e={}){return super.data(e)}}class Xi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new lu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Du(this._firestore,this._userDataWriter,r.key,r,new lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Du(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Du(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:QM(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}Xi._jsonSchemaVersion="firestore/querySnapshot/1.0",Xi._jsonSchema={type:Ye("string",Xi._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class KM extends qM{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function YM(t){t=pc(t,yi);const e=pc(t.firestore,ng),n=fS(e),r=new KM(e);return HM(t._query),PM(n,t._query).then(s=>new Xi(e,r,t,s))}function XM(t,e){const n=pc(t.firestore,ng),r=kM(t),s=GM(t.converter,e);return JM(n,[FM(gS(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function JM(t,e){return function(r,s){const i=new fs;return r.asyncQueue.enqueueAndForget(async()=>gM(await CM(r),s,i)),i.promise}(fS(t),e)}(function(e,n=!0){(function(s){Po=s})(qD),Es(new A4("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ng(new O4(r.getProvider("auth-internal")),new L4(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Jn(dw,hw,e),Jn(dw,hw,"esm2020")})();var ZM="firebase",eL="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(ZM,eL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const tL={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},nL=ke.INFO,rL={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},sL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iL{constructor(e){this.name=e,this._logLevel=nL,this._logHandler=sL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}function oL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aL(){try{return typeof indexedDB=="object"}catch{return!1}}function lL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function uL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="FirebaseError";let SS=class IS extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cL,Object.setPrototypeOf(this,IS.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AS.prototype.create)}},AS=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?dL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new SS(s,a,r)}};function dL(t,e){return t.replace(hL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hL=/\{\$([^}]+)}/g;function bS(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(u0(i)&&u0(o)){if(!bS(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function u0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1e3,pL=2,mL=4*60*60*1e3,gL=.5;function c0(t,e=fL,n=pL){const r=e*Math.pow(n,t),s=Math.round(gL*r*(Math.random()-.5)*2);return Math.min(mL,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){return t&&t._delegate?t._delegate:t}let d0=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="FirebaseError";class _d extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yL,Object.setPrototypeOf(this,_d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CS.prototype.create)}}class CS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?vL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new _d(s,a,r)}}function vL(t,e){return t.replace(wL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wL=/\{\$([^}]+)}/g;class h0{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const RS="@firebase/installations",cg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1e4,NS=`w:${cg}`,kS="FIS_v2",_L="https://firebaseinstallations.googleapis.com/v1",EL=60*60*1e3,xL="installations",TL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ui=new CS(xL,TL,SL);function DS(t){return t instanceof _d&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS({projectId:t}){return`${_L}/projects/${t}/installations`}function VS(t){return{token:t.token,requestStatus:2,expiresIn:AL(t.expiresIn),creationTime:Date.now()}}async function MS(t,e){const r=(await e.json()).error;return ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function LS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IL(t,{refreshToken:e}){const n=LS(t);return n.append("Authorization",bL(e)),n}async function FS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function AL(t){return Number(t.replace("s","000"))}function bL(t){return`${kS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=OS(t),s=LS(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:kS,appId:t.appId,sdkVersion:NS},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await FS(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:VS(c.authToken)}}else throw await MS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^[cdef][\w-]{21}$/,mp="";function NL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kL(t);return PL.test(n)?n:mp}catch{return mp}}function kL(t){return RL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;function BS(t,e){const n=Ed(t);US(n,e),DL(n,e)}function US(t,e){const n=$S.get(t);if(n)for(const r of n)r(e)}function DL(t,e){const n=OL();n&&n.postMessage({key:t,fid:e}),VL()}let qs=null;function OL(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=t=>{US(t.data.key,t.data.fid)}),qs}function VL(){$S.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firebase-installations-database",LL=1,ci="firebase-installations-store";let kh=null;function dg(){return kh||(kh=V1(ML,LL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ci)}}})),kh}async function Ac(t,e){const n=Ed(t),s=(await dg()).transaction(ci,"readwrite"),i=s.objectStore(ci),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&BS(t,e.fid),e}async function zS(t){const e=Ed(t),r=(await dg()).transaction(ci,"readwrite");await r.objectStore(ci).delete(e),await r.done}async function xd(t,e){const n=Ed(t),s=(await dg()).transaction(ci,"readwrite"),i=s.objectStore(ci),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&BS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t){let e;const n=await xd(t.appConfig,r=>{const s=FL(r),i=jL(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===mp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FL(t){const e=t||{fid:NL(),registrationStatus:0};return HS(e)}function jL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ui.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=$L(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BL(t)}:{installationEntry:e}}async function $L(t,e){try{const n=await CL(t,e);return Ac(t.appConfig,n)}catch(n){throw DS(n)&&n.customData.serverCode===409?await zS(t.appConfig):await Ac(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function BL(t){let e=await f0(t.appConfig);for(;e.registrationStatus===1;)await jS(100),e=await f0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hg(t);return r||n}return e}function f0(t){return xd(t,e=>{if(!e)throw ui.create("installation-not-found");return HS(e)})}function HS(t){return UL(t)?{fid:t.fid,registrationStatus:0}:t}function UL(t){return t.registrationStatus===1&&t.registrationTime+PS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL({appConfig:t,heartbeatServiceProvider:e},n){const r=HL(t,n),s=IL(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:NS,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await FS(()=>fetch(r,a));if(u.ok){const c=await u.json();return VS(c)}else throw await MS("Generate Auth Token",u)}function HL(t,{fid:e}){return`${OS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(t,e=!1){let n;const r=await xd(t.appConfig,i=>{if(!WS(i))throw ui.create("not-registered");const o=i.authToken;if(!e&&GL(o))return i;if(o.requestStatus===1)return n=WL(t,e),i;{if(!navigator.onLine)throw ui.create("app-offline");const a=KL(i);return n=qL(t,a),a}});return n?await n:r.authToken}async function WL(t,e){let n=await p0(t.appConfig);for(;n.authToken.requestStatus===1;)await jS(100),n=await p0(t.appConfig);const r=n.authToken;return r.requestStatus===0?fg(t,e):r}function p0(t){return xd(t,e=>{if(!WS(e))throw ui.create("not-registered");const n=e.authToken;return YL(n)?{...e,authToken:{requestStatus:0}}:e})}async function qL(t,e){try{const n=await zL(t,e),r={...e,authToken:n};return await Ac(t.appConfig,r),n}catch(n){if(DS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ac(t.appConfig,r)}throw n}}function WS(t){return t!==void 0&&t.registrationStatus===2}function GL(t){return t.requestStatus===2&&!QL(t)}function QL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+EL}function KL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function YL(t){return t.requestStatus===1&&t.requestTime+PS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t){const e=t,{installationEntry:n,registrationPromise:r}=await hg(e);return r?r.catch(console.error):fg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e=!1){const n=t;return await ZL(n),(await fg(n,e)).token}async function ZL(t){const{registrationPromise:e}=await hg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){if(!t||!t.options)throw Dh("App Configuration");if(!t.name)throw Dh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Dh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dh(t){return ui.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="installations",t6="installations-internal",n6=t=>{const e=t.getProvider("app").getImmediate(),n=e6(e),r=ml(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},r6=t=>{const e=t.getProvider("app").getImmediate(),n=ml(e,qS).getImmediate();return{getId:()=>XL(n),getToken:s=>JL(n,s)}};function s6(){Es(new h0(qS,n6,"PUBLIC")),Es(new h0(t6,r6,"PRIVATE"))}s6();Jn(RS,cg);Jn(RS,cg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="analytics",i6="firebase_id",o6="origin",a6=60*1e3,l6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt=new iL("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jt=new AS("analytics","Analytics",u6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){if(!t.startsWith(pg)){const e=Jt.create("invalid-gtag-resource",{gtagURL:t});return Pt.warn(e.message),""}return t}function GS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function d6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function h6(t,e){const n=d6("firebase-js-sdk-policy",{createScriptURL:c6}),r=document.createElement("script"),s=`${pg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function f6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function p6(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await GS(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(a){Pt.error(a)}t("config",s,i)}async function m6(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await GS(n);for(const u of o){const c=a.find(f=>f.measurementId===u),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Pt.error(i)}}function g6(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await m6(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await p6(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Pt.error(a)}}return s}function y6(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=g6(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function v6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=30,_6=1e3;class E6{constructor(e={},n=_6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QS=new E6;function x6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function T6(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:x6(n)},s=l6.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const u=await i.json();(o=u.error)!=null&&o.message&&(a=u.error.message)}catch{}throw Jt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function S6(t,e=QS,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Jt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Jt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new b6;return setTimeout(async()=>{a.abort()},a6),KS({appId:r,apiKey:s,measurementId:i},o,a,e)}async function KS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=QS){var a;const{appId:i,measurementId:o}=t;try{await I6(r,e)}catch(u){if(o)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:o};throw u}try{const u=await T6(t);return s.deleteThrottleMetadata(i),u}catch(u){const c=u;if(!A6(c)){if(s.deleteThrottleMetadata(i),o)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw u}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?c0(n,s.intervalMillis,w6):c0(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,f),Pt.debug(`Calling attemptFetch again in ${d} millis`),KS(t,f,r,s)}}function I6(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function A6(t){if(!(t instanceof SS)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class b6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function C6(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function R6(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(){if(aL())try{await lL()}catch(t){return Pt.warn(Jt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Pt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function N6(t,e,n,r,s,i,o){const a=S6(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Pt.error(p)),e.push(a);const u=P6().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,u]);v6(i)||h6(i,c.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[o6]="firebase",f.update=!0,d!=null&&(f[i6]=d),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.app=e}_delete(){return delete Ji[this.app.options.appId],Promise.resolve()}}let Ji={},m0=[];const g0={};let Oh="dataLayer",D6="gtag",y0,mg,v0=!1;function O6(){const t=[];if(oL()&&t.push("This is a browser extension environment."),uL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:e});Pt.warn(n.message)}}function V6(t,e,n){O6();const r=t.options.appId;if(!r)throw Jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jt.create("no-api-key");if(Ji[r]!=null)throw Jt.create("already-exists",{id:r});if(!v0){f6(Oh);const{wrappedGtag:i,gtagCore:o}=y6(Ji,m0,g0,Oh,D6);mg=i,y0=o,v0=!0}return Ji[r]=N6(t,m0,g0,e,y0,Oh,n),new k6(t)}function M6(t=L1()){t=ug(t);const e=ml(t,bc);return e.isInitialized()?e.getImmediate():L6(t)}function L6(t,e={}){const n=ml(t,bc);if(n.isInitialized()){const s=n.getImmediate();if(bS(e,n.getOptions()))return s;throw Jt.create("already-initialized")}return n.initialize({options:e})}function F6(t,e,n){t=ug(t),R6(mg,Ji[t.app.options.appId],e,n).catch(r=>Pt.error(r))}function j6(t,e,n,r){t=ug(t),C6(mg,Ji[t.app.options.appId],e,n,r).catch(s=>Pt.error(s))}const w0="@firebase/analytics",_0="0.10.19";function $6(){Es(new d0(bc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return V6(r,s,n)},"PUBLIC")),Es(new d0("analytics-internal",t,"PRIVATE")),Jn(w0,_0),Jn(w0,_0,"esm2020");function t(e){try{const n=e.getProvider(bc).getImmediate();return{logEvent:(r,s,i)=>j6(n,r,s,i),setUserProperties:(r,s)=>F6(n,r,s)}}catch(n){throw Jt.create("interop-component-reg-failed",{reason:n})}}}$6();const B6={apiKey:"AIzaSyB4UDxpAWp6my_kJCBeU8ZIcBkuoyn7-F0",authDomain:"habu-1gxak2.firebaseapp.com",databaseURL:"https://habu-1gxak2-default-rtdb.firebaseio.com",projectId:"habu-1gxak2",storageBucket:"habu-1gxak2.appspot.com",messagingSenderId:"959927583222",appId:"1:959927583222:web:d1bf5ad476dbfca0ac87d7",measurementId:"G-D60PG3C0C6"},YS=M1(B6);typeof window<"u"&&M6(YS);const U6={ad_impression:"awareness",ad_click:"awareness",landing_page_view:"awareness",social_post_view:"awareness",social_post_engagement:"awareness",initial_contact:"awareness",email_sent:"follow-up",email_opened:"follow-up",email_clicked:"follow-up",phone_call:"follow-up",meeting_scheduled:"follow-up",meeting_completed:"follow-up",app_signup:"follow-up",app_login:"follow-up",deal_closed:"converted",contract_signed:"converted",payment_received:"converted",referral_made:"recommendation",testimonial_given:"recommendation",repeat_purchase:"recommendation"},z6={email:"email",phone:"direct",linkedin:"social",facebook:"social",google_ads:"web",web:"web",app:"web",direct:"direct",other:"direct"},XS=DM(YS),JS="engagements";async function E0(t){const e={...t,timestamp:t.timestamp instanceof Date?Ee.fromDate(t.timestamp):Ee.fromDate(new Date(t.timestamp)),createdAt:Ee.now()};return(await XM(hS(XS,JS),e)).id}async function H6(t,e){let n=Ph(hS(XS,JS),Nh("userId","==",t),WM("timestamp","desc"));e!=null&&e.startDate&&(n=Ph(n,Nh("timestamp",">=",Ee.fromDate(e.startDate)))),e!=null&&e.endDate&&(n=Ph(n,Nh("timestamp","<=",Ee.fromDate(e.endDate))));let i=(await YM(n)).docs.map(o=>{var u,c;const a=o.data();return{id:o.id,...a,timestamp:(u=a.timestamp)==null?void 0:u.toDate(),createdAt:(c=a.createdAt)==null?void 0:c.toDate()}});return e!=null&&e.source&&(i=i.filter(o=>o.source===e.source)),e!=null&&e.eventType&&(i=i.filter(o=>o.eventType===e.eventType)),e!=null&&e.limit&&(i=i.slice(0,e.limit)),i}async function W6(t,e=30){const n=new Date,r=new Date;r.setDate(r.getDate()-e);const s=await H6(t,{startDate:r,endDate:n}),i={awareness:0,"follow-up":0,converted:0,recommendation:0};s.forEach(a=>{const u=U6[a.eventType];u&&i[u]++});const o={web:0,email:0,social:0,direct:0};return s.forEach(a=>{const u=z6[a.source];u&&o[u]++}),{total:s.length,byStage:i,bySource:o,timeRange:{start:r,end:n}}}async function q6(t){const e=[],n=await E0({eventType:"social_post_engagement",source:t.platform,userId:t.userId,timestamp:new Date,metadata:{platform:t.platform,postUrl:t.postUrl,likes:t.likes,comments:t.comments,shares:t.shares,reach:t.reach,impressions:t.impressions,notes:t.notes}});if(e.push(n),t.newContacts&&t.newContacts>0)for(let r=0;r<t.newContacts;r++){const s=await E0({eventType:"initial_contact",source:t.platform,userId:t.userId,timestamp:new Date,metadata:{platform:t.platform,fromSocialPost:!0,postUrl:t.postUrl}});e.push(s)}return e}function G6({userId:t,days:e=30}){const[n,r]=b.useState(null),[s,i]=b.useState(!0),[o,a]=b.useState(null);return b.useEffect(()=>{async function u(){try{i(!0);const c=await W6(t,e);r(c)}catch(c){a(c instanceof Error?c.message:"Failed to load metrics")}finally{i(!1)}}t&&u()},[t,e]),s?w.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:w.jsx("p",{className:"text-gray-500",children:"Loading engagement metrics..."})}):o?w.jsx("div",{className:"p-6 bg-white rounded-lg shadow",children:w.jsxs("p",{className:"text-red-500",children:["Error: ",o]})}):n?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CRM Engagement Tracking"}),w.jsxs("p",{className:"text-sm text-gray-500",children:["Last ",e," days"]})]}),w.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:[w.jsx("p",{className:"text-sm font-medium opacity-90",children:"Total Engagements"}),w.jsx("p",{className:"text-4xl font-bold mt-2",children:n.total}),w.jsxs("p",{className:"text-sm mt-2 opacity-75",children:[new Date(n.timeRange.start).toLocaleDateString()," -"," ",new Date(n.timeRange.end).toLocaleDateString()]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsx(uu,{title:"Awareness",value:n.byStage.awareness,color:"purple",description:"New prospects"}),w.jsx(uu,{title:"Follow-up",value:n.byStage["follow-up"],color:"blue",description:"Active engagement"}),w.jsx(uu,{title:"Converted",value:n.byStage.converted,color:"green",description:"Deals closed"}),w.jsx(uu,{title:"Recommendation",value:n.byStage.recommendation,color:"orange",description:"Referrals & repeat"})]}),w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Engagement by Source"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[w.jsx(cu,{label:"Web",value:n.bySource.web,icon:""}),w.jsx(cu,{label:"Email",value:n.bySource.email,icon:""}),w.jsx(cu,{label:"Social",value:n.bySource.social,icon:""}),w.jsx(cu,{label:"Direct",value:n.bySource.direct,icon:""})]})]})]}):null}function uu({title:t,value:e,color:n,description:r}){return n==="purple"?w.jsxs("div",{className:"rounded-lg border-2 p-4 bg-purple-50 border-purple-200 text-purple-900",children:[w.jsx("p",{className:"text-sm font-medium opacity-75",children:t}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:e}),w.jsx("p",{className:"text-xs mt-1 opacity-60",children:r})]}):n==="blue"?w.jsxs("div",{className:"rounded-lg border-2 p-4 bg-blue-50 border-blue-200 text-blue-900",children:[w.jsx("p",{className:"text-sm font-medium opacity-75",children:t}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:e}),w.jsx("p",{className:"text-xs mt-1 opacity-60",children:r})]}):n==="green"?w.jsxs("div",{className:"rounded-lg border-2 p-4 bg-green-50 border-green-200 text-green-900",children:[w.jsx("p",{className:"text-sm font-medium opacity-75",children:t}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:e}),w.jsx("p",{className:"text-xs mt-1 opacity-60",children:r})]}):w.jsxs("div",{className:"rounded-lg border-2 p-4 bg-orange-50 border-orange-200 text-orange-900",children:[w.jsx("p",{className:"text-sm font-medium opacity-75",children:t}),w.jsx("p",{className:"text-3xl font-bold mt-1",children:e}),w.jsx("p",{className:"text-xs mt-1 opacity-60",children:r})]})}function cu({label:t,value:e,icon:n}){return w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-3xl mb-1",children:n}),w.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),w.jsx("p",{className:"text-sm text-gray-500",children:t})]})}function Q6({userId:t,isOpen:e,onClose:n,onSuccess:r}){const[s,i]=b.useState("social"),[o,a]=b.useState(!1),[u,c]=b.useState(null),[d,f]=b.useState("linkedin"),[p,g]=b.useState(""),[A,_]=b.useState(""),[I,v]=b.useState(""),[y,x]=b.useState(""),[D,O]=b.useState(""),[M,T]=b.useState(""),[E,C]=b.useState(""),[P,N]=b.useState("");if(!e)return null;const k=async R=>{R.preventDefault(),a(!0),c(null);try{await q6({userId:t,platform:d,postUrl:p||void 0,likes:A?parseInt(A):void 0,comments:I?parseInt(I):void 0,shares:y?parseInt(y):void 0,reach:D?parseInt(D):void 0,impressions:M?parseInt(M):void 0,newContacts:E?parseInt(E):void 0,notes:P||void 0}),g(""),_(""),v(""),x(""),O(""),T(""),C(""),N(""),r==null||r(),n()}catch(H){c(H instanceof Error?H.message:"Failed to track engagement")}finally{a(!1)}};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"p-6 border-b",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Engagement"}),w.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"flex gap-4 mt-4",children:[w.jsx("button",{onClick:()=>i("social"),className:`px-4 py-2 rounded-md font-medium ${s==="social"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:" Social Post"}),w.jsx("button",{onClick:()=>i("email"),className:`px-4 py-2 rounded-md font-medium ${s==="email"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:" Email"}),w.jsx("button",{onClick:()=>i("meeting"),className:`px-4 py-2 rounded-md font-medium ${s==="meeting"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:" Meeting"})]})]}),w.jsxs("div",{className:"p-6",children:[u&&w.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:u}),s==="social"&&w.jsxs("form",{onSubmit:k,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{type:"button",onClick:()=>f("linkedin"),className:`flex-1 p-3 rounded-lg border-2 font-medium ${d==="linkedin"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600"}`,children:"LinkedIn"}),w.jsx("button",{type:"button",onClick:()=>f("facebook"),className:`flex-1 p-3 rounded-lg border-2 font-medium ${d==="facebook"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600"}`,children:"Facebook"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Post URL (optional)"}),w.jsx("input",{type:"url",value:p,onChange:R=>g(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"https://linkedin.com/posts/..."})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Likes"}),w.jsx("input",{type:"number",value:A,onChange:R=>_(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"0",min:"0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comments"}),w.jsx("input",{type:"number",value:I,onChange:R=>v(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"0",min:"0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shares"}),w.jsx("input",{type:"number",value:y,onChange:R=>x(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"0",min:"0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reach"}),w.jsx("input",{type:"number",value:D,onChange:R=>O(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"0",min:"0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impressions"}),w.jsx("input",{type:"number",value:M,onChange:R=>T(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"0",min:"0"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Contacts"}),w.jsx("input",{type:"number",value:E,onChange:R=>C(R.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"0",min:"0"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),w.jsx("textarea",{value:P,onChange:R=>N(R.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,placeholder:"Additional context about this engagement..."})]}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),w.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":"Add Engagement"})]})]}),s==="email"&&w.jsxs("div",{className:"text-center py-8 text-gray-500",children:[w.jsx("p",{children:"Email tracking is automated via Gmail sync."}),w.jsx("p",{className:"text-sm mt-2",children:'Label emails with "RealDeal" to track them.'})]}),s==="meeting"&&w.jsx("div",{className:"text-center py-8 text-gray-500",children:w.jsx("p",{children:"Meeting tracking coming soon!"})})]})]})})}const x0="default_user";function K6(){const[t,e]=b.useState(!1),[n,r]=b.useState(0),s=()=>{r(i=>i+1)};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("div",{className:"bg-white border-b",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"py-6 md:flex md:items-center md:justify-between",children:[w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM & Engagement Tracking"}),w.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track all interactions with prospects, investors, and clients"})]}),w.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:w.jsxs("button",{onClick:()=>e(!0),className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[w.jsx("svg",{className:"mr-2 -ml-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Engagement"]})})]})})}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsx(G6,{userId:x0,days:30},n),w.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsx(Vh,{icon:"",title:"Gmail Sync",description:"Emails labeled 'RealDeal' are automatically tracked",status:"Active",statusColor:"green"}),w.jsx(Vh,{icon:"",title:"Daily Automation",description:"Syncs run every morning at 7:00 AM",status:"Enabled",statusColor:"blue"}),w.jsx(Vh,{icon:"",title:"SendGrid",description:"Automated email sending ready to configure",status:"Pending",statusColor:"orange"})]}),w.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx(du,{title:"View Firestore",description:"Check engagement events in Firebase",href:"https://console.firebase.google.com/project/habu-1gxak2/firestore",external:!0}),w.jsx(du,{title:"Setup SendGrid",description:"Complete email sending configuration",href:"/docs/sendgrid-setup"}),w.jsx(du,{title:"Gmail Labels",description:"Manage your RealDeal label in Gmail",href:"https://mail.google.com/",external:!0}),w.jsx(du,{title:"Documentation",description:"View complete CRM system guide",href:"/docs/crm-complete"})]})]})]}),w.jsx(Q6,{userId:x0,isOpen:t,onClose:()=>e(!1),onSuccess:s})]})}function Vh({icon:t,title:e,description:n,status:r,statusColor:s}){return w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("div",{className:"text-4xl mb-3",children:t}),w.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),w.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n}),s==="green"&&w.jsx("span",{className:"mt-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:r}),s==="blue"&&w.jsx("span",{className:"mt-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:r}),s==="orange"&&w.jsx("span",{className:"mt-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:r})]})}function du({title:t,description:e,href:n,external:r}){return w.jsx("a",{href:n,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"block p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:shadow-md transition-all",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium text-gray-900",children:t}),w.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e})]}),r&&w.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})}const Y6=()=>{const t=x1();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),w.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},X6=new IN,J6=()=>w.jsx(bN,{client:X6,children:w.jsxs(J2,{children:[w.jsx(DR,{}),w.jsx(dP,{}),w.jsx(pk,{children:w.jsxs(dk,{children:[w.jsx(bu,{path:"/",element:w.jsx(Pk,{})}),w.jsx(bu,{path:"/crm",element:w.jsx(K6,{})}),w.jsx(bu,{path:"*",element:w.jsx(Y6,{})})]})})]})});qE(document.getElementById("root")).render(w.jsx(J6,{}));
